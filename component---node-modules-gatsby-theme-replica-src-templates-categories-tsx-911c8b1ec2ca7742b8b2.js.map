{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-replica/src/templates/categories.tsx"],"names":["query","CategoriesTemplate","data","categories","useMemo","Object","entries","allMdx","nodes","reduce","acc","posts","category","frontmatter","UNCATEGORIZED","count","mode","LayoutMode","NavTab","map","key","to","CATEGORY_DIR","slugify"],"mappings":"4FAAA,sHAOaA,EAAQ,aAsDNC,UA9BuB,SAAC,GAAa,IAAXC,EAAW,EAAXA,KAEjCC,EAAaC,mBACjB,kBACEC,OAAOC,QACLJ,EAAKK,OAAOC,MAAMC,QAA+B,SAACC,EAAKC,GACrD,IAAMC,EAAWD,EAAME,YAAYD,UAAYE,gBACzCC,EAAQL,EAAIE,IAAa,EAE/B,OADAF,EAAIE,GAAYG,EAAQ,EACjBL,IACN,OAEP,IAGF,OACE,kBAAC,IAAD,CAAQM,KAAMC,IAAWC,QACvB,4BACGf,EAAWgB,KAAI,gBAAEP,EAAF,KAAYG,EAAZ,YACd,wBAAIK,IAAKR,GACP,kBAAC,IAAD,CAAMS,GAAE,IAAMC,eAAN,IAAsBC,kBAAQX,IACnCA,EADH,KACeG,EADf","file":"component---node-modules-gatsby-theme-replica-src-templates-categories-tsx-911c8b1ec2ca7742b8b2.js","sourcesContent":["import { Link, graphql } from 'gatsby';\nimport React, { FC, useMemo } from 'react';\n\nimport Layout, { LayoutMode } from '../components/Layout';\nimport { CATEGORY_DIR, UNCATEGORIZED } from '../constants/key';\nimport { slugify } from '../utils/slugify';\n\nexport const query = graphql`\n  query CategoryListQuery {\n    allMdx(filter: { slug: { ne: \"README\" } }) {\n      nodes {\n        frontmatter {\n          category\n        }\n      }\n    }\n  }\n`;\n\ninterface Props {\n  data: {\n    allMdx: {\n      nodes: {\n        frontmatter: {\n          category: string;\n        };\n      }[];\n    };\n  };\n}\n\nconst CategoriesTemplate: FC<Props> = ({ data }) => {\n  // todo allow sort by alphabet & count\n  const categories = useMemo(\n    () =>\n      Object.entries(\n        data.allMdx.nodes.reduce<Record<string, number>>((acc, posts) => {\n          const category = posts.frontmatter.category || UNCATEGORIZED;\n          const count = acc[category] || 0;\n          acc[category] = count + 1;\n          return acc;\n        }, {})\n      ),\n    []\n  );\n\n  return (\n    <Layout mode={LayoutMode.NavTab}>\n      <ul>\n        {categories.map(([category, count]) => (\n          <li key={category}>\n            <Link to={`/${CATEGORY_DIR}/${slugify(category)}`}>\n              {category} ({count})\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </Layout>\n  );\n};\n\nexport default CategoriesTemplate;\n"],"sourceRoot":""}