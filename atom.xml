<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°ç™½å¦¹å¦¹å†™ä»£ç </title>
  <icon>https://www.gravatar.com/avatar/33db386efb13607178f855fd69e73158</icon>
  <subtitle>ä¸€ä¸ªåºŸè¯å¾ˆå¤šçš„ç¨‹åºåª›</subtitle>
  <link href="/tech/atom.xml" rel="self"/>
  
  <link href="http://sabrinaluo.com/tech/"/>
  <updated>2018-01-05T07:59:05.676Z</updated>
  <id>http://sabrinaluo.com/tech/</id>
  
  <author>
    <name>HiiTea</name>
    <email>luohaojing[at]gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç¥å¥‡çš„toLocaleString, Intl.NumberFormat</title>
    <link href="http://sabrinaluo.com/tech/2018/01/05/the-magic-of-tolocalestring/"/>
    <id>http://sabrinaluo.com/tech/2018/01/05/the-magic-of-tolocalestring/</id>
    <published>2018-01-05T04:00:00.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€å¦‚ä¹‹å‰æåˆ°çš„ï¼Œç”±äºæˆ‘çš„å·¥ä½œä¸­ä¼šæ¥è§¦åˆ°å¾ˆå¤šinternationalizationçš„å†…å®¹ï¼Œå¯¹äºè´§å¸ã€æ•°å­—ç­‰çš„foatmattingéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚åœ¨æˆ‘çœ‹åˆ°è¿™æ¡é—®é¢˜<a href="https://stackoverflow.com/questions/8043026/javascript-format-number-to-have-2-digit" target="_blank" rel="noopener">^1</a>ä¹‹å‰ï¼Œå¹¶ä¸çŸ¥é“<code>toLocaleString</code>çš„ç”¨æ³•å’Œä½œç”¨ã€‚æˆ‘ä»¬è‡ªå·±çš„codebaseä¸­ï¼Œå…³äºå›½é™…åŒ–çš„éƒ¨åˆ†æ˜¯å†™äº†è‡ªå·±çš„serviceæ¥å®ç°ä¸åŒå›½å®¶çš„è´§å¸æ ¼å¼ï¼Œç»å¸¸éƒ½æœ‰å„ç§Bugï¼Œå¯ä»¥è¯´æ˜¯éå¸¸è¾£é¸¡äº†â€¦</p><p>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯éœ€è¦ç…§é¡¾IEæˆ–è€…éƒ¨åˆ†æ‰‹æœºæµè§ˆå™¨ï¼Œä»è€Œé™åˆ¶äº†<code>toLocaleString</code>çš„ä½¿ç”¨ï¼Œå…·ä½“åŸå› æ— æ³•è¿½æº¯â€¦</p><h3 id="å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦"><a href="#å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦"></a>å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦</h3><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾ç¤ºçš„æ•°å­—<strong>å€¼</strong>ä¸º1, 2, 3 â€¦ 10, 11 ..ã€‚ 100, 200ç­‰ç­‰ï¼Œä½†å¸Œæœ›æ˜¾ç¤ºçš„æ ¼å¼ä¸ºæ‰€æœ‰æ•°å­—éƒ½æ˜¯å›ºå®šçš„ä¸‰ä½æ•°ï¼Œ001, 002è¿™æ ·<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span>;</span><br><span class="line">number.toLocaleString(<span class="string">'en-US'</span>,&#123;<span class="attr">minimumIntegerDigits</span>:<span class="number">3</span>, <span class="attr">useGrouping</span>: <span class="literal">false</span>&#125;);</span><br><span class="line"><span class="comment">// output '001'</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœ<code>locale</code>ä¸º<code>undefined</code> (ä¸Šä¾‹ä¸­ä¸º<code>en-US</code>)ï¼Œåˆ™é»˜è®¤å€¼ä¸ºç³»ç»Ÿçš„localeï¼Œå³<code>navigator.language</code></p><p>ä¸ä½¿ç”¨<code>toLocaleString</code>çš„å®ç°æ–¹æ³•ï¼šæ€è·¯æ˜¯å°†å¸¦è½¬æ¢æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²åï¼Œåœ¨å‰é¢è¡¥è¶³å¤Ÿå¤šçš„é›¶ï¼Œç„¶åç”¨<code>slice</code>è·å–éœ€è¦çš„æœ€åè‹¥å¹²ä½æ•°ã€‚ï¼ˆæˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§å®ç°æ–¹æ³•çš„æ—¶å€™è§‰å¾—ï¼Œå“‡ï¼Œè¿˜æœ‰è¿™ç§éªšæ“ä½œï¼ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">12</span>;</span><br><span class="line">(<span class="string">'00'</span>+ number).slice(<span class="number">-3</span>);</span><br><span class="line"><span class="comment">// â†’ '012'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> number = <span class="number">1</span>;</span><br><span class="line">(<span class="string">'00'</span>+ number).slice(<span class="number">-3</span>);</span><br><span class="line"><span class="comment">// â†’ '001'</span></span><br></pre></td></tr></table></figure></p><h3 id="Intl-NumberFormat"><a href="#Intl-NumberFormat" class="headerlink" title="Intl.NumberFormat"></a>Intl.NumberFormat</h3><p>å½“éœ€è¦æ ¼å¼åŒ–çš„æ•°å­—è¾ƒå¤§æ—¶ï¼ˆå¤šé•¿ç®—å¤§å‘¢ï¼ŸğŸ¤”ï¼‰ï¼Œä¸ºäº†ä½¿æ€§èƒ½æ›´å¥½ï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ª<code>Intl.NumberFormat</code>å®ä¾‹ï¼Œä½¿ç”¨å…¶<code>format</code>æ–¹æ³•æ¥æ ¼å¼åŒ–ã€‚</p><blockquote><p>When formatting large numbers of numbers, it is better to create a NumberFormat object and use the function provided by its <code>NumberFormat.format</code> property. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString" target="_blank" rel="noopener">^2</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat" target="_blank" rel="noopener">^3</a></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">123456.789</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Intl</span>.NumberFormat(<span class="string">'en-US'</span>).format(number));</span><br><span class="line"><span class="comment">// â†’ 123,456.789</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€å¦‚ä¹‹å‰æåˆ°çš„ï¼Œç”±äºæˆ‘çš„å·¥ä½œä¸­ä¼šæ¥è§¦åˆ°å¾ˆå¤šinternationalizationçš„å†…å®¹ï¼Œå¯¹äºè´§å¸ã€æ•°å­—ç­‰çš„foatmattingéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚åœ¨æˆ‘çœ‹åˆ°è¿™æ¡é—®é¢˜&lt;a href=&quot;https://stackoverflow.com/questions/8043026/java
      
    
    </summary>
    
      <category term="JS" scheme="http://sabrinaluo.com/tech/categories/JS/"/>
    
    
      <category term="JS" scheme="http://sabrinaluo.com/tech/tags/JS/"/>
    
      <category term="internationalization" scheme="http://sabrinaluo.com/tech/tags/internationalization/"/>
    
      <category term="å›½é™…åŒ–" scheme="http://sabrinaluo.com/tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>angularæŒ‡ä»¤ä»€ä¹ˆæƒ…å†µä¸‹åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ (root element)</title>
    <link href="http://sabrinaluo.com/tech/2017/12/05/angular-directive-only-one-root-element/"/>
    <id>http://sabrinaluo.com/tech/2017/12/05/angular-directive-only-one-root-element/</id>
    <published>2017-12-05T07:28:03.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…ä¹ˆæœ‰è®°å½•ä»€ä¹ˆæœ‰ç”¨çš„çŸ¥è¯†äº†ï¼Œæ€»æ˜¯çŒ´å­æ°ç‰ç±³ä¼¼çš„å­¦ç‚¹å¿˜ç‚¹:(</p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>åœ¨å†™è‡ªå®šä¹‰æŒ‡ä»¤(custom directive)çš„æ—¶å€™ï¼Œç»å¸¸é‡åˆ°ä¸‹é¢è¿™ä¸ªé”™è¯¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: [$compile:tplrt] Template for directive &apos;xxx&apos; must have exactly one root element.</span><br></pre></td></tr></table></figure></p><p>ä½†æœ‰æ—¶å€™åˆå‘ç°åˆ«äººå†™çš„æŒ‡ä»¤è¶…è¿‡ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œå´å¹¶æ²¡æœ‰æŠ¥é”™ï¼ŒçœŸæ˜¯éå¸¸çš„confusingğŸ¤”</p><h3 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h3><p>å®˜è®¿æ–‡æ¡£åœ¨directiveä¸€èŠ‚æ˜¯æ‰¾ä¸åˆ°ä»»ä½•å’Œreplaceæœ‰å…³çš„ä¸œè¥¿ï¼Œåæ¥æ˜¯åœ¨$compileä¸€èŠ‚æ‰¾åˆ°çš„ï¼Œç„¶è€Œåˆå·²ç»å¼ƒç”¨äº†â€¦â€¦(åˆè¦æ„Ÿå¹äº†ï¼Œå‰ç«¯åœˆçœŸç‰¹å–µéš¾æ··)</p><p>ä»¥ä¸‹ä¸ºæ–‡æ¡£è¯´æ˜</p><blockquote><p>replace (DEPRECATED)  </p><ul><li>replace will be removed in next major release - i.e. v2.0).  </li><li>Specifies what the template should replace. Defaults to false.  <ul><li>true - the template will replace the directiveâ€™s element.  </li><li>false - the template will replace the contents of the directiveâ€™s element.  </li></ul></li><li>The replacement process migrates all of the attributes / classes from the old element to the new one. See the Directives Guide for an example.</li></ul></blockquote><p>å¤§æ¦‚æ˜¯è¯´è¿™ä¸ªreplaceå±æ€§æ²¡ä»€ä¹ˆåµç”¨â€¦å®é™…ä½¿ç”¨çš„æ—¶å€™ä¹Ÿè§‰å¾—æ²¡ä»€ä¹ˆåœºæ™¯æ˜¯éè¦replaceä¸å¯çš„ï¼Œä¸è¿‡ä¸ºäº†é¿å…åœ¨jq selectoré‡Œä½¿ç”¨ä¸€å †è«åå…¶å¦™çš„domåç§°ï¼Œreplaceä¸€ä¸‹è®©Htmlçœ‹èµ·æ¥æ›´æ­£å¸¸ä¸€ç‚¹ï¼ˆå¯¹ï¼Œæˆ‘ä»¬å°±æ˜¯jQueryå’Œangularæ··ç”¨ï¼Œå°±æ˜¯è¿™ä¹ˆä»»ï¼æ€§ï¼ğŸ¤·â€ï¼‰</p><h3 id="æ„Ÿæ‚Ÿ"><a href="#æ„Ÿæ‚Ÿ" class="headerlink" title="æ„Ÿæ‚Ÿ"></a>æ„Ÿæ‚Ÿ</h3><p>åœ¨å†™ç»„ä»¶templateçš„æ—¶å€™ç”¨æ ¹å…ƒç´ æŠŠå…¶ä»–å…ƒç´ wrapèµ·æ¥ï¼Œå…¶å®ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ ¹å…ƒç´ ä¸Šå¯ä»¥æœ‰css classï¼Œåœ¨ä½¿ç”¨sassä¹‹ç±»çš„cssé¢„å¤„ç†å™¨æ—¶ï¼Œæœ‰æ ¹ç±»ä¼šä½¿å¾—ç»´æŠ¤æˆæœ¬å˜ä½</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå­˜åœ¨æœ‰å¤šä½™ä¸€ä¸ªæ ¹å…ƒç´ çš„ç»„ä»¶å‘¢ï¼Ÿ</p><p>æˆ‘ä¸ªäººçš„æ„Ÿè§‰æ˜¯ï¼Œç»„ä»¶åœ¨æœ€åˆè®¾è®¡æ—¶ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘åˆ°ä¹‹åçš„æ‰©å±•æ€§ï¼Œæ¯”å¦‚è¦å†™ä¸€ä¸ªdropdownç»„ä»¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯æŠŠselectå…ƒç´ ä½œä¸ºæ ¹å…ƒç´ ï¼Œäºæ˜¯æ¨¡æ¿æˆäº†è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select class=&quot;xxxx&quot;&gt;</span><br><span class="line">...</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure></p><p>ä¹‹åæ¥äº†ä¸ªéœ€æ±‚ï¼šå½“æ‰€é€‰çš„é€‰é¡¹æ˜¯æŸä¸€äº›ç‰¹å®šé€‰é¡¹æ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªerror messageã€‚è¿™ä¸€ä¸‹å°±æ¯”è¾ƒå°´å°¬äº†â€¦â€¦</p><p>error messageè¿™ä¸ª<code>div</code>åªèƒ½å’Œ<code>select</code>åŒä¸€ä¸ªlevelæ‰è¡Œï¼Œå› ä¸ºåŠ åœ¨<code>select</code>é‡Œæ˜¯è‚¯å®šä¸ä¼šæ˜¾ç¤ºçš„ã€‚è€Œä¸€æ—¦æ–°åŠ ä¸€ä¸ªwrapperæŠŠä¹‹å‰çš„æ¨¡æ¿åŒ…èµ·æ¥ï¼Œä¹‹å‰çš„csså¯èƒ½éƒ½è¦é‡å†™æ‰ä¼šçœ‹èµ·æ¥æ²¡æœ‰å˜åŒ–ã€‚æ­¤æ—¶å½±å“æœ€å°çš„åšæ³•å°±æ˜¯ç§»é™¤æŒ‡ä»¤ä¸­çš„<code>replace:true</code>å±æ€§ï¼Œç„¶ååŠ å¤šä¸€ä¸ªæ ¹å…ƒç´ äº†ğŸ˜‚</p><p>Angularæœ¬èº«compileçš„æœºåˆ¶æ˜¯ï¼Œå¦‚æœæ²¡æœ‰replace:trueï¼Œé»˜è®¤å°±æ˜¯falseï¼Œ<strong>ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª<code>&lt;directive-name&gt;</code>å…ƒç´ ä½œä¸ºæ ¹å…ƒç´ </strong>åŒ…è£¹ä½æ¨¡æ¿ä¸­çš„å…¨éƒ¨å†…å®¹ã€‚</p><p>ä»¥ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½ä¹…ä¹ˆæœ‰è®°å½•ä»€ä¹ˆæœ‰ç”¨çš„çŸ¥è¯†äº†ï¼Œæ€»æ˜¯çŒ´å­æ°ç‰ç±³ä¼¼çš„å­¦ç‚¹å¿˜ç‚¹:(&lt;/p&gt;
&lt;h3 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h3&gt;&lt;p&gt;åœ¨å†™è‡ªå®šä¹‰æŒ‡ä»¤(custom directive)çš„æ—¶å€™ï¼Œç»å¸¸é‡
      
    
    </summary>
    
      <category term="AngularJS" scheme="http://sabrinaluo.com/tech/categories/AngularJS/"/>
    
    
      <category term="angular" scheme="http://sabrinaluo.com/tech/tags/angular/"/>
    
      <category term="directive" scheme="http://sabrinaluo.com/tech/tags/directive/"/>
    
  </entry>
  
  <entry>
    <title>Angular directiveæŒ‡ä»¤ç›¸å…³çš„scopeé—®é¢˜(= @ &amp; ?)</title>
    <link href="http://sabrinaluo.com/tech/2017/09/01/angular-directive-scope/"/>
    <id>http://sabrinaluo.com/tech/2017/09/01/angular-directive-scope/</id>
    <published>2017-09-01T07:59:44.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope"><a href="#è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope" class="headerlink" title="è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope"></a>è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope</h3><p>æ¯æ¬¡è¯´åˆ°directive, isolated scopeæ€»æ˜¯è¦è¢«æèµ·çš„â€¦å®˜æ–¹çš„ä¾‹å­å·²ç»å¾ˆå¥½çš„è¯´æ˜äº†ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦isolated scopeã€‚å½“æ²¡æœ‰isolated scopeçš„æ—¶å€™ï¼Œdirectiveä¾èµ–äºcontrollerçš„scopeï¼Œè¿™æ ·æ¯æ¬¡ä½¿ç”¨directiveï¼Œéƒ½éœ€è¦åˆ›å»ºæ–°çš„controllerã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"NaomiController"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-customer</span>&gt;</span><span class="tag">&lt;/<span class="name">my-customer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"IgorController"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-customer</span>&gt;</span><span class="tag">&lt;/<span class="name">my-customer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">'docsScopeProblemExample'</span>, [])</span><br><span class="line">.controller(<span class="string">'NaomiController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.customer = &#123;</span><br><span class="line">    name: <span class="string">'Naomi'</span>,</span><br><span class="line">    address: <span class="string">'1600 Amphitheatre'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.controller(<span class="string">'IgorController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.customer = &#123;</span><br><span class="line">    name: <span class="string">'Igor'</span>,</span><br><span class="line">    address: <span class="string">'123 Somewhere'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.directive(<span class="string">'myCustomer'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>,</span><br><span class="line">    template: <span class="string">'&lt;div&gt;Name: &#123;&#123;customer.name&#125;&#125; Address: &#123;&#123;customer.address&#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Isolated scope å…¶å®å°±æ˜¯å½“ä½ åœ¨directiveé‡Œè¦returnçš„é‚£ä¸ªobjecté‡Œï¼Œå®šä¹‰ä¸€ä¸ªscopeå±æ€§ï¼Œè¿™ä¸ª<code>scope</code>ä¼šoverride controllerä¸­çš„<code>$scope</code>ï¼Œä»è€Œå®ç°isolatedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">'docsIsolateScopeDirective'</span>, [])</span><br><span class="line">.controller(<span class="string">'Controller'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.naomi = &#123; <span class="attr">name</span>: <span class="string">'Naomi'</span>, <span class="attr">address</span>: <span class="string">'1600 Amphitheatre'</span> &#125;;</span><br><span class="line">  $scope.igor = &#123; <span class="attr">name</span>: <span class="string">'Igor'</span>, <span class="attr">address</span>: <span class="string">'123 Somewhere'</span> &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.directive(<span class="string">'myCustomer'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>,</span><br><span class="line">    scope: &#123;</span><br><span class="line">      customerInfo: <span class="string">'='</span></span><br><span class="line">    &#125;,</span><br><span class="line">    templateUrl: <span class="string">'my-customer-iso.html'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="amp"><a href="#amp" class="headerlink" title="= &amp; @ ?"></a><code>=</code> <code>&amp;</code> <code>@</code> <code>?</code></h3><p>é€šå¸¸åœ¨å†™Angularçš„æ—¶å€™ç»å¸¸çœ‹åˆ°åˆ«äººçš„æŒ‡ä»¤scopeé‡Œä¼šæœ‰ä¸‹é¢ç€è¿™æ ·<code>=</code> <code>@</code> <code>&amp;</code>çš„ç¬¦å·ï¼Œæˆ‘è‡ªå·±å‘¢ï¼Œ90%çš„æ—¶å€™éƒ½æ˜¯ç”¨<code>=</code>ï¼Œä¹Ÿä¸çŸ¥é“å…¶ä»–ç¬¦å·åˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚ä»Šå¤©æ— å¿ƒå·¥ä½œï¼Œä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        scope: &#123;</span><br><span class="line">            optionOne: <span class="string">'='</span>,</span><br><span class="line">            optionTwo: <span class="string">'=?'</span>,</span><br><span class="line">            optionThree: <span class="string">'@'</span>,</span><br><span class="line">            optionFour: <span class="string">'&amp;'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="åŒå‘ç»‘å®š-two-way-binding"><a href="#åŒå‘ç»‘å®š-two-way-binding" class="headerlink" title="= åŒå‘ç»‘å®š(two way binding)"></a><code>=</code> åŒå‘ç»‘å®š(two way binding)</h4><p>è¿™ä¸ªå¥½ç†è§£ï¼Œçˆ¶å­ä¸¤ä¸ªscopeï¼Œä»»ä½•ä¸€ä¸ªæ”¹å˜ï¼Œå‰©ä¸‹çš„ä¸€ä¸ªä¹Ÿè·Ÿç€ä¸€èµ·æ”¹å˜</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¼ å…¥å‚æ•°æ—¶ï¼Œæ˜¯æ²¡æœ‰èŠ±æ‹¬å·çš„<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">options</span>=<span class="string">"options"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å•å‘ç»‘å®š-one-way-binding"><a href="#å•å‘ç»‘å®š-one-way-binding" class="headerlink" title="@ å•å‘ç»‘å®š(one way binding)"></a><code>@</code> å•å‘ç»‘å®š(one way binding)</h4><p>é¦–å…ˆï¼Œå•å‘ç»‘å®šä¼ å…¥çš„æ˜¯ä¸€ä¸ª<strong>å­—ï¼ç¬¦ï¼ä¸²ï¼</strong>ï¼›å…¶æ¬¡ï¼Œçˆ¶scopeæ”¹å˜å­scopeè·Ÿç€å˜ï¼Œä½†å­scopeæ”¹å˜æ—¶ï¼Œçˆ¶scopeä¸ä¼šæ”¹å˜ï¼</p><p>ç”±äºä¼ å…¥çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ˜¯éœ€è¦èŠ±æ‹¬å·çš„ï¼Œå¦‚ä¸‹ï¼Œå‡å¦‚çˆ¶scopeä¸­<code>name=&#39;Lucy&#39;</code>ï¼Œç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ”¶åˆ°çš„æ˜¯<code>&#39;name&#39;</code>è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªæŒ‡ä»¤æ¥å—çš„æ‰æ˜¯<code>&#39;Lucy&#39;</code>è¿™ä¸ªå­—ç¬¦ä¸²<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">name</span>=<span class="string">"&#123;&#123;name&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="amp-ç»‘å®šå‡½æ•°"><a href="#amp-ç»‘å®šå‡½æ•°" class="headerlink" title="&amp; ç»‘å®šå‡½æ•°"></a><code>&amp;</code> ç»‘å®šå‡½æ•°</h4><blockquote><p>The <code>&amp;</code> binding allows a directive to trigger evaluation of an expression in the context of the original scope</p></blockquote><p><code>&amp;</code>ç»‘å®šå…è®¸æŒ‡ä»¤è§¦å‘åŸå§‹scope(æŒ‡ä»¤æ‰€åœ¨çš„çˆ¶å…ƒç´ çš„scope)ä¸­çš„å‡½æ•°</p><blockquote><p>Best Practice: use <code>&amp;attr</code> in the <code>scope</code> option when you want your directive to expose an API for binding to behaviors.</p></blockquote><p>å¯ä»¥ç†è§£ä¸ºä¼ å…¥ä¸€ä¸ª<strong>å›è°ƒå‡½æ•°</strong>ç»™æŒ‡ä»¤ï¼ŒæŒ‡ä»¤è§¦å‘è¯¥å‡½æ•°ï¼Œä½†è¯¥å‡½æ•°å¹¶ä¸å®šä¹‰åœ¨æŒ‡ä»¤çš„scopeä¸­ã€‚å› ä¸ºå¦‚æœè¯¥å‡½æ•°å®šä¹‰åœ¨directiveçš„scopeä¸­ï¼Œåˆ™é€»è¾‘æ˜¯å›ºå®šçš„ï¼Œä»å¤–éƒ¨ä¼ å…¥çš„è¯ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„é€»è¾‘çš„å‡½æ•°ã€‚</p><p>æˆ‘çš„ä¸€äº›<strong>Anti-pattern</strong></p><ul><li>å…³äºå‡½æ•°ç»‘å®šè¿™ä¸ªäº‹ï¼Œæˆ‘é€šå¸¸ç›´æ¥ç”¨<code>=</code>ç»‘å®šå‡½æ•°ï¼Œä¹Ÿèƒ½ç”¨â€¦â€¦ä½†è¿™ä¸ªè‚¯å®šæœ‰ä»€ä¹ˆæ½œåœ¨çš„é—®é¢˜æˆ‘æ²¡å‘ç°ï¼›  </li><li>æˆ‘çš„å¦ä¸€ç§ç”¨æ³•æ˜¯ï¼Œä»ç„¶ç”¨<code>=</code>ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼ŒæŠŠå‡½æ•°æ”¾åœ¨å¯¹è±¡é‡Œï¼Œæ¯”å¦‚ç»‘å®šçš„æ˜¯<code>options</code>è¿™ä¸ªå¯¹è±¡ï¼Œä½†å¯¹è±¡ä¸­æœ‰<code>options.sayHi</code>è¿™ä¸ªå±æ€§ï¼ˆå…¶å®æ˜¯ä¸ªå‡½æ•°ï¼‰ã€‚</li></ul><p>æˆ‘èƒ½æƒ³åˆ°çš„æ½œåœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œä¼šå­˜åœ¨<code>undefined is not a function</code>ï¼Œä½†å¦‚æœæ£€æŸ¥ä¸€ä¸‹å±æ€§æ˜¯å¦å­˜åœ¨æ˜¯å¦ç±»å‹functionä¸å°±å¯ä»¥äº†ï¼Ÿï¼Ÿï¼Ÿæˆ‘çŸ¥é“å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œä½†åˆ°åº•ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼ŸğŸ¤”</p><p>â€”- æ›´æ–° â€”-<br>å¤§æ¦‚çŸ¥é“åŸå› äº†â€¦ä¸ç”¨<code>@</code>å¾ˆå¥½ç†è§£ï¼Œç”¨<code>@</code>ä¼ å…¥çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯å‡½æ•°ï¼›è€Œä¸ç”¨<code>=</code>å› ä¸ºåŒå‘ç»‘å®šå­˜åœ¨å­scopeæ”¹å˜çˆ¶scopeä¸­çš„å‡½æ•°çš„é£é™©ï¼Œå¹¶ä¸”ä¹Ÿä¼šæœ‰<code>$watch</code>çš„å¼€é”€ï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“æ€§èƒ½ã€‚<br><a href="https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link" target="_blank" rel="noopener">https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link</a></p><p><code>&amp;</code>ç»‘å®šåï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¿”å›çˆ¶scopeä¸­å¯¹åº”å‡½æ•°çš„å‡½æ•°ğŸ˜‚ï¼Œæœ‰ç‚¹æ‹—å£ã€‚ä¸¾ä¸ªæ —å­ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">callback</span>=<span class="string">"sayHi(a,b,c)"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>æŒ‡ä»¤ä¸­çš„<code>scope.callback</code>å€¼ä¸º<code>function(locals){ return parentGet(scope, locals);}</code></p><p>æ‰€ä»¥<code>scope.callback({a:1,b:2,c:3})</code>ç­‰ä»·äº<code>parentScope.sayHi(1,2,3)</code><br>éœ€è¦æ³¨æ„çš„æ˜¯:</p><ul><li><code>scope.callback({a:1,b:2,c:3})</code>çš„å…¥å‚æ˜¯ä¸€ä¸ª<code>object</code></li><li>å¦‚æœæ˜¯è¿™æ ·<code>scope.callback({a:1,b:2})</code>ï¼Œåˆ™<code>c</code>çš„å€¼ä¼šä¸<code>parentScope.c</code>ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<strong>å­scope</strong>ä¼ å…¥çš„<code>obj</code>ä¸­æ²¡æœ‰å®šä¹‰å¯¹åº”å‚æ•°ï¼Œå„å‚æ•°çš„é»˜è®¤å€¼ä¸<code>parentScope</code>ä¸­çš„å¯¹åº”å€¼ä¸€è‡´ã€‚å¦‚æœ<strong>çˆ¶å­scope</strong>ä¸­éƒ½æ²¡æœ‰å®šä¹‰ç›¸å…³å‚æ•°ï¼Œåˆ™ä¸º<code>undefined</code></li></ul><h4 id=""><a href="#" class="headerlink" title="?"></a><code>?</code></h4><p>é—®å·è¿™ä¸ªæŒºç®€å•çš„ï¼Œè·Ÿglobå•Šï¼Œæ­£åˆ™çš„é‡Œé¢çš„<code>?</code>æ„æ€ç›¸ä¼¼ï¼Œå°±æ˜¯è¯´è¯¥å±æ€§æ˜¯å¦æ˜¯å¿…éœ€é€‰é¡¹ï¼Œå½“æœ‰é—®å·çš„æ—¶å€™ï¼Œè¯´æ˜å¯¹åº”çš„å±æ€§å¯ä»¥çœç•¥ï¼Œè€Œä¸ä¼šæŠ¥é”™<code>NON_ASSIGNABLE_MODEL_EXPRESSION</code></p><h3 id="æ— å…³æ„Ÿè¨€"><a href="#æ— å…³æ„Ÿè¨€" class="headerlink" title="æ— å…³æ„Ÿè¨€"></a>æ— å…³æ„Ÿè¨€</h3><p>æˆ‘ç¬¬ä¸€æ¬¡çŸ¥é“AngularJSå¤§çº¦æ˜¯3å¹´å‰ï¼Œé™¤äº†å­¦æ ¡çš„ä¸€äº›é…±æ²¹å°é¡¹ç›®å¤–å®Œå…¨æ²¡æœ‰ä»»ä½•å¼€å‘ç»éªŒï¼Œå¯¹äºJSåªçŸ¥é“jQueryå´åˆè¦å»æ‰¾ä¸€ä»½ç¨‹åºå‘˜çš„å·¥ä½œã€‚é¢è¯•çš„æ—¶å€™äººå®¶é—®æˆ‘ï¼šä¼šAngularå—ï¼Ÿæˆ‘ï¼šï¼Ÿï¼Ÿï¼Ÿå½“ç„¶æ˜¯æ²¡æœ‰é¢ä¸Šï¼Œå›å»ä¹‹ååˆ°code schoolå­¦å®Œäº†å…¥é—¨è¯¾ç¨‹ï¼Œåœ¨å®˜ç½‘å­¦å®Œäº†é‚£ä¸ªå–æ‰‹æœºçš„demoã€‚å½“ç„¶ä¹‹åæˆ‘ä¹Ÿæ²¡æœ‰ç›´æ¥å»åšä¸€ä»½è·ŸAngularæœ‰å…³çš„å·¥ä½œã€‚</p><p>å¦‚ä»Šï¼Œåœ¨æˆ‘ç»ˆäºåšç€ä¸€ä»½Angular1.xçš„å·¥ä½œæ—¶ï¼ŒAngular5éƒ½å¿«å‘å¸ƒäº†ï¼Œï¼ˆå†æ¬¡æ„Ÿå¹ï¼Œå‰ç«¯åœˆçœŸéš¾æ··ï¼‰ï¼Œè€Œæˆ‘è¿TypeScriptä¹Ÿè¿˜æ²¡å­¦ä¼šï¼Œå…³äºAngularçš„å¾ˆå¤šåŸºæœ¬é—®é¢˜ä¹Ÿè¿˜æ˜¯äº‘é‡Œé›¾é‡Œâ€¦â€¦ä½†è¿™å¹¶ä¸å¦¨ç¢æˆ‘èƒ½å†™å‡ºèƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„åº”ç”¨ğŸ™„ï¼ŒåŸºç¡€å’Œå·¥ç¨‹ç»éªŒè¿™æ˜¯æ²¡ä»€ä¹ˆå¿…ç„¶å…³ç³»ï¼Œï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯æˆ‘å¤©èµ‹å¼‚ç¦€è€Œä¸è‡ªçŸ¥ğŸ¤£ï¼‰ã€‚å…¶å®æˆ‘ç°åœ¨æ˜¯å¾ˆä¸æƒ³å†™Angular1.xçš„ï¼Œæ€»è§‰å¾—æ˜¯éå¸¸outdatedçš„ä¸œè¥¿ï¼Œç„¶è€ŒğŸ¤·â€</p><p>å¦å¤–ï¼Œè¿™ç¯‡çœŸæ˜¯50%ä»¥ä¸Šéƒ½æ˜¯æŠ„è¢­å®˜ç½‘â€¦ä½†æ˜¯ä¸æŠ„æ ¹æœ¬è®°ä¸ä½â€¦</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="noopener">https://docs.angularjs.org/guide/directive</a><br>[2] <a href="https://blog.coding.net/blog/angularjs-directive-isolate-scope" target="_blank" rel="noopener">https://blog.coding.net/blog/angularjs-directive-isolate-scope</a><br>[3] <a href="https://stackoverflow.com/questions/14908133/what-is-the-difference-between-vs-and-in-angularjs" target="_blank" rel="noopener">https://stackoverflow.com/questions/14908133/what-is-the-difference-between-vs-and-in-angularjs</a><br>[4] <a href="https://stackoverflow.com/questions/20447786/whats-the-meaning-of-in-angularjs-directive-isolate-scope-declaration" target="_blank" rel="noopener">https://stackoverflow.com/questions/20447786/whats-the-meaning-of-in-angularjs-directive-isolate-scope-declaration</a><br>[5] <a href="https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link" target="_blank" rel="noopener">https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope&quot;&gt;&lt;a href=&quot;#è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope&quot; class=&quot;headerlink&quot; title=&quot;è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope&quot;&gt;&lt;/a&gt;è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope&lt;/h3&gt;&lt;
      
    
    </summary>
    
      <category term="AngularJS" scheme="http://sabrinaluo.com/tech/categories/AngularJS/"/>
    
    
      <category term="angular" scheme="http://sabrinaluo.com/tech/tags/angular/"/>
    
      <category term="directive" scheme="http://sabrinaluo.com/tech/tags/directive/"/>
    
      <category term="scope" scheme="http://sabrinaluo.com/tech/tags/scope/"/>
    
      <category term="isolated scope" scheme="http://sabrinaluo.com/tech/tags/isolated-scope/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨webpackæ‰“åŒ…reactç»„ä»¶</title>
    <link href="http://sabrinaluo.com/tech/2017/08/14/react-component-with-webpack/"/>
    <id>http://sabrinaluo.com/tech/2017/08/14/react-component-with-webpack/</id>
    <published>2017-08-14T02:36:56.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åæ§½"><a href="#åæ§½" class="headerlink" title="åæ§½"></a>åæ§½</h3><p>å¥½å¤šäººéƒ½åæ§½Webpacké…ç½®å¤ªå¤æ‚äº†ï¼Œç„¶è€Œ1.xæˆ‘éƒ½è¿˜æ²¡å­¦ä¼šç°åœ¨éƒ½å·²ç»3.xäº†ï¼Œå‰æ®µåœˆçœŸçš„å¥½éš¾æ··å•Šï¼ŒçœŸæ˜¯å¿…é¡»æ´»åˆ°è€å­¦åˆ°è€å•Šâ€¦</p><p>å‰æ®µæ—¶é—´é—²å¾—æ— èŠçœ‹åˆ°ä¸ªæ’­æ”¾å™¨å«<a href="https://github.com/DIYgod/APlayer" target="_blank" rel="noopener">APlayer</a>ï¼Œå°±æƒ³ç€åŒ…èµ·æ¥åšä¸ªVueæˆ–è€…Reactèƒ½ç”¨çš„å§ï¼Œç»ƒç»ƒæ‰‹â€¦â€¦ç„¶åç”±äºæˆ‘çš„æ‹–å»¶ç—‡ï¼Œå†™äº†å¥½ä¹…ï¼Œå°±åœ¨æˆ‘å†™å®ŒVueç‰ˆæœ¬çš„ç¬¬äºŒå¤©ï¼Œè¿˜æ²¡pushï¼Œå°±å‘ç°MDå·²ç»æœ‰åˆ«äººæ¯”æˆ‘æ—©å‡ å¤©å†™å¥½äº†ï¼Œå¥½æ°”å“¦â€¦äºæ˜¯åªèƒ½é‡å¤´å¼€å§‹å†™Reactç‰ˆ</p><p>å› ä¸ºä»å¼€å§‹å°±æ˜¯ç”¨<code>create-react-app</code>çš„è„šæ‰‹æ¶ï¼Œæ‰€ä»¥ä¹Ÿæ²¡è€ƒè™‘npm requireæ—¶å€™ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œ<a href="http://sabrinaluo.com/react-aplayer/">Demo</a>æ›´æ˜¯ç›´æ¥å†™åœ¨<code>src</code> æ–‡ä»¶å¤¹é‡Œï¼Œæˆ‘è‡ªå·±å¼•ç”¨çš„æ—¶å€™å½“ç„¶æ²¡æœ‰é—®é¢˜å•¦â€¦ä¸è¿‡<code>create-react-app</code>æ²¡æœ‰æä¾›ç›¸åº”çš„åŠŸèƒ½ä¹Ÿæœ‰åˆ«äººåæ§½è¿‡äº†<a href="https://github.com/facebookincubator/create-react-app/issues/1492" target="_blank" rel="noopener">^1</a></p><p>å‘å¸ƒäº†ä¹‹åæœ‰äººç»™æäº†ä¸ªIssueï¼Œè¯´å¼•ç”¨ä¹‹åç¼–è¯‘çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæˆ‘ä¸€çœ‹æœç„¶â€¦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uncaught ReferenceError: React is not defined</span><br></pre></td></tr></table></figure></p><h3 id="æ­£ç»äº‹å„¿"><a href="#æ­£ç»äº‹å„¿" class="headerlink" title="æ­£ç»äº‹å„¿"></a>æ­£ç»äº‹å„¿</h3><p><code>/src</code>é‡Œçš„æ–‡ä»¶éƒ½æ˜¯<code>ES6</code>å’Œ<code>JSX</code>å½¢å¼ï¼Œç¬¬ä¸€ååº”æ˜¯æˆ‘çš„æ–‡ä»¶æ²¡æœ‰è¢«webpacké‡Œçš„<code>babel-loader</code>æˆåŠŸç¼–è¯‘ï¼ŒæŸ¥äº†ä¸€äº›èµ„æ–™ä¹‹åå‘ç°é—®é¢˜æ˜¯åœ¨<code>create-react-app</code>çš„webpacké…ç½®ä¸­ï¼Œåªä¼šç¼–è¯‘<code>./src</code>ä¸‹çš„æ–‡ä»¶ï¼Œè€Œå½“æˆ‘çš„åº“ä½œä¸ºç¬¬ä¸‰æ–¹ä¾èµ–å¼•å…¥æ—¶ï¼Œæ˜¯åœ¨<code>./node_modules</code>ä¸‹ï¼Œå› æ­¤æ²¡æœ‰è¢«ç¼–è¯‘ã€‚ï¼ˆä½¿ç”¨webpackç¼–è¯‘æ—¶é€šå¸¸éƒ½ä¼šå¿½ç•¥<code>./node_modules</code>ä¸‹çš„æ–‡ä»¶ï¼Œæ²¡ç†ç”±å»ç¼–è¯‘åˆ«äººçš„åŒ…å‘€ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ«äººå‘å¸ƒè¿™ä¸ªåŒ…çš„æ—¶å€™ï¼Œå°±åº”è¯¥æ˜¯ç¼–è¯‘å¥½çš„äº†ï¼Œç„¶è€Œå·æ‡’çš„æˆ‘æ²¡æœ‰ç¼–è¯‘å°±ç›´æ¥å‘å¸ƒäº†ï¼‰(âŠ™ï¹âŠ™)b</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./react-scripts/config/webpack.config.prod.js</span></span><br><span class="line"><span class="comment">// Process JS with Babel.</span></span><br><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">  include: paths.appSrc,</span><br><span class="line">  loader: <span class="built_in">require</span>.resolve(<span class="string">'babel-loader'</span>),</span><br><span class="line">  options: &#123;</span><br><span class="line">    <span class="comment">// @remove-on-eject-begin</span></span><br><span class="line">    babelrc: <span class="literal">false</span>,</span><br><span class="line">    presets: [<span class="built_in">require</span>.resolve(<span class="string">'babel-preset-react-app'</span>)],</span><br><span class="line">    <span class="comment">// @remove-on-eject-end</span></span><br><span class="line">    compact: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç¼–è¯‘æˆ‘çš„æ–‡ä»¶ï¼Œæˆ‘è¿˜è¦ä¸“é—¨å†™ä¸€ä¸ª<code>webpack.config.js</code>çœŸæ˜¯å¥½å¿ƒç´¯â€¦å†™çš„æ—¶å€™é‡åˆ°çš„é—®é¢˜æ›´å¿ƒç´¯</p><p>é¦–å…ˆå°±æ˜¯æœ€åŸºæœ¬çš„é…ç½®ï¼Œç›¸å…³çš„<code>loader</code>å’Œminify pluginï¼Œç¼–è¯‘ä¹‹åæ–‡ä»¶å¾ˆå¤§â€¦åŸæ¥æ˜¯æŠŠ<code>react</code>ä¹Ÿæ‰“åŒ…è¿›å»äº†ï¼Œå¦‚æœæ‰€æœ‰äººéƒ½è¿™ä¹ˆå†™ç»„ä»¶çš„è¯â€¦â€¦æœ€åçš„APPé‡Œæœ‰å‡ ä¸ªç»„ä»¶å°±ä¼šæœ‰å‡ ä»½é‡å¤çš„reactï¼Œè‚¯å®šæ˜¯ä¸å¯¹çš„ã€‚</p><p>ä¹‹åæœåˆ°ï¼Œè¦æ’é™¤æŸä¸ªåº“ï¼Œå¯ä»¥ç”¨<code>external</code>é€‰é¡¹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">externals: [&apos;react&apos;]</span><br></pre></td></tr></table></figure></p><p>ç„¶è€Œï¼ŒåŠ ä¸Šè¿™ä¸ªæ—¶å€™æˆ‘çš„å™©æ¢¦å°±æ¥å•¦ï¼Œæ°¸è¿œéƒ½æç¤º<code>React is undefined</code>ï¼Œè¯•äº†å„ç§å„æ ·çš„<code>external</code>å†™æ³•ï¼Œå¯¹è±¡ã€æ•°ç»„â€¦éƒ½ä¸ç®¡ç”¨ã€‚èŠ±äº†ä¸¤ä¸‰å¤©æ—¶é—´ï¼Œæ‰æœåˆ°ä¸€ä¸ªè¯´<code>libiaryTarget: &#39;umd&#39;</code>çš„<a href="https://github.com/zhengweikeng/blog/issues/10" target="_blank" rel="noopener">^2</a></p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>1: <a href="https://github.com/facebookincubator/create-react-app/issues/1492" target="_blank" rel="noopener">https://github.com/facebookincubator/create-react-app/issues/1492</a><br>2: <a href="https://github.com/zhengweikeng/blog/issues/10" target="_blank" rel="noopener">https://github.com/zhengweikeng/blog/issues/10</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åæ§½&quot;&gt;&lt;a href=&quot;#åæ§½&quot; class=&quot;headerlink&quot; title=&quot;åæ§½&quot;&gt;&lt;/a&gt;åæ§½&lt;/h3&gt;&lt;p&gt;å¥½å¤šäººéƒ½åæ§½Webpacké…ç½®å¤ªå¤æ‚äº†ï¼Œç„¶è€Œ1.xæˆ‘éƒ½è¿˜æ²¡å­¦ä¼šç°åœ¨éƒ½å·²ç»3.xäº†ï¼Œå‰æ®µåœˆçœŸçš„å¥½éš¾æ··å•Šï¼ŒçœŸæ˜¯å¿…é¡»æ´»åˆ°è€å­¦åˆ°è€å•Šâ€¦&lt;/p&gt;
&lt;p
      
    
    </summary>
    
      <category term="WEBPACK" scheme="http://sabrinaluo.com/tech/categories/WEBPACK/"/>
    
    
      <category term="webpack" scheme="http://sabrinaluo.com/tech/tags/webpack/"/>
    
      <category term="react" scheme="http://sabrinaluo.com/tech/tags/react/"/>
    
      <category term="react-component" scheme="http://sabrinaluo.com/tech/tags/react-component/"/>
    
  </entry>
  
  <entry>
    <title>å°¾é€—å·(Trailing Comma)çš„æ„ä¹‰</title>
    <link href="http://sabrinaluo.com/tech/2017/07/12/trailing-comma/"/>
    <id>http://sabrinaluo.com/tech/2017/07/12/trailing-comma/</id>
    <published>2017-07-12T03:01:13.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥å‰åœ¨ç½‘ä¸Šçœ‹åˆ«äººå†™çš„ä»£ç ï¼Œæœ‰æ—¶å€™ä¼šçœ‹åˆ°è¿™æ ·ï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ åé¢å¤šä¸€ä¸ªé€—å·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2,</span><br><span class="line">    3,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>ä½œä¸ºä¸€ä¸ªæ‡’ç™Œæ™šæœŸæ‚£è€…ï¼Œè§‰å¾—è¦å¤šåŠ ä¸€ä¸ªé€—å·ï¼ŒçœŸæ˜¯å¥½éº»çƒ¦ï¼é‚£æ˜¯naiveçš„æˆ‘ï¼Œå½“ç„¶è¿˜ä¸çŸ¥é“æœ‰ç‰ˆæœ¬æ§åˆ¶diffè¿™ç§é«˜çº§å·¥å…·ï¼Œè¿˜åœç•™åœ¨å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹çš„äººå·¥ç‰ˆæœ¬æ§åˆ¶ä½çº§é˜¶æ®µâ€¦</p><p>åæ¥çœ‹åˆ°å‡ å®¶å¤§å‚çš„ä»£ç è§„èŒƒ<a href="https://github.com/airbnb/javascript#functions--signature-invocation-indentation" target="_blank" rel="noopener">^1</a>, <a href="https://google.github.io/styleguide/jsguide.html#features-arrays-trailing-comma" target="_blank" rel="noopener">^2</a>ä¸­éƒ½æœ‰ç›¸åº”çš„è§„èŒƒã€‚Airbnbçš„JSä»£ç è§„èŒƒæ˜¯éå¸¸ç«çš„ï¼Œç„¶è€Œæœ€å¼€å§‹çš„æ—¶å€™æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„æ˜¯Googleçš„JSä»£ç è§„èŒƒï¼Œå°±å› ä¸ºAå®¶æœ‰æˆ‘ä¸å–œæ¬¢çš„trailing commaã€‚æ²¡æƒ³åˆ°ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒGå®¶ä¹Ÿé‡‡ç”¨äº†è¿™ä¸€æ¡â€¦è€Œæ°å¥½ä¹Ÿæ˜¯è¿™æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸ºä»€ä¹ˆæœ‰çš„äººè¦æŠŠä»£ç å†™çš„é‚£ä¹ˆä¸cleanï¼Ÿå¤šå¹´çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œæ‰€æœ‰è§„åˆ™ä¸€å®šéƒ½æ˜¯æœ‰åŸå› çš„ï¼</p><p>ä¼ å›¾å¥½éº»çƒ¦â€¦æˆ‘å°±æ–‡å­—æè¿°ä¸€ä¸‹å§ã€‚å‡¡æ˜¯ç”¨è¿‡gitçš„äººåº”è¯¥éƒ½çŸ¥é“æœ‰diff viewè¿™ç§ä¸œè¥¿ï¼Œç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„ä»£ç æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ²¡æœ‰å°¾é€—å·çš„æ—¶å€™ï¼Œå½“ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå°±éœ€è¦åœ¨æœ€åä¸€ä¸ªå…ƒç´ çš„<strong>1. æœ«å°¾åŠ ä¸Šä¸€ä¸ªé€—å·ï¼Œ2.æ¢è¡Œæ·»åŠ æ–°å†…å®¹</strong>ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºã€‚</p><p>Before<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>After<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2,</span><br><span class="line">    3</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸€æ¥ï¼Œdiff viewä¸­å°±ä¼šæ˜¾ç¤ºä¿®æ”¹äº†<strong>ä¸¤è¡Œ</strong>ä»£ç ã€‚å¦‚æœä½¿ç”¨å°¾é€—å·ï¼Œåˆ™æ·»åŠ ä¸€ä¸ªå…ƒç´ åªéœ€è¦<strong>1.æ¢è¡Œæ·»åŠ æ–°å†…å®¹</strong>å³å¯ï¼Œdiff viewä¸­æ˜¾ç¤ºåªä¿®æ”¹ï¼ˆæ·»åŠ ï¼‰äº†ä¸€è¡Œä»£ç ã€‚</p><h3 id="ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ"><a href="#ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ" class="headerlink" title="ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ"></a>ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ</h3><p>è¿™ä¸ªä¸–ç•Œä¸Šï¼Œå‡¡äº‹éƒ½æ˜¯trade offï¼Œç®—æ³•å¤æ‚åº¦é‡Œè¦ä¹ˆæ—¶é—´æ¢ç©ºé—´è¦ä¹ˆç©ºé—´æ¢æ—¶é—´ã€‚<br>å°¾é€—å·ä¹Ÿä¸€æ ·ï¼Œæƒ³è¦diff view cleanï¼Œä»£ç å°±ä¸é‚£ä¹ˆcleanï¼›æƒ³è¦ä»£ç cleanï¼Œdiff viewå°±ä¸é‚£ä¹ˆcleanã€‚<br>æ‰€ä»¥ææ¸…æ¥šè‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œåˆæœ‰ä»€ä¹ˆå¯ä»¥å»trade offï¼Œå°±å¾ˆé‡è¦äº†ã€‚</p><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>[1] <a href="https://medium.com/@nikgraf/why-you-should-enforce-dangling-commas-for-multiline-statements-d034c98e36f8" target="_blank" rel="noopener">https://medium.com/@nikgraf/why-you-should-enforce-dangling-commas-for-multiline-statements-d034c98e36f8</a><br>[2] <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»¥å‰åœ¨ç½‘ä¸Šçœ‹åˆ«äººå†™çš„ä»£ç ï¼Œæœ‰æ—¶å€™ä¼šçœ‹åˆ°è¿™æ ·ï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ åé¢å¤šä¸€ä¸ªé€—å·ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;
      
    
    </summary>
    
      <category term="CODE STYLE" scheme="http://sabrinaluo.com/tech/categories/CODE-STYLE/"/>
    
    
      <category term="ç‰ˆæœ¬æ§åˆ¶" scheme="http://sabrinaluo.com/tech/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    
      <category term="trailing comma" scheme="http://sabrinaluo.com/tech/tags/trailing-comma/"/>
    
      <category term="comma-dangle" scheme="http://sabrinaluo.com/tech/tags/comma-dangle/"/>
    
      <category term="å°¾é€—å·" scheme="http://sabrinaluo.com/tech/tags/%E5%B0%BE%E9%80%97%E5%8F%B7/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºæœ¬åœ°åŒ–çš„ä¸€äº›æŠ€å·§</title>
    <link href="http://sabrinaluo.com/tech/2017/05/26/interpolation-and-pluralization/"/>
    <id>http://sabrinaluo.com/tech/2017/05/26/interpolation-and-pluralization/</id>
    <published>2017-05-26T09:59:03.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¦™æ¸¯å·¥ä½œæ€»æ˜¯èƒ½æ¥è§¦åˆ°å„ç§â€œæœ¬åœ°åŒ–â€çš„éœ€æ±‚ï¼Œå¤§å¤šæ•°ç½‘ç«™è‡³å°‘éƒ½ä¼šæœ‰ä¸­è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæœ‰çš„è¿˜ä¼šåˆ†ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ã€‚è€Œåœ¨å®ç°æœ¬åœ°åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºè‹±æ–‡ä¸ä¸­æ–‡çš„æ–‡æ³•ã€è¯­åºç­‰å·®å¼‚ï¼Œä¼šæœ‰å¾ˆå¤šæƒ…å†µéœ€è¦å¤„ç†ã€‚</p><h3 id="i18n-amp-i10n"><a href="#i18n-amp-i10n" class="headerlink" title="i18n &amp; i10n"></a>i18n &amp; i10n</h3><p>ä¸€ç›´ä»¥æ¥æˆ‘éƒ½æ··æ·†ä½¿ç”¨è¿™ä¸¤ä¸ªtermï¼Œå…¶ä¸­i18næ˜¯å›½é™…åŒ–ï¼Œä¸»è¦ç”¨äºä¸–ç•Œé€šç”¨å†…å®¹çš„ç¿»è¯‘ï¼Œ<strong>ä½¿äº§å“æ— éœ€åšå¤§çš„æ”¹å˜å°±èƒ½å¤Ÿé€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºçš„éœ€è¦</strong>ï¼ŒåŒ…æ‹¬æ—¶é—´ã€æ—¥æœŸã€è´§å¸ç­‰ï¼›è€Œi10næ˜¯æœ¬åœ°åŒ–ï¼Œä¹Ÿå°±æ˜¯æŠŠç½‘ç«™é‡Œå…¶ä»–å†…å®¹è¿›è¡Œç¿»è¯‘ã€‚</p><h3 id="content-key"><a href="#content-key" class="headerlink" title="content key"></a>content key</h3><p>å°†éœ€è¦ç¿»è¯‘çš„ä½ç½®ç”¨<strong>Content Key</strong>å ä½ï¼Œåœ¨å•ç‹¬çš„æ–‡ä»¶é‡Œæ¥å¤„ç†å¯¹åº”çš„ç¿»è¯‘å·²ç»æˆä¸ºäº†æœ¬åœ°åŒ–çš„æœ€åŸºæœ¬ç­–ç•¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œ1. ä¿æŒä»£ç çš„æ•´æ´ï¼Œæ— éœ€å› ä¸ºç¿»è¯‘é—®é¢˜ä¸æ–­æäº¤commitï¼Œé¿å…æ±¡æŸ“git historyï¼›2. æ–¹ä¾¿ä¸æ‡‚ä»£ç çš„è¿è¥äººå‘˜éšæ—¶è°ƒæ•´ç¿»è¯‘å†…å®¹ï¼Œè€Œæ— éœ€å¢åŠ å¼€å‘è´Ÿæ‹…ã€‚</p><h3 id="å•å¤æ•°-pluralization"><a href="#å•å¤æ•°-pluralization" class="headerlink" title="å•å¤æ•° pluralization"></a>å•å¤æ•° pluralization</h3><p>ä¸¾ä¸ªæ —å­ï¼Œå¦‚æœéœ€è¦ç¿»è¯‘â€œxä¸ªè‹¹æœâ€ï¼Œå¯¹åº”çš„è‹±æ–‡ä¼šæœ‰å•å¤æ•°å½¢å¼ï¼Œé‡åˆ°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œå¦‚æœç¼ºä¹ç»éªŒï¼Œé€šå¸¸æ˜¯å†™<code>if</code> <code>else</code>ï¼Œ ç„¶åç”¨ä¸¤ä¸ªä¸åŒçš„keyï¼š</p><table><thead><tr><th>key</th><th>zh</th><th>en</th></tr></thead><tbody><tr><td>webstie.key.apple</td><td>ä¸ªè‹¹æœ</td><td>apple</td></tr><tr><td>webstie.key.apples</td><td>ä¸ªè‹¹æœ</td><td>apples</td></tr></tbody></table><p>ä½†æ˜¯templateé‡Œå†™å¤ªå¤šçš„if else å®¹æ˜“ä½¿å¾—é€»è¾‘æ··ä¹±ï¼Œä¹Ÿä¸åˆ©äºç»´æŠ¤ï¼Œæœºæ™ºçš„æˆ‘ä»Šå¤©å¿½ç„¶å‘ç°angularå…¶å®æœ‰ä¸€ä¸ªä¸“é—¨çš„æŒ‡ä»¤æ¥åšè¿™ä¸ªäº‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ng-pluralize count=&quot;personCount&quot;</span><br><span class="line">                 when=&quot;&#123;&apos;0&apos;: &apos;Nobody is viewing.&apos;,</span><br><span class="line">                     &apos;one&apos;: &apos;1 person is viewing.&apos;,</span><br><span class="line">                     &apos;other&apos;: &apos;&#123;&#125; people are viewing.&apos;&#125;&quot;&gt;</span><br><span class="line">&lt;/ng-pluralize&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæŒ‡ä»¤çš„æœ¬è´¨å…¶å®è·Ÿif elseç±»ä¼¼ï¼Œä½¿ç”¨äº†ä¸€ä¸ªhash mapæ¥å‚¨å­˜å¯¹åº”çš„ç¿»è¯‘ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼ŒæŠŠwhençš„å€¼å†™åˆ°controlleré‡Œï¼Œè¿™æ ·ä¼šæ¯”è¾ƒç¾è§‚ XD</p><h3 id="æ’å€¼-interpolation"><a href="#æ’å€¼-interpolation" class="headerlink" title="æ’å€¼ interpolation"></a>æ’å€¼ interpolation</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¸å¾—ä¸æŠŠä¸€æ•´å¥è¯æ‰“æ–­æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚â€œstep 1 of 5 â€ï¼Œè€Œå¯¹åº”çš„ä¸­æ–‡å¦‚æœè¦æ±‚ç¿»è¯‘æˆâ€œç¬¬1æ­¥ï¼ˆå…±5æ­¥ï¼‰â€ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨æ–­å¥çš„æ–¹æ³•æ¥ç¿»è¯‘ï¼Œä¸­æ–‡éœ€è¦æœ‰3ä¸ªkeyï¼Œåˆ†åˆ«å¯¹åº”</p><table><thead><tr><th>lang</th><th>part1</th><th>part2</th><th>part3</th></tr></thead><tbody><tr><td>en</td><td>step</td><td>of</td><td></td></tr><tr><td>zh</td><td>ç¬¬</td><td>æ­¥ï¼ˆå…±</td><td>æ­¥ï¼‰</td></tr></tbody></table><p>è¿™æ ·åšï¼Œä¸ä»…ä¸ç¾è§‚ï¼Œå†™èµ·æ¥<code>string + string + string</code>ä¹Ÿéå¸¸éº»çƒ¦ï¼ŒåŒæ—¶ä»£ç åŠç¿»è¯‘æ–‡ä»¶éƒ½å¢åŠ äº†ç»´æŠ¤çš„éš¾åº¦ã€‚</p><p>å¤§å®¶åº”è¯¥éƒ½æœ‰ç»éªŒï¼Œåœ¨<code>console.log</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>%s</code>ä½œä¸ºå ä½ç¬¦ï¼Œå¦‚æœèƒ½å¤Ÿä½¿ç”¨å ä½ç¬¦æ¥è¿›è¡Œç¿»è¯‘ï¼Œä»¥ä¸Šæƒ…å†µå°±ä¼šç®€å•å¾ˆå¤šã€‚</p><p>AngularåŸç”Ÿçš„<code>$interpolate</code>æœåŠ¡ï¼Œç”¨äºç¼–è¯‘å«æœ‰ç‰¹å®šæ ‡è®°çš„å­—ç¬¦ä¸²ï¼Œ<code>Hello, {{name}}</code></p><blockquote><p>Compiles a string with markup into an interpolation function</p></blockquote><p>ç¿»è¯‘æ—¶ï¼Œå¤§å¤šæ—¶å€™æ—¶å€™éƒ½æ˜¯ç”¨<code>angular-translate</code>ï¼Œè¿™ä¸ªç¬¬ä¸‰æ–¹çš„æœåŠ¡èƒ½å¾ˆå¥½çš„å¤„ç†æ’å€¼ï¼Œä½¿ç”¨çš„æ ‡è®°æ˜¯ä¸¤ä¸ªèŠ±æ‹¬å·<code>{{}}</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//åŸºæœ¬ç”¨æ³•</span><br><span class="line">$translate(translationId[, interpolateParams], interpolationId, defaultTranslationText, forceLanguage);</span><br><span class="line"></span><br><span class="line">//ä¾‹å­</span><br><span class="line">$scope.stepInfoText = $filter(&apos;translate&apos;)(&apos;widget-progress-bar.step.text&apos;, &#123;currentStep:1, totalStep: 5&#125;);</span><br><span class="line"></span><br><span class="line">//ç¿»è¯‘æ–‡ä»¶ *.properties</span><br><span class="line">widget-progress-bar.step.text=step &#123;&#123;currentStep&#125;&#125; of &#123;&#123;totalStep&#125;&#125;</span><br><span class="line">//output: step 1 of 5</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>1: <a href="https://docs.angularjs.org/guide/i18n" target="_blank" rel="noopener">https://docs.angularjs.org/guide/i18n</a><br>2: <a href="https://docs.angularjs.org/api/ng/directive/ngPluralize" target="_blank" rel="noopener">https://docs.angularjs.org/api/ng/directive/ngPluralize</a><br>3: <a href="https://stackoverflow.com/questions/27259723/angularjs-pluralization-with-angular-translate-and-ng-pluralize" target="_blank" rel="noopener">https://stackoverflow.com/questions/27259723/angularjs-pluralization-with-angular-translate-and-ng-pluralize</a><br>4: <a href="https://docs.angularjs.org/api/ng/service/$interpolate" target="_blank" rel="noopener">https://docs.angularjs.org/api/ng/service/$interpolate</a><br>5: <a href="https://angular-translate.github.io/docs/#/api/pascalprecht.translate.$translate" target="_blank" rel="noopener">https://angular-translate.github.io/docs/#/api/pascalprecht.translate.$translate</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨é¦™æ¸¯å·¥ä½œæ€»æ˜¯èƒ½æ¥è§¦åˆ°å„ç§â€œæœ¬åœ°åŒ–â€çš„éœ€æ±‚ï¼Œå¤§å¤šæ•°ç½‘ç«™è‡³å°‘éƒ½ä¼šæœ‰ä¸­è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæœ‰çš„è¿˜ä¼šåˆ†ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ã€‚è€Œåœ¨å®ç°æœ¬åœ°åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºè‹±æ–‡ä¸ä¸­æ–‡çš„æ–‡æ³•ã€è¯­åºç­‰å·®å¼‚ï¼Œä¼šæœ‰å¾ˆå¤šæƒ…å†µéœ€è¦å¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;i18n-amp-i10n&quot;&gt;&lt;a href=&quot;#i18n
      
    
    </summary>
    
      <category term="AngularJS" scheme="http://sabrinaluo.com/tech/categories/AngularJS/"/>
    
    
      <category term="interpolation" scheme="http://sabrinaluo.com/tech/tags/interpolation/"/>
    
      <category term="pluralization" scheme="http://sabrinaluo.com/tech/tags/pluralization/"/>
    
      <category term="localization" scheme="http://sabrinaluo.com/tech/tags/localization/"/>
    
      <category term="ç¿»è¯‘" scheme="http://sabrinaluo.com/tech/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="æœ¬åœ°åŒ–" scheme="http://sabrinaluo.com/tech/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/"/>
    
      <category term="å•å¤æ•°" scheme="http://sabrinaluo.com/tech/tags/%E5%8D%95%E5%A4%8D%E6%95%B0/"/>
    
      <category term="ng-pluralize" scheme="http://sabrinaluo.com/tech/tags/ng-pluralize/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç‚¹æ„Ÿæ‚Ÿ</title>
    <link href="http://sabrinaluo.com/tech/2017/05/11/thoughts/"/>
    <id>http://sabrinaluo.com/tech/2017/05/11/thoughts/</id>
    <published>2017-05-11T03:21:54.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢JSè¿™ç§è„‘æ®‹è¯­è¨€çš„ï¼Œå¹¶ä¸”ä¹Ÿä¸æƒ³å°†å…¶ä»–è¯­è¨€ç”¨åœ¨å·¥ä½œä¸­ï¼Œæ¯”å¦‚PHPã€PYTHONã€JAVAä¹‹ç±»çš„ã€‚</p><p>å…¶å®åˆ°æœ€åè‚¯å®šæ‰€æœ‰è¯­è¨€éƒ½æ˜¯ç›¸é€šçš„ï¼Œæ¯”å¦‚æ¯ç§è¯­è¨€éƒ½ä¼šæœ‰è‡ªå·±çš„<code>lodash</code>ã€<code>npm</code>ã€<code>package.json</code>ï¼Œæ‰€ä»¥å½“ç²¾é€šä¸€ç§è¯­è¨€ä¹‹åæ˜¯èƒ½å¯¹å…¶ä»–è¯­è¨€çš„äººæŒ‡ç‚¹æ±Ÿå±±çš„ã€‚æˆ‘ä¹‹å‰çš„ä¸€ä¸ªåŒäº‹æ–°æ‰‹å†™pythonï¼Œåº“ä¹Ÿä¸ä¼šç”¨ä¹Ÿä¸çŸ¥é“å»å“ªé‡Œä¸‹è½½ï¼Œæˆ‘å¯¹Pythonçš„è®¤è¯†åªé™äºè¿™æ˜¯ä¸€ä¸ªç”¨ç¼©è¿›æ¥æ§åˆ¶å—çš„è¯­è¨€ï¼Œä½†æœäº†ä¸€ä¸‹æœç„¶æœ‰<code>pip</code>ï¼Œ<code>requirements.txt</code></p><p>ä¸¾è¿™ä¸ªä¾‹å­æ˜¯å› ä¸ºæˆ‘è®¤ä¸ºï¼Œç”¨ä¸€ä¸ªè¯­è¨€ç”¨å¾—ç²¾é€šæ¯”ä¼šç”¨å¾ˆå¤šè¯­è¨€éƒ½æ˜¯ç•¥çŸ¥ä¸€äºŒæ›´é‡è¦ã€‚</p><p>å‰å‡ å¤©æˆ‘æœ‰ä¸€ä¸ªå†™PHPçš„åŒäº‹ï¼Œè¢«è¿«å»å†™nodeJSï¼Œç„¶åé‡åˆ°ä¸€ä¸ªsoapçš„é—®é¢˜ï¼Œè°ƒäº†ä¸€å¤©éƒ½æ²¡è°ƒå‡ºæ¥ï¼Œæ‰”ç»™æˆ‘å¸®å¿™ã€‚é—®é¢˜å¤§æ¦‚æ˜¯ï¼Œç”¨äº†ä¸€ä¸ªå«<code>node-soap</code>çš„åº“ï¼Œå‘è¯·æ±‚çš„æ—¶å€™å¯¹æ–¹æœåŠ¡å™¨æ€»æ˜¯è¿”å›<code>ERROR Invalid XML</code>ï¼Œè€Œç”¨PostmanæŠŠè¯·æ±‚çš„bodyå‘å‡ºå»ï¼Œå´èƒ½å¾—åˆ°æˆåŠŸçš„è¿”å›ç»“æœï¼ŒåŒäº‹æ€€ç–‘è¿™ä¸ªç¬¬ä¸‰æ–¹åº“æœ‰é—®é¢˜ã€‚</p><p>æˆ‘è™½ç„¶å¯¹SOAPä¸€çªä¸é€šï¼Œä½†æˆ‘æ‡‚JSï¼Œè§‰å¾—è¿™ä¸ªé—®é¢˜åº”è¯¥èƒ½æ‰¾å‡ºåŸå› ã€‚æ ¹æ®ä»¥å‰çš„ç»éªŒï¼Œæˆ‘è§‰å¾—ä¸å¤ªå¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹åº“çš„é—®é¢˜ï¼Œå› ä¸ºæ¯æ¬¡åªä½¿ç”¨åŸºæœ¬æ–¹æ³•å´æœ‰é—®é¢˜æ—¶æˆ‘debugåˆ°åˆ«äººåº“é‡Œå»çœ‹æ˜ç™½åŸç†ä¹‹åï¼Œç»å¤§å¤šæ•°æ—¶å€™éƒ½ä¼šå‘ç°æ˜¯è‡ªå·±çš„é—®é¢˜ã€‚æ›´ä½•å†µè¿™æ˜¯ä¸€ä¸ª1500+ starçš„åº“ã€‚</p><p>é¦–å…ˆæˆ‘æƒ³åˆ°çš„æ˜¯ï¼Œè‚‰çœ¼çœ‹ä¸Šå»åŒæ ·çš„bodyï¼Œä¸ºä»€ä¹ˆå¾—åˆ°ä¸åŒçš„ç»“æœï¼Ÿå¾ˆå¯èƒ½æ˜¯encodingçš„é—®é¢˜ã€‚å•æ­¥è°ƒè¯•åå‘ç°åº“é‡Œå¹¶æ²¡æœ‰ä»»ä½•encodingçš„åŠ¨ä½œï¼Œæ‰€ä»¥æ’é™¤è¯¥é—®é¢˜ã€‚</p><p>åæ¥æˆ‘æ³¨æ„åˆ°ï¼Œç¬¬ä¸‰æ–¹åº“åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™å‘äº†å¾ˆå¤šheaderï¼ŒæŠŠè¿™äº›headerä¹Ÿå†™è¿›postmanä¹‹åï¼Œæœç„¶è¿”å›äº†åŒæ ·çš„é”™è¯¯ã€‚è€Œä¹‹å‰åŒäº‹æµ‹è¯•æ—¶ï¼Œpostmané‡Œheaderéƒ½æ˜¯é»˜è®¤å€¼ã€‚æ‰€ä»¥å¯ä»¥è‚¯å®šé—®é¢˜å‡ºåœ¨headerä¸Šã€‚</p><p>åˆ é™¤äº†<code>SOAPAction</code>è¿™ä¸ªheaderä¹‹åï¼Œè¯·æ±‚å°±æˆåŠŸäº†ã€‚å†å…·ä½“åˆ°åº“é‡Œå»æœè¿™ä¸ª<code>SOAPAction</code>ï¼Œå‘ç°æœ‰ä¸€æ®µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!this.wsdl.options.forceSoap12Headers) &#123;</span><br><span class="line">  headers.SOAPAction = &apos;&quot;&apos; + soapAction + &apos;&quot;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çŒœæµ‹åº”è¯¥æ˜¯æœ‰ä¸€ä¸ª<code>forceSoap12Headers</code>ç›¸å…³çš„è®¾ç½®ï¼Œå†å»æ–‡æ¡£é‡Œä¸€æœï¼Œæœç„¶æœ‰ï¼ŒæŠŠè¿™ä¸ªè®¾ç½®ä¸º<code>true</code>ä¹‹åï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚å‰åå¤§æ¦‚èŠ±äº†ä¸€å°æ—¶ã€‚</p><p>å†™è¿™ç¯‡æ˜¯æƒ³è¯´ï¼Œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œé¦–å…ˆä½ å¾—å­¦ä¼šæ€ä¹ˆç£¨åˆ€ï¼Œç„¶åå¾—å­¦ä¼šæ€ä¹ˆç æŸ´ï¼Œè¿™æ ·æ‰èƒ½ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ã€‚å¯¹äºä¸€ä¸ªå®Œå…¨ä¸ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œå› ä¸ºæŒæ¡äº†æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œæ‰èƒ½ä¸‡ç‰©å½’ä¸€çš„å»è§£å†³ã€‚</p><p>æˆ‘åå¯¹å¯¹äºä¸ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¸€ä¸Šæ¥å°±é€šçœ‹æ–‡æ¡£ã€‚åœ¨å·¥ä½œå½“ä¸­ï¼Œæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´è®©ä½ ä»å¤´å»çœ‹æ–‡æ¡£ï¼ŒæŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¼„æ˜ç™½ä¹‹åæ‰å¼€å§‹å·¥ä½œçš„ã€‚<br>æ–‡æ¡£å¯¹äºæ²¡æœ‰ç»éªŒçš„äººæ¥è¯´çœ‹quick startéƒ¨åˆ†å°±å¤Ÿï¼Œå› ä¸ºå°±ç®—çœ‹åˆ°<code>forceSoap12Headers</code>ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚<br>å¯¹äºæœ‰ç»éªŒçš„äººï¼Œæ‰ä¼šéœ€è¦åœ¨ä¸€å¼€å§‹å°±å»ç»†çœ‹<code>forceSoap12Headers</code>çš„è®¾ç½®</p><p>æˆ‘ä¹Ÿåå¯¹æŠŠå†™ä¸€ç§è¯­è¨€çš„å‘˜å·¥å¼ºè¡Œå®‰æ’æš‚æ—¶å†™å¦ä¸€ç§è¯­è¨€ã€‚é™¤éæ˜¯æ‰“ç®—é•¿æœŸè½¬å‘å¦ä¸€ç§è¯­è¨€ï¼Œå¦åˆ™ä¸€ä¸¤å¤©åšå®Œä¸€ä¸ªtaskï¼Œæ ¹æœ¬ä¸ä¼šå¯¹æ–°çš„è¯­è¨€æœ‰ç³»ç»Ÿæ€§çš„ç ”ç©¶ï¼Œç”šè‡³éƒ½ä¸çŸ¥é“debugçš„å·¥å…·æ€ä¹ˆç”¨ï¼Œå¯¹ä¸ªäººçš„å‘å±•æ˜¯æ²¡ä»€ä¹ˆå®è´¨æ€§çš„å¸®åŠ©çš„ï¼Œè€Œä¸”å†™å‡ºæ¥çš„ä»£ç å¤§éƒ½åªèƒ½è¾¾åˆ°â€œèƒ½ç”¨â€çš„ç¨‹åº¦ï¼Œå¯ç»´æŠ¤æ€§å’Œç¨³å®šæ€§éƒ½ä¸ä¸€å®šä¼šå¥½ï¼Œé•¿è¿œæ¥çœ‹å¯¹å…¬å¸ä¹Ÿæ˜¯ä¸å¤ªå¥½çš„ã€‚ä¸è¿‡åˆ›ä¸šå…¬å¸å˜›ï¼ŒåŠå¹´ä¸€æ¬¡revampï¼Œå¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜â€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢JSè¿™ç§è„‘æ®‹è¯­è¨€çš„ï¼Œå¹¶ä¸”ä¹Ÿä¸æƒ³å°†å…¶ä»–è¯­è¨€ç”¨åœ¨å·¥ä½œä¸­ï¼Œæ¯”å¦‚PHPã€PYTHONã€JAVAä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åˆ°æœ€åè‚¯å®šæ‰€æœ‰è¯­è¨€éƒ½æ˜¯ç›¸é€šçš„ï¼Œæ¯”å¦‚æ¯ç§è¯­è¨€éƒ½ä¼šæœ‰è‡ªå·±çš„&lt;code&gt;lodash&lt;/code&gt;ã€&lt;code&gt;npm&lt;/code&gt;ã€&lt;co
      
    
    </summary>
    
      <category term="å¿ƒå¾—ä½“ä¼š" scheme="http://sabrinaluo.com/tech/categories/%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A/"/>
    
    
      <category term="forceSoap12Headers" scheme="http://sabrinaluo.com/tech/tags/forceSoap12Headers/"/>
    
      <category term="soap" scheme="http://sabrinaluo.com/tech/tags/soap/"/>
    
  </entry>
  
  <entry>
    <title>openvpnåœ¨macä¸‹çš„ä¸€ç‚¹é—®é¢˜</title>
    <link href="http://sabrinaluo.com/tech/2017/01/03/vpn/"/>
    <id>http://sabrinaluo.com/tech/2017/01/03/vpn/</id>
    <published>2017-01-03T06:42:57.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ‰å‘ç°è‡ªä»ä¹°äº†æ–°Macä¹‹åæ ¹æœ¬æ²¡æœ‰ç”¨æ–°ç”µè„‘å†™è¿‡ä»€ä¹ˆä¸œè¥¿ï¼Œå¯¼è‡´æˆ‘ä»Šå¤©å±…ç„¶è¿˜è¦<code>npm install</code>æ‰èƒ½è·‘èµ·æ¥HEXOï¼ŒçœŸæ˜¯ä¸çŸ¥é“æœ‰å¤šæ‡’ã€‚</p><p>ä½œä¸ºä¸€ä¸ªåœ¨å¢™å¤–å±…ä½äº†å¥½å‡ å¹´çš„äººï¼ŒåªçŸ¥é“ç”¨Unblock youkuç¿»å¢™è¿›å¢™å†…å»çœ‹è§†é¢‘ï¼Œæ ¹æœ¬ä¸çŸ¥é“åœ¨å¢™å†…æ€ä¹ˆç¿»å‡ºæ¥ã€‚æ—©äº›å¹´çš„æ—¶å€™ï¼Œç¿»åˆ°å¢™å¤–æ˜¯å¾ˆç®€å•çš„ï¼Œå…è´¹çš„è½¯ä»¶ä¹Ÿå¾ˆå¤šï¼Œå¥½åƒä¹Ÿä¸ç”¨VPNå•¥ï¼Œhostæ–‡ä»¶é‡ŒåŠ å‡ ä¸ªIPå•¥çš„å°±èƒ½ä¸ŠGoogleäº†ï¼Œç°åœ¨çœŸæ˜¯é—¨æ§›è¶Šæ¥è¶Šé«˜äº†å‘¢â€¦â€¦å›ä¸€è¶Ÿå†…åœ°80%æˆ‘å¹³æ—¶ä¸Šçš„ç½‘ç«™éƒ½ä¸Šä¸å»ï¼Œå…¬å¸çš„ç½‘ç«™ä¹Ÿä¸Šä¸å»ï¼Œåæ­£æ ¹æœ¬æ²¡æ³•work from homeï¼Œå¹¸å¥½æˆ‘æ˜¯åœ¨è¿‡å¹´å‰å‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼Œç°åœ¨è¿˜æ¥å¾—åŠè§£å†³ä¸€ä¸‹ï¼Œä¸ç„¶å°±å‘µå‘µå‘µå‘µâ€¦â€¦</p><p>ä»¥å‰å¥½åƒä¹Ÿç”¨è¿‡<code>.ovpn</code>æ–‡ä»¶ï¼Œç”¨å‘½ä»¤è¡Œè·‘ä¸€ä¸‹ï¼Œå°±è¿ä¸Šäº†vpnï¼Œç°åœ¨å·²ç»ä¸è®°å¾—æ˜¯æ€ä¹ˆç”¨äº†çš„â€¦ä»Šå¤©å¿½ç„¶å‘ç°å…¬å¸å±…ç„¶æœ‰openvpnï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘åœ¨å†…åœ°æ²¡æ³•å·¥ä½œäº†ï¼Œå¯¹çš„ï¼Œæˆ‘çš„å¿ƒé‡Œåªæœ‰å·¥ä½œï¼:P</p><p>é€šå¸¸å…¬å¸æä¾›çš„openvpnæœåŠ¡éƒ½ä¼šæœ‰ä¸€ä¸ªportalï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸ªç½‘å€ï¼Œè¿›å…¥ä¹‹åéœ€è¦ç™»å½•å…¬å¸æä¾›çš„è´¦å·ï¼Œç„¶åä¸‹è½½ç›¸åº”çš„å®¢æˆ·ç«¯ï¼Œä¹‹ååŸºæœ¬ä¸Šæ˜¯æ— è„‘ä½¿ç”¨â€¦â€¦åæ­£æˆ‘åˆ°ç°åœ¨ä¹Ÿä¸çŸ¥é“æˆ‘ç”µè„‘ä¸Šçš„credentialsæ˜¯æ€ä¹ˆç”Ÿæˆçš„ã€‚</p><p>ç„¶è€Œé«˜è´µçš„macæ€»æ˜¯æœ‰å„ç§å„æ ·çš„é—®é¢˜ï¼Œè£…å¥½openvpn connectä¹‹åå±…ç„¶è¿æ¥é”™è¯¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fails: Error running jsondialog</span><br></pre></td></tr></table></figure></p><p>æŸ¥äº†ä¸€ä¸‹è¿™æ˜¯å› ä¸ºmacä¸‹çš„ä¸€ä¸ªä»€ä¹ˆ<code>csrutil</code>ä¿æŠ¤æœºåˆ¶å‡ºäºenableçŠ¶æ€ï¼Œ<code>csrutil status</code>å¯æŸ¥çœ‹ã€‚è€Œdisableè¿™ä¸ªä¸œè¥¿éœ€è¦åœ¨recovery modeä¸‹è·‘å‘½ä»¤æ‰è¡Œâ€¦â€¦çœŸæ˜¯éº»çƒ¦å‘¢ã€‚</p><ul><li>é‡å¯ç”µè„‘ï¼ŒæŒ‰ä½cmd+ré”®è¿›å…¥recovery mode</li><li>å¼€å¤´ä¼šè®©é€‰ä¸ªè¯­è¨€ï¼Œé€‰å®Œä¹‹åä¼šå‡ºæ¥ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé‡Œé¢æœ‰å¥½å¤šé€‰é¡¹ï¼Œä¸€ä¸ªéƒ½ä¸è¦é€‰ï¼</li><li>åœ¨é¡¶éƒ¨çš„å·¥å…·æ¡ä¸­ç‚¹å‡»utilitiesï¼Œç„¶åé€‰terminal</li><li>åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­æ‰§è¡Œ<code>csrutil disable; reboot</code></li><li>é‡å¯ä¹‹åå°±èƒ½è¿æ¥ä¸Šäº†</li></ul><p>å‚è€ƒï¼š<br>[1]<a href="https://forums.openvpn.net/viewtopic.php?t=19879" target="_blank" rel="noopener">https://forums.openvpn.net/viewtopic.php?t=19879</a><br>[2]<a href="http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/" target="_blank" rel="noopener">http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æ‰å‘ç°è‡ªä»ä¹°äº†æ–°Macä¹‹åæ ¹æœ¬æ²¡æœ‰ç”¨æ–°ç”µè„‘å†™è¿‡ä»€ä¹ˆä¸œè¥¿ï¼Œå¯¼è‡´æˆ‘ä»Šå¤©å±…ç„¶è¿˜è¦&lt;code&gt;npm install&lt;/code&gt;æ‰èƒ½è·‘èµ·æ¥HEXOï¼ŒçœŸæ˜¯ä¸çŸ¥é“æœ‰å¤šæ‡’ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªåœ¨å¢™å¤–å±…ä½äº†å¥½å‡ å¹´çš„äººï¼ŒåªçŸ¥é“ç”¨Unblock youkuç¿»å¢™è¿›å¢™å†…å»çœ‹è§†é¢‘ï¼Œæ ¹æœ¬ä¸çŸ¥
      
    
    </summary>
    
    
      <category term="VPN" scheme="http://sabrinaluo.com/tech/tags/VPN/"/>
    
      <category term="openvpn" scheme="http://sabrinaluo.com/tech/tags/openvpn/"/>
    
      <category term="ç¿»å¢™" scheme="http://sabrinaluo.com/tech/tags/%E7%BF%BB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›jså°æŠ€å·§</title>
    <link href="http://sabrinaluo.com/tech/2016/10/19/some-js-tricks/"/>
    <id>http://sabrinaluo.com/tech/2016/10/19/some-js-tricks/</id>
    <published>2016-10-19T07:08:33.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥ä¸ºè¿™ç¯‡å·²ç»å‘è¿‡äº†ï¼Œç»“æœå‰ä¸¤å¤©æœçš„æ—¶å€™å‘ç°æœä¸åˆ°ã€‚ä¸€ç›´æ‰”åœ¨è‰ç¨¿é‡Œï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹ä¹‹å‰å’Œæœ€è¿‘å­¦åˆ°çš„ä¸€äº›JSå°æŠ€å·§</p><h3 id="åˆ©ç”¨ä½è¿ç®—å–æ•´"><a href="#åˆ©ç”¨ä½è¿ç®—å–æ•´" class="headerlink" title="åˆ©ç”¨ä½è¿ç®—å–æ•´"></a>åˆ©ç”¨ä½è¿ç®—å–æ•´</h3><p>åˆ©ç”¨ä½è¿ç®—ï¼Œä¸ã€æˆ–ã€å¼‚æˆ–ã€å·¦å³ç§»ä½ï¼Œ<code>&amp;</code> <code>|</code> <code>^</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code> <code>&lt;&lt;</code> ï¼Œèˆå»å°æ•°ç‚¹åçš„æ•°å­—<a href="http://www.cnblogs.com/kkun/archive/2012/01/30/2332309.html" target="_blank" rel="noopener">^1</a>ï¼Œ<a href="http://jsperf.com/coercion-vs-casting/3" target="_blank" rel="noopener">jsPerf</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = 6.54321;</span><br><span class="line">console.log(a | 0); //6</span><br><span class="line">console.log(a &amp; 0); //6</span><br></pre></td></tr></table></figure></p><blockquote><p>æŒ‰ä½<strong>éé</strong>è¿ç®—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç”¨<strong>å‘»åŸå·</strong>æŠŠä»£ç å†™æˆè¿™æ ·<code>~~a</code></p></blockquote><h3 id="å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"><a href="#å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—" class="headerlink" title="+ å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"></a>+ å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</h3><p>åˆ©ç”¨åŠ å· <code>+</code> å°†æ•°å­—å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ç±»å‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &quot;56789&quot;;</span><br><span class="line">var b = +a;</span><br><span class="line">console.log(typeof b); //number</span><br><span class="line">console.log(b); //56789</span><br></pre></td></tr></table></figure></p><blockquote><ul><li>åªèƒ½æ˜¯åè¿›åˆ¶</li><li>å¦‚æœ<code>a</code>æ˜¯éæ•°å­—å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿”å›<code>NaN</code></li></ul></blockquote><h3 id="å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹"><a href="#å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹" class="headerlink" title="!! å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹"></a>!! å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹</h3><p>åˆ©ç”¨<code>!!</code>å°†å˜é‡ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸º<code>boolean</code>ç±»å‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a=123;</span><br><span class="line">typeof a; //nmuber</span><br><span class="line">typeof !!a; //boolean</span><br></pre></td></tr></table></figure><h3 id="é¿å…can-not-read-property-â€˜xxxâ€™-of-nullçš„å°æŠ€å·§"><a href="#é¿å…can-not-read-property-â€˜xxxâ€™-of-nullçš„å°æŠ€å·§" class="headerlink" title="é¿å…can not read property â€˜xxxâ€™ of nullçš„å°æŠ€å·§"></a>é¿å…<code>can not read property â€˜xxxâ€™ of null</code>çš„å°æŠ€å·§</h3><p>ç»å¸¸ä¼šé‡åˆ°çš„ä¸€ä¸ªæƒ…å†µæ˜¯ä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™<code>can not read property &#39;c&#39; of null</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(a.b.c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥å‰è‡ªå·±çš„å†™æ³•ä»¥åŠç»å¸¸è§åˆ°çš„å†™æ³•æ˜¯è¿™æ ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(a &amp;&amp; a.b &amp;&amp; a.b.c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªé€¼æ ¼å¾ˆé«˜çš„å†™æ³•ï¼Œä¸è¿‡æˆ‘è§‰å¾—æ‹¬å·å¤ªå¤šäº†ï¼Œå®¹æ˜“å†™é”™ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰ä¸Šé¢çš„é‚£ç§å†™æ³•ç®€å•ã€‚ä¸è¿‡è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹ï¼Œä»¥å…ä»¥åè§åˆ°ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(((a||&#123;&#125;).b||&#123;&#125;).c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®é»˜è®¤å€¼"><a href="#è®¾ç½®é»˜è®¤å€¼" class="headerlink" title="|| è®¾ç½®é»˜è®¤å€¼"></a>|| è®¾ç½®é»˜è®¤å€¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function abc(a, b)&#123;</span><br><span class="line">    a = a || 1; </span><br><span class="line">    b = b || 2;</span><br><span class="line"></span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abc(); //3</span><br><span class="line">abc(5); //7</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€äº›æƒ…å†µä¸‹å‡½æ•°ä¸­éœ€è¦è®¾ç½®é»˜è®¤å€¼ï¼Œç»å¸¸çœ‹åˆ°æœ‰äººçš„å†™æ³•æ˜¯<code>typeof</code>å…ˆåˆ¤æ–­è¿™ä¸ªå‚æ•°æ˜¯ä¸æ˜¯<code>undefined</code>ç„¶åå†èµ‹å€¼ï¼Œè¿™ç§å†™æ³•å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†â€¦â€¦ä¸Šé¢çš„æ˜¯æ‡’äººå†™æ³•</p><p>æ„Ÿè§‰å–„ç”¨<code>||</code>å’Œ<code>&amp;&amp;</code>è¿˜æ˜¯èƒ½æå‡ºå¾ˆå¤šé»‘ç§‘æŠ€çš„ã€‚</p><p>ä»¥ä¸Šï¼Œæ˜¯ä¸ºæ‰“é…±æ²¹åšå®¢ä¸€ç¯‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€ç›´ä»¥ä¸ºè¿™ç¯‡å·²ç»å‘è¿‡äº†ï¼Œç»“æœå‰ä¸¤å¤©æœçš„æ—¶å€™å‘ç°æœä¸åˆ°ã€‚ä¸€ç›´æ‰”åœ¨è‰ç¨¿é‡Œï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹ä¹‹å‰å’Œæœ€è¿‘å­¦åˆ°çš„ä¸€äº›JSå°æŠ€å·§&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨ä½è¿ç®—å–æ•´&quot;&gt;&lt;a href=&quot;#åˆ©ç”¨ä½è¿ç®—å–æ•´&quot; class=&quot;headerlink&quot; title=&quot;åˆ©ç”¨ä½è¿ç®—å–æ•´&quot;&gt;&lt;/a&gt;åˆ©
      
    
    </summary>
    
      <category term="JS" scheme="http://sabrinaluo.com/tech/categories/JS/"/>
    
    
      <category term="js" scheme="http://sabrinaluo.com/tech/tags/js/"/>
    
      <category term="tricks" scheme="http://sabrinaluo.com/tech/tags/tricks/"/>
    
      <category term="jså°æŠ€å·§" scheme="http://sabrinaluo.com/tech/tags/js%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>CSSçš„å‡ ä¸ªå°æŠ€å·§ï¼špointer-events, transformå‚ç›´å±…ä¸­,nth-child</title>
    <link href="http://sabrinaluo.com/tech/2016/09/20/some-css-tricks/"/>
    <id>http://sabrinaluo.com/tech/2016/09/20/some-css-tricks/</id>
    <published>2016-09-20T08:44:46.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼:(</p></blockquote><p>å¥½ä¹…æ²¡æœ‰å†™ä»€ä¹ˆä¸œè¥¿äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ€è¿‘ä¸€ç›´åšçš„äº‹æƒ…éƒ½æ˜¯åœ¨é‡å¤æ¬ç –ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–°é²œçš„ä¸œè¥¿â€¦æ›´å¯èƒ½æ˜¯å› ä¸ºå¤ªæ‡’äº†â€¦</p><p>æ€»ç»“ä¸€ä¸‹å‰æ®µæ—¶é—´å­¦åˆ°çš„å‡ ä¸ªcsså°æŠ€å·§ï¼Œä»¥å…è¿‡å‡ å¤©åˆå¿˜è®°äº†</p><h3 id="CSSæ§åˆ¶è¶…é“¾æ¥æ˜¯å¦å¯ç‚¹å‡»ï¼špointer-event"><a href="#CSSæ§åˆ¶è¶…é“¾æ¥æ˜¯å¦å¯ç‚¹å‡»ï¼špointer-event" class="headerlink" title="CSSæ§åˆ¶è¶…é“¾æ¥æ˜¯å¦å¯ç‚¹å‡»ï¼špointer-event"></a>CSSæ§åˆ¶è¶…é“¾æ¥æ˜¯å¦å¯ç‚¹å‡»ï¼špointer-event</h3><p>ä¸€å¼€å§‹æˆ‘å¬è¯´CSSå¯ä»¥disableè¶…é“¾æ¥çš„æ—¶å€™æˆ‘æ˜¯æ‹’ç»çš„ï¼Œå› ä¸ºé€šå¸¸åœ¨æœ‰<code>href</code>å±æ€§çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨jsæ¥ç¦æ­¢è¶…é“¾æ¥çš„ã€‚<br>ç„¶é¹…â€¦CSSé‡Œå±…ç„¶æœ‰pointer-events<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events" target="_blank" rel="noopener">^1</a>è¿™ç§é»‘ç§‘æŠ€ï¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a&#123;</span><br><span class="line">    pointer-events: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="transform-å‚ç›´å±…ä¸­-2"><a href="#transform-å‚ç›´å±…ä¸­-2" class="headerlink" title="transform å‚ç›´å±…ä¸­ ^2"></a>transform å‚ç›´å±…ä¸­ <a href="http://zerosixthree.se/vertical-align-anything-with-just-3-lines-of-css/" target="_blank" rel="noopener">^2</a></h3><p>CSSå‚ç›´å±…ä¸­ä¸€ç›´æ˜¯ä¸€ä¸ªè›‹ç–¼çš„é—®é¢˜ï¼Œå¸¸å¸¸éœ€è¦ç”¨åˆ°ï¼Œå´æ²¡æœ‰ä¸€ä¸ªæ‰€æœ‰æµè§ˆå™¨ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½é€‚ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ç­‰æˆ‘ä»¥åæœ‰ç©ºäº†ï¼Œåº”è¯¥ä¸“é—¨å†™ä¸€ç¯‡è®¨è®ºCSSå‚ç›´å±…ä¸­å„ç§è§£å†³æ–¹æ¡ˆçš„åšå®¢â€¦â€¦åˆ«é—®æˆ‘ä»¥åæ˜¯ä»€ä¹ˆæ—¶å€™â€¦XD<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.bbb&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    transform: translateY(-50%);</span><br><span class="line">    top: 50%</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;aaa&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;bbb&quot;&gt;qqq&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><h3 id="nth-child"><a href="#nth-child" class="headerlink" title="nth-child"></a>nth-child</h3><p>é€šå¸¸ä¸€ä¸ªåˆ—è¡¨é‡Œï¼Œæ€»æ˜¯å›é‡åˆ°éœ€è¦é«˜äº®æŸå‡ ä¸ªitemçš„æƒ…å†µï¼ŒCSSå±…ç„¶è¿˜å¯ä»¥é€šè¿‡å…¬å¼æ¥æ§åˆ¶æ ·å¼ï¼Œæˆ‘åˆæ¶¨å§¿åŠ¿äº†ã€‚</p><p>ä»¥å‰åªçŸ¥é“å¯ä»¥æ§åˆ¶å¥‡æ•°å¶æ•°è¿™ç§ç®€å•çš„ï¼Œåæ¥å‘ç°ï¼Œåªè¦æ˜¯æœ‰è§„å¾‹çš„ï¼Œèƒ½å¤Ÿå†™æˆan+bçš„å…¬å¼ï¼Œéƒ½å¯ä»¥é€‚ç”¨<code>nth-child</code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child" target="_blank" rel="noopener">^3</a></p><ul><li><code>li:nth-child(even)</code> é€‰ä¸­å¶æ•°</li><li><code>li:nth-child(odd)</code> é€‰ä¸­å¥‡æ•°</li><li><code>li:nth-child(3n+2)</code> ä»ç¬¬2ä¸ªå¼€å§‹ï¼Œæ¯3ä¸ªé€‰ä¸­ä¸€ä¸ª</li><li><code>li:nth-child(3)</code> ç›´é€‰ä¸­ç¬¬3ä¸ª</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼åƒä¸‡ä¸è¦ç”¨æ²¡æœ‰è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„ç¼–è¾‘å™¨ï¼:(&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¥½ä¹…æ²¡æœ‰å†™ä»€ä¹ˆä¸œè¥¿äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ€è¿‘ä¸€ç›´åšçš„äº‹æƒ…éƒ½æ˜¯åœ¨é‡å¤æ¬ç –ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–°é²œçš„ä¸œè¥¿â€¦æ›´å¯èƒ½æ˜¯
      
    
    </summary>
    
      <category term="CSS" scheme="http://sabrinaluo.com/tech/categories/CSS/"/>
    
    
      <category term="tricks" scheme="http://sabrinaluo.com/tech/tags/tricks/"/>
    
      <category term="css" scheme="http://sabrinaluo.com/tech/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Jenkinsé›†æˆgithub pull requestæ’ä»¶</title>
    <link href="http://sabrinaluo.com/tech/2016/07/14/jenkins-github-pull-request-builder/"/>
    <id>http://sabrinaluo.com/tech/2016/07/14/jenkins-github-pull-request-builder/</id>
    <published>2016-07-14T06:41:02.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ä¸ä¹…ç»™bootstrapæäº†ä¸ª<a href="https://github.com/twbs/bootstrap/issues/19997" target="_blank" rel="noopener">issue</a>ï¼Œç„¶åè¢«ä»–ä»¬çš„é«˜ç§‘æŠ€è‡ªåŠ¨å›å¤æœºå™¨äººå“èŒæ¯”äº†ã€‚<br>æœ‰å°è±¡ä¹‹å‰ç»™ï¼ŒæŸäº›repoæPRçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ç”¨çš„Travis CIï¼Œä¹Ÿä¼šæœ‰ç›¸åº”çš„æç¤ºè¯¥PRæ˜¯å¦passäº†æ‰€æœ‰test caseã€‚</p><p>å¦‚æœä½¿ç”¨cloud based CIï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½å·²ç»æ•´åˆäº†ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ã€‚å¦‚ä¸Štravisçš„ä¾‹å­ï¼Œåªè¦åœ¨travisé…ç½®é‡Œå¼€å¯pull requesté€‰é¡¹ï¼Œå…è®¸PRè¿‡æ¥çš„æ—¶å€™è‡ªåŠ¨è·‘æµ‹è¯•ï¼Œå°±å¯ä»¥å®ç°ã€‚</p><p>ç„¶è€Œï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯jenkinsè¿™ç§è‡ªå·±æœåŠ¡å™¨ä¸Šçš„CIï¼Œé…ç½®å°±ç¨å¾®æœ‰ç‚¹éº»çƒ¦äº†ã€‚</p><h3 id="æ•´åˆpushå’Œjenkins"><a href="#æ•´åˆpushå’Œjenkins" class="headerlink" title="æ•´åˆpushå’Œjenkins"></a>æ•´åˆpushå’Œjenkins</h3><p>github repoé¡µé¢ &gt; Settings &gt; webhooks &amp; services</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š</p><ol><li>add webhookï¼Œå¯è‡ªå®šä¹‰è§¦å‘äº‹ä»¶ï¼Œå¯å®šåˆ¶ç¨‹åº¦è¾ƒé«˜</li><li>add serviceï¼Œé€‰å¥½å¯¹åº”çš„æœåŠ¡ï¼Œåªå¡«ä¸€ä¸ªurlå³å¯ï¼Œå¯å®šåˆ¶ç¨‹åº¦è¾ƒä½ã€‚</li></ol><p>ç¬¬ä¸€ä¸ªæ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯ç‚¹è¿›å»çœ‹çœ‹æœ‰å“ªäº›é€‰é¡¹ä¹Ÿå°±æ¯”è¾ƒæ¸…æ™°æ˜äº†å¤§æ¦‚ç”¨æ³•äº†ã€‚<br>ç¬¬äºŒä¸ªï¼Œå¦‚æœä½¿ç”¨jenkinsï¼Œéœ€è¦ä½ çš„jenkinsæœåŠ¡å™¨è£…æœ‰å¯¹åº”çš„æ’ä»¶ã€‚</p><p>æ•´ä¸ªæµç¨‹çš„åŸç†æ˜¯ï¼Œå½“githubæ”¶åˆ°ä»»ä½•äº‹ä»¶ï¼ˆæ¯”å¦‚push, prç­‰ç­‰ï¼‰ï¼Œå°±ä¼šå°†å¯¹åº”çš„ä¿¡æ¯å‘é€åˆ°ä½ å¡«çš„é‚£ä¸ªurlä¸­ã€‚è¿™ä¸ªurlæ˜¯ä½ jenkinsæœåŠ¡å™¨ç”¨æ¥æ¥å—ä¿¡æ¯çš„ã€‚Jenkinsæ”¶åˆ°ä¿¡æ¯ä¹‹åï¼Œå°±ä¼šæ ¹æ®jobçš„é…ç½®åšç›¸åº”çš„äº‹æƒ…ï¼Œæ¯”å¦‚æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ç­‰ç­‰ã€‚</p><h3 id="æ•´åˆpull-request"><a href="#æ•´åˆpull-request" class="headerlink" title="æ•´åˆpull request"></a>æ•´åˆpull request</h3><p>è¿™é‡Œé‡ç‚¹è¯´ä¸€ä¸‹æ€ä¹ˆæ•´åˆjenkinså’Œgithubçš„pull requestï¼Œ<strong>å®ç°æ¯å½“æœ‰pull requestæ—¶ï¼Œè§¦å‘CIè·‘æµ‹è¯•ï¼Œå¹¶å°†æµ‹è¯•ç»“æœæ˜¾ç¤ºåœ¨githubä¸Š</strong>ã€‚</p><p>è¿™é‡Œéœ€è¦åˆ†åˆ«åœ¨githubå’Œjenkinsåšç›¸åº”çš„è®¾ç½®ã€‚</p><p>githubä¸­çš„è®¾ç½®ä¸ä¸Šéƒ¨åˆ†æåˆ°çš„ç›¸åŒï¼Œä¸»è¦æ˜¯å¡«url</p><p>jenkinsæœåŠ¡å™¨ä¸­ï¼š<br>é¦–å…ˆéœ€è¦å®‰è£… <a href="https://wiki.jenkins-ci.org/display/JENKINS/GitHub+pull+request+builder+plugin" target="_blank" rel="noopener">github pull request builder plugin</a></p><p>æ·»åŠ ç”¨æˆ·åã€å¯†ç ã€tokenç­‰ç­‰credentialsç›¸å…³çš„éœ€è¦åœ¨jenkinsçš„ç®¡ç†é¢æ¿æ·»åŠ </p><ul><li>source code managementï¼Œé™¤åŸºæœ¬é€‰é¡¹å¤–ï¼Œéœ€è¦å¡«å†™advancedé€‰é¡¹ã€‚<ul><li>repo name: <code>origin</code></li><li>repo refspec: <code>+refs/pull/*:refs/remotes/origin/pr/*</code></li><li>repository browser é€‰æ‹©githubweb</li></ul></li><li>Build Triggers:<ul><li>å‹¾é€‰ Github Pull Request Builder</li><li>å‹¾é€‰ Use github hooks for build triggering</li><li>Admin Listé‡Œå¯ä»¥å¡«å†™githubç”¨æˆ·åï¼Œè¿™æ ·è¯¥ç”¨æˆ·å°±ä¼šæœ‰å¯¹åº”çš„æƒé™</li><li>advancedé€‰é¡¹ä¸­ï¼Œéœ€è¦åœ¨White Listä»¥åŠList of organizetionså¡«å†™ç›¸åº”çš„ç”¨æˆ·åï¼Œè¿™æ ·PRæ‰èƒ½è¢«è‡ªåŠ¨buildï¼Œä¸åœ¨ç™½åå•é‡Œçš„ç”¨æˆ·æäº¤çš„préœ€è¦ç®¡ç†å‘˜å®¡æ ¸åæ‰ä¼šbuild</li><li>å¦‚æœæ²¡æœ‰å‹¾é€‰ Build every pull request automatically without asking (Dangerous!)ï¼Œæ¯æ¬¡æœ‰præ—¶ï¼Œæœºå™¨äººè´¦å·ä¼šè‡ªåŠ¨è¯„è®º<em>â€œCan one of the admins verify this patch?â€</em>ï¼Œä¹‹åç®¡ç†å‘˜å›å¤ç›¸åº”çš„è¯­å¥æ¥è§¦å‘Jenkinsæ“ä½œ<ul><li>â€œok to testâ€ å…è®¸è¯¥prä¹‹åè‡ªåŠ¨è§¦å‘jenkins build</li><li>â€œtest this pleaseâ€ åªbuildä¸€æ¬¡ï¼Œè¯¥prä¹‹åçš„æ”¹åŠ¨ä¸ä¼šè‡ªåŠ¨è§¦å‘Build</li><li>â€œadd to whitelistâ€ å°†è¯¥prçš„ä½œè€…å‡å¦‚ç™½åå•</li><li>â€œretest this pleaseâ€ é‡æ–°bulidä¸€æ¬¡<br><strong>å…¶ä»–é€‰é¡¹éƒ½ä¿æŒé»˜è®¤ä¸è¦æ›´æ”¹ï¼</strong></li></ul></li></ul></li><li>æ„å»ºã€ç¯å¢ƒç›¸å…³çš„è®¾ç½®ä¾‹å¦‚<code>npm install</code> <code>npm test</code>ç­‰ï¼Œè·Ÿå¹³æ—¶ä¸€æ ·å³å¯ã€‚</li></ul><p>æœ€åä¿å­˜è®¾ç½®ï¼Œæäº¤ä¸€ä¸ªprï¼Œå¦‚æœè®¾ç½®éƒ½æ­£ç¡®çš„è¯ï¼Œåœ¨æäº¤prçš„é¡µé¢å°†èƒ½çœ‹åˆ°ä¸€ä¸ªâ€œæ­£åœ¨checkingâ€¦â€çš„æç¤ºï¼Œå½“æµ‹è¯•è·‘å®Œä¹‹åå°†èƒ½çœ‹åˆ°check passedæˆ–è€…check failedã€‚å¦å¤–ä¹Ÿèƒ½å¤Ÿåœ¨pr overviewé¡µé¢çœ‹åˆ°pråé¢ä¼šæœ‰ä¸ªç»¿è‰²çš„å°å‹¾æˆ–çº¢è‰²çš„å°å‰ã€‚</p><p>äºæ˜¯è°æäº¤çš„prä¸é€šè¿‡æµ‹è¯•å°±èƒ½ä¸€ç›®äº†ç„¶ï¼Œå†ä¹Ÿä¸ç”¨å¸®åˆ«äººfix test caseå•¦ï¼</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="http://jakubstas.com/github-and-jenkins-pull-request-checking" target="_blank" rel="noopener">http://jakubstas.com/github-and-jenkins-pull-request-checking</a><br><a href="http://jakubstas.com/github-and-jenkins-integration" target="_blank" rel="noopener">http://jakubstas.com/github-and-jenkins-integration</a><br><a href="https://www.theguild.nl/building-github-pull-requests-with-jenkins" target="_blank" rel="noopener">https://www.theguild.nl/building-github-pull-requests-with-jenkins</a><br><a href="https://wiki.jenkins-ci.org/display/JENKINS/GitHub+pull+request+builder+plugin" target="_blank" rel="noopener">https://wiki.jenkins-ci.org/display/JENKINS/GitHub+pull+request+builder+plugin</a><br><a href="https://github.com/jenkinsci/ghprb-plugin" target="_blank" rel="noopener">https://github.com/jenkinsci/ghprb-plugin</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰ä¸ä¹…ç»™bootstrapæäº†ä¸ª&lt;a href=&quot;https://github.com/twbs/bootstrap/issues/19997&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;issue&lt;/a&gt;ï¼Œç„¶åè¢«ä»–ä»¬çš„é«˜ç§‘æŠ€è‡ªåŠ¨å›å¤æœºå™¨äººå“èŒæ¯”äº†ã€‚&lt;b
      
    
    </summary>
    
      <category term="DEVOPS" scheme="http://sabrinaluo.com/tech/categories/DEVOPS/"/>
    
    
      <category term="github" scheme="http://sabrinaluo.com/tech/tags/github/"/>
    
      <category term="æŒç»­é›†æˆ" scheme="http://sabrinaluo.com/tech/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"/>
    
      <category term="jenkins" scheme="http://sabrinaluo.com/tech/tags/jenkins/"/>
    
      <category term="CI" scheme="http://sabrinaluo.com/tech/tags/CI/"/>
    
  </entry>
  
  <entry>
    <title>å¾®åšå¼€æ”¾å¹³å°çš„Basic Authå’ŒOAuth2.0è®¤è¯</title>
    <link href="http://sabrinaluo.com/tech/2016/06/20/intro-of-oauth2-0/"/>
    <id>http://sabrinaluo.com/tech/2016/06/20/intro-of-oauth2-0/</id>
    <published>2016-06-20T09:59:09.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« ä¸æ˜¯è®²å„ç§è®¤è¯æ–¹å¼æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œåªæ˜¯ç®€å•çš„ä»‹ç»å¦‚ä½•ä¸å¾®åšè¿›è¡Œæ•´åˆã€‚</p><p>å¾®åšå¼€æ”¾å¹³å°å…è®¸ä½¿ç”¨apiæ¥å¼€å‘ä¸€äº›ä¸å¾®åšç›¸å…³çš„åº”ç”¨ï¼Œå¾®åšæä¾›<strong>Basic Auth</strong>å’Œ<strong>OAuth2.0</strong>ä¸¤ç§è®¤è¯æ–¹å¼ï¼Œå…¶ä¸­Basic Authåªèƒ½ç”¨äºæµ‹è¯•ç¯å¢ƒã€‚</p><h3 id="Basic-Auth"><a href="#Basic-Auth" class="headerlink" title="Basic Auth"></a>Basic Auth</h3><p>è·Ÿåå­—ä¸€æ ·ï¼Œå°±æ˜¯å¾ˆåŸºæœ¬å¾ˆç®€å•ã€‚å…¶æœ¬è´¨æ˜¯ä½¿ç”¨<code>username:password</code>è¿›è¡Œ<code>base64</code>åŠ å¯†ä¹‹åå¾—åˆ°ä¸€ä¸ªtokenï¼Œç„¶åå‘é€çš„è¯·æ±‚ä¸­æ·»åŠ ä¸€ä¸ªheader <code>Authorization: Basic token</code>ã€‚</p><h3 id="OAuth-2-0"><a href="#OAuth-2-0" class="headerlink" title="OAuth 2.0"></a>OAuth 2.0</h3><p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¾®åšåªå…è®¸ä½¿ç”¨è¿™ç§è®¤è¯æ–¹å¼ï¼Œè¿™ä¸ªæ¯”èµ·ç›´æ¥ç”¨ç”¨æˆ·åå’Œå¯†ç å°±è¦å¤æ‚ä¸€äº›ã€‚</p><p>ç®€å•çš„æ¥è¯´OAuth2.0è®¤è¯çš„æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p><ol><li>é¦–å…ˆå‘ä¸€ä¸ªè¯·æ±‚å»å¾®åšï¼Œå‘Šè¯‰å®ƒï¼Œæˆ‘è¦ç™»é™†å•¦</li><li>ç„¶åå¾®åšè¿”å›ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œç­‰å¾…ç”¨æˆ·ç”¨å¾®åšè´¦å·ç™»é™†</li><li>ç”¨æˆ·ç™»é™†ä¹‹åï¼Œé¡µé¢ä¼šè·³è½¬åˆ°<strong>æˆæƒå›è°ƒé¡µ</strong>ï¼Œè¿™ä¸ªé¡µé¢çš„urlä¼šæœ‰ä¸€ä¸ªqueryæ˜¯<code>code=</code>ï¼Œåé¢è·Ÿç€çš„ä¸€ä¸²code</li><li>å½“è¿›è¡Œå…¶ä»–apiè°ƒç”¨æ—¶ï¼Œåœ¨apiååŠ ä¸Šquery<code>code=xxx</code>ä»¥åŠå…¶ä»–è¦æ±‚çš„å‚æ•°ï¼Œæ¯”å¦‚<code>client_id</code>ï¼Œ<code>client_key</code>ç­‰ç­‰å³å¯è¿›è¡Œè°ƒç”¨</li></ol><ul><li>å¼€æ”¾å¹³å°&gt;æˆ‘çš„åº”ç”¨&gt;åº”ç”¨ä¿¡æ¯&gt;åŸºæœ¬ä¿¡æ¯ï¼Œè¿™é‡Œèƒ½çœ‹åˆ°app keyå’Œ app token</li><li>å¼€æ”¾å¹³å°&gt;æˆ‘çš„åº”ç”¨&gt;åº”ç”¨ä¿¡æ¯&gt;é«˜çº§ä¿¡æ¯ï¼Œè¿™é‡Œéœ€è¦å¡«å†™æˆæƒå›è°ƒé¡µå’Œå–æ¶ˆæˆæƒå›è°ƒé¡µ</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¬¬2æ­¥å’Œç¬¬3æ­¥ä¸­ï¼Œæˆæƒå›è°ƒé¡µçš„é“¾æ¥ä¸€å®šè¦å’Œåœ¨ç”³è¯·appæ—¶å¡«å†™çš„<strong>ä¸€ï¼æ¨¡ï¼ä¸€ï¼æ ·ï¼</strong>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><p>æ¯”å¦‚åœ¨appå¡«å†™çš„æ˜¯<code>http://example.com/auth/</code>ï¼Œè€Œapiè¯·æ±‚æ—¶å‚æ•°å†™ä¸º<code>http://example.com/auth</code>ï¼Œå°‘äº†ä¸ªæ–œæ éƒ½æ˜¯é”™çš„â€¦</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="http://open.weibo.com/wiki/Oauth2/authorize" target="_blank" rel="noopener">http://open.weibo.com/wiki/Oauth2/authorize</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸æ˜¯è®²å„ç§è®¤è¯æ–¹å¼æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œåªæ˜¯ç®€å•çš„ä»‹ç»å¦‚ä½•ä¸å¾®åšè¿›è¡Œæ•´åˆã€‚&lt;/p&gt;
&lt;p&gt;å¾®åšå¼€æ”¾å¹³å°å…è®¸ä½¿ç”¨apiæ¥å¼€å‘ä¸€äº›ä¸å¾®åšç›¸å…³çš„åº”ç”¨ï¼Œå¾®åšæä¾›&lt;strong&gt;Basic Auth&lt;/strong&gt;å’Œ&lt;strong&gt;OAuth2.0&lt;/strong&gt;ä¸¤ç§è®¤è¯æ–¹å¼ï¼Œå…¶
      
    
    </summary>
    
      <category term="AUTH" scheme="http://sabrinaluo.com/tech/categories/AUTH/"/>
    
    
      <category term="OAuth2.0" scheme="http://sabrinaluo.com/tech/tags/OAuth2-0/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨travisè¿›è¡Œherokuéƒ¨ç½²</title>
    <link href="http://sabrinaluo.com/tech/2016/06/02/travis-heroku/"/>
    <id>http://sabrinaluo.com/tech/2016/06/02/travis-heroku/</id>
    <published>2016-06-02T07:27:46.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…ä¹ˆæœ‰å†™ä¸œè¥¿äº†ï¼Œæ€»æ„Ÿè§‰ä¸€ç›´å¿™çš„è·Ÿç‹—ä¸€æ ·ï¼Œèº«å¿ƒä¿±ç–²ï¼Œä½†æ˜¯åˆä¸çŸ¥é“åˆ°åº•åœ¨å¿™ä»€ä¹ˆã€‚</p><p>æœ€è¿‘å®è·µäº†ä¸€ä¸‹åˆ©ç”¨traviséƒ¨ç½²åˆ°herokuçš„æµç¨‹ï¼Œåˆè«åå…¶å¦™çš„å°è¯•äº†æ–°çš„ç¼–è¾‘å™¨atomï¼Œå®‰è£…äº†markdown-preview-plusæ’ä»¶ï¼Œå½“ç„¶è¦æ¥å†™ç‚¹ä¸œè¥¿è¯•ä¸€è¯•ï¼Œ ä¹Ÿä¸çŸ¥é“è‹±æ–‡çš„linuxä¸‹åˆ°åº•æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œwebstormå’Œsublimeå±…ç„¶ä¸èƒ½æ‰“ä¸­æ–‡ï¼Œæ‰€ä»¥ä¹‹å‰æ¯æ¬¡å†™ä¸œè¥¿éƒ½è¦å»ç®€ä¹¦è¾¹é¢„è§ˆè¾¹å†™ã€‚</p><p>atomè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œå¯èƒ½å› ä¸ºæˆ‘ï¼ˆåï¼‰å¤©ç”Ÿå°±å¯¹JSå†™çš„ä¸œè¥¿æœ‰å¥½æ„Ÿï¼Œè®°ä¸ä½å¿«æ·é”®çš„æˆ‘ï¼Œä¸èƒ½å¾’æ‰‹å†™htmlçš„æˆ‘è¿˜æ˜¯éœ€è¦IDEçš„å¸®åŠ©ï¼Œatomå°±ç”¨æ¥å†™ç‚¹ç®€å•çš„ä¸œè¥¿å§ã€‚</p><p>traviså’Œherokuéƒ½æœ‰è‡ªå·±çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ï¼Œå°¤å…¶travis cliç”¨èµ·æ¥æ€»æ¯”å¾’æ‰‹å†™.travis.ymlæ–¹ä¾¿è®¸å¤š</p><h3 id="å®‰è£…travis-cli"><a href="#å®‰è£…travis-cli" class="headerlink" title="å®‰è£…travis-cli"></a>å®‰è£…travis-cli</h3><p>travis-cliæ˜¯rubyå†™çš„ï¼Œæ‰€ä»¥å®‰è£…ä¹‹å‰éœ€è¦å®‰è£…ruby</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ruby-full</span><br></pre></td></tr></table></figure><p>è¯¦ç»†çš„å®‰è£…æ•™ç¨‹å¯ä»¥çœ‹å®˜æ–¹çš„è¿™ä¸ª<a href="https://github.com/travis-ci/travis.rb#installation" target="_blank" rel="noopener">https://github.com/travis-ci/travis.rb#installation</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install travis -v 1.8.2 --no-rdoc --no-ri</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…heroku-cli"><a href="#å®‰è£…heroku-cli" class="headerlink" title="å®‰è£…heroku-cli"></a>å®‰è£…heroku-cli</h3><p>heroku-cliä¹Ÿæ˜¯rubyå†™çš„â€¦â€¦æœ‰ç‚¹ä¸æ‡‚ä¸ºå•¥éƒ½å–œæ¬¢ç”¨rubyå†™cliï¼Ÿjsä¸æ˜¯æŒºå¥½çš„å—ï¼Œæœ‰å•¥cliæ˜¯<code>npm install -g</code> è§£å†³ä¸äº†çš„å—ï¼Ÿâ€¦<br>å…·ä½“çš„å®‰è£…æ•™ç¨‹çœ‹</p><ul><li><a href="https://toolbelt.heroku.com" target="_blank" rel="noopener">https://toolbelt.heroku.com</a></li><li><a href="https://devcenter.heroku.com/articles/heroku-command#installing-the-heroku-cli" target="_blank" rel="noopener">https://devcenter.heroku.com/articles/heroku-command#installing-the-heroku-cli</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O- https://toolbelt.heroku.com/install-ubuntu.sh | sh</span><br></pre></td></tr></table></figure><h3 id="ç™»é™†"><a href="#ç™»é™†" class="headerlink" title="ç™»é™†"></a>ç™»é™†</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">travis login</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heroku login</span><br></pre></td></tr></table></figure><h3 id="travis-yml"><a href="#travis-yml" class="headerlink" title=".travis.yml"></a>.travis.yml</h3><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†ä¼šç”Ÿæˆ<code>.travis.yml</code>æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">travis init</span><br><span class="line">travis setup heroku</span><br></pre></td></tr></table></figure></p><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦é€šè¿‡å‘½ä»¤è¡Œç™»é™†herokuï¼Œå¦åˆ™travisä¼šå¡ä½ï¼Œä¹Ÿä¸æŠ¥é”™å•¥çš„åæ­£å°±ä¸€ç›´æ²¡ååº”</p></blockquote><p>æ‰“å¼€<code>.travis.yml</code>æ–‡ä»¶å¯ä»¥çœ‹åˆ°é™¤äº†åŸºæœ¬çš„ä¿¡æ¯ä¹‹å¤–ï¼Œè¿˜æœ‰<code>deploy</code>ç›¸å…³çš„ä¿¡æ¯ï¼Œå…¶ä¸­æ¯”è¾ƒè®©äººç–‘æƒ‘çš„æ˜¯<code>api_key</code>ï¼Œè¿™ä¸ª<code>api_key</code>å…¶å®æ˜¯ä½ çš„herokuè´¦æˆ·çš„tokenåŠ å¯†ä¹‹åçš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚herokuçš„tokençœ‹èµ·æ¥æ˜¯ä¸€ä¸ªç±»ä¼¼uuid5çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heroku auth:token</span><br></pre></td></tr></table></figure></p><p>æœ‰ä¸€ä¸ªé—®é¢˜æˆ‘ä¸å¤ªæ˜ç™½çš„æ˜¯ï¼Œä¹‹å‰ç”¨travisåŠ å¯†æ–‡ä»¶<code>travis encrypt-file path/of/file --add</code>çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨travisç½‘ç«™å¯¹åº”repoçš„settingé‡Œçœ‹åˆ°å¤šå‡ºçš„ç¯å¢ƒå˜é‡ï¼Œç”¨æ¥åŠ å¯†çš„key valueï¼Œç„¶åéœ€è¦ç”¨<code>openssl</code>å‘½ä»¤æ¥è§£å¯†ã€‚</p><p>ä½†åŠ å¯†herokuçš„tokenåï¼Œå¹¶æ²¡æœ‰ç”Ÿæˆä»»ä½•æ–°çš„ç¯å¢ƒå˜é‡ï¼Œè€Œä¸”ä¹Ÿæ— éœ€åœ¨<code>.travis.yml</code>ä¸­æ‰§è¡Œè§£å¯†çš„ç›¸å…³æ“ä½œã€‚</p><p>é‚£ä¹ˆç”¨æ¥åŠ å¯†çš„key valueåˆ°åº•å­˜åœ¨å“ªé‡Œäº†å‘¢ï¼Ÿï¼</p><h3 id="ä¸ºä»€ä¹ˆè¦åœ¨travisåšéƒ¨ç½²ï¼Œè€Œä¸ç›´æ¥åˆ©ç”¨herokuæä¾›çš„githubè‡ªåŠ¨éƒ¨ç½²ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åœ¨travisåšéƒ¨ç½²ï¼Œè€Œä¸ç›´æ¥åˆ©ç”¨herokuæä¾›çš„githubè‡ªåŠ¨éƒ¨ç½²ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åœ¨travisåšéƒ¨ç½²ï¼Œè€Œä¸ç›´æ¥åˆ©ç”¨herokuæä¾›çš„githubè‡ªåŠ¨éƒ¨ç½²ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åœ¨travisåšéƒ¨ç½²ï¼Œè€Œä¸ç›´æ¥åˆ©ç”¨herokuæä¾›çš„githubè‡ªåŠ¨éƒ¨ç½²ï¼Ÿ</h3><p>é¦–å…ˆï¼Œherokuä¼¼ä¹ä¸èƒ½è·‘æµ‹è¯•â€¦</p><p>å…¶å®ï¼Œå¤§å¤šæ•°ç®€å•çš„é¡¹ç›®å…¶å®éƒ½å¯ä»¥ç”¨githubçš„æ–¹å¼ï¼Œå¦‚æœéœ€è¦ç¼–è¯‘å’Œç”Ÿæˆçš„ï¼Œéƒ½åœ¨<code>package.json</code>é‡Œæ·»åŠ <code>prepublish</code>è„šæœ¬å³å¯</p><p>æˆ‘è¿™æ¬¡åˆæ˜¯æäº†ä¸€ä¸ªå¥‡æ€ªçš„äº‹æƒ…ï¼Œåšäº†ä¸€ä¸ªå‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåç«¯æä¾›RESTful API,å‰ç«¯æ˜¯SPAï¼Œä½†æ˜¯åˆæƒ³æŠŠSPAå’ŒAPIæ”¾åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ï¼Œè€Œä¸”åˆ†äº†ä¸¤ä¸ªrepoæ¥æ”¾å‰ç«¯å’Œåç«¯ã€‚</p><p>æ‰€ä»¥æˆ‘çš„éœ€æ±‚æ˜¯ï¼Œå½“å‰ç«¯æˆ–åç«¯pushä¹‹åï¼Œtrigger traviså»æŠŠå‰åç«¯éƒ½å…‹éš†ä¸‹æ¥ï¼Œå¹¶ä¸”ç¼–è¯‘å’ŒBuildå‰ç«¯ä»£ç ï¼Œæ”¾åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œç„¶åéƒ¨ç½²ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½ä¹…ä¹ˆæœ‰å†™ä¸œè¥¿äº†ï¼Œæ€»æ„Ÿè§‰ä¸€ç›´å¿™çš„è·Ÿç‹—ä¸€æ ·ï¼Œèº«å¿ƒä¿±ç–²ï¼Œä½†æ˜¯åˆä¸çŸ¥é“åˆ°åº•åœ¨å¿™ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å®è·µäº†ä¸€ä¸‹åˆ©ç”¨traviséƒ¨ç½²åˆ°herokuçš„æµç¨‹ï¼Œåˆè«åå…¶å¦™çš„å°è¯•äº†æ–°çš„ç¼–è¾‘å™¨atomï¼Œå®‰è£…äº†markdown-preview-plusæ’ä»¶ï¼Œå½“ç„¶è¦æ¥å†™ç‚¹ä¸œè¥¿è¯•ä¸€è¯•ï¼Œ ä¹Ÿä¸çŸ¥
      
    
    </summary>
    
      <category term="DEVOPS" scheme="http://sabrinaluo.com/tech/categories/DEVOPS/"/>
    
    
      <category term="travis" scheme="http://sabrinaluo.com/tech/tags/travis/"/>
    
      <category term="è‡ªåŠ¨éƒ¨ç½²" scheme="http://sabrinaluo.com/tech/tags/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
    
      <category term="æŒç»­é›†æˆ" scheme="http://sabrinaluo.com/tech/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"/>
    
      <category term="heroku" scheme="http://sabrinaluo.com/tech/tags/heroku/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡æ’¤å›ä¿¡æ¯æ˜µç§°æ˜¾ç¤ºåŸç†åˆ†æ</title>
    <link href="http://sabrinaluo.com/tech/2016/04/21/theory-analysis-for-wechat-recall-message-nickname/"/>
    <id>http://sabrinaluo.com/tech/2016/04/21/theory-analysis-for-wechat-recall-message-nickname/</id>
    <published>2016-04-21T09:07:08.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åæ§½"><a href="#åæ§½" class="headerlink" title="åæ§½"></a>åæ§½</h3><p>ä¸ºäº†è®©å„ä½äº²æœ‹å¥½å‹æ–¹ä¾¿çš„ç”¨æ’¤å›ä¿¡æ¯è£…xï¼Œæœ¬å®å®å†™äº†ä¸€ä¸ª<a href="http://sabrinaluo.com/nickname-gen">æ˜µç§°ç”Ÿæˆå™¨</a><br>è™½ç„¶æ˜¯æ¯”è¾ƒç®€å•çš„é¡µé¢ï¼Œä½†æœ¬å®å®è¿˜æ²¡å‘å¸ƒå‘¢ï¼Œå¾®ä¿¡å°±å°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå®å®å¿ƒé‡Œå§”å±ˆä½†å®å®ä¸è¯´â€¦</p><h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>ä»Šå¤©æ—©äº›æ—¶å€™ï¼Œåœ¨å¾®ä¿¡ç¾¤é‡Œçœ‹åˆ°äº†è¿™æ ·çš„æ’¤å›ä¿¡æ¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;ç‰›å¥¶&quot;æ’¤å›äº†ä¸€æ¡ä¿¡æ¯å¹¶äº²äº†ä½ ä¸€ä¸‹</span><br></pre></td></tr></table></figure></p><p>å¼€å§‹çš„æ—¶å€™æˆ‘æ˜¯ä¸€è„¸æ‡µé€¼çš„ï¼Œç„¶åçŸ¥é“å¤åˆ¶ç‰›å¥¶çš„æ˜µç§°ï¼Œç„¶åå†ä¿®æ”¹å°±å¯ä»¥å®ç°è¿™ä¸ªæ•ˆæœï¼Œ<strong>ä¸€å®šè¦å¤åˆ¶ï¼Œä¸€ä¸ªå­—ä¸€ä¸ªå­—æ‰“å°±ä¸è¡Œ</strong>ã€‚<br>ä¹‹åæœ‰åŒå­¦è½¬å‘äº†<a href="https://mp.weixin.qq.com/s?__biz=MzAwNDY5NzI4MQ==&amp;mid=505551279&amp;idx=1&amp;sn=f10a4b837a10ed9c4a252c606f2f7c7f&amp;scene=1&amp;srcid=0421JP3AeSA1CmbSqEn1rLMh&amp;from=singlemessage&amp;isappinstalled=0&amp;pass_ticket=HbJ8e6BomIu6b3R%2Bi6i69%2FT2TY3g%2FHUMQSItE5M2cd8%3D" target="_blank" rel="noopener">ä¸€ç¯‡æ–‡ç« </a>ï¼Œç„¶åå¤§å®¶çº·çº·æå‡ºäº†å„ç§æœ‰è¶£çš„æ•ˆæœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. &quot;zzå¹¶äº²äº†ä½ ä¸€ä¸‹&quot;æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯</span><br><span class="line">2. &quot;æœ±é¥¼é¥¼æ¯æ¶ˆæ¡ä¸€äº†å›æ’¤&quot;å¹¶åˆç˜¦äº†ä¸€æ–¤</span><br><span class="line">3. &quot;ä»å“ˆå“ˆ&quot;æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯ä¸‹ä¸€ä½ äº†äº²å¹¶</span><br></pre></td></tr></table></figure></p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æœºæ™ºçš„æˆ‘ä¸€å¼€å§‹å°±çŒœåˆ°ï¼Œè‚¯å®šæ˜¯æœ‰äº›ä»€ä¹ˆçœ‹ä¸è§çš„ç‰¹æ®Šå­—ç¬¦å¯¼è‡´çš„ã€‚</p><p>ä½œä¸ºä¸€åªå‰ç«¯ç‹—ï¼Œé¦–å…ˆæƒ³åˆ°çš„å½“ç„¶æ˜¯æ‰“å¼€webå¾®ä¿¡ï¼ŒF12ï¼Œçœ‹çœ‹æ˜µç§°é‡Œåˆ°åº•æ˜¯ä»€ä¹ˆé¬¼ï¼Œæœç„¶ä¸å‡ºæ‰€æ–™ï¼Œæˆ‘çš„æ˜µç§°æ˜¯è¿™æ ·çš„ï¼š<code>&amp;#8238;&amp;#8238;&amp;#8238; ç”¨åµä¹ˆä»€æœ‰æ²¡å¹¶è€Œç„¶&amp;#8237;èåœ</code></p><p>äºæ˜¯å¼€å§‹æ‰¾è¿™ä¸ª<code>&amp;#8238;</code>ç‰¹æ®Šå­—ç¬¦åˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Œæœºæ™ºçš„æˆ‘å¾ˆå¿«å°±æ‰¾åˆ°äº†<a href="http://www.fileformat.info/info/unicode/char/202e/index.htm" target="_blank" rel="noopener">^1</a><br>é¦–å…ˆè¿™ç§å­—ç¬¦å«åš<em>Unicode_control_characters</em><a href="https://en.wikipedia.org/wiki/Unicode_control_characters" target="_blank" rel="noopener">^2</a><br>è¦çŸ¥é“æ›´è¯¦ç»†çš„å†…å®¹ï¼ˆæ¯”å¦‚è¿™ç§å­—ç¬¦æœ€å¼€å§‹æ˜¯ç”¨äºé˜¿æ‹‰ä¼¯æ–‡ç­‰ä¸œäºšæ–‡å­—çš„æ’ç‰ˆï¼Œå¦å¤–ç±»ä¼¼çš„å­—ç¬¦è¿˜æœ‰å¥½å‡ ä¸ªï¼Œä½†ï¼‰å¯ä»¥çœ‹çœ‹wikiçš„åŒå‘æ–‡ç¨¿<a href="https://zh.wikipedia.org/wiki/%E9%9B%99%E5%90%91%E6%96%87%E7%A8%BF" target="_blank" rel="noopener">^3</a>ï¼Œè¿˜æœ‰å…¶ä»–æ›´è¯¦ç»†çš„ä½¿ç”¨èŒƒä¾‹<a href="https://www.w3.org/International/questions/qa-bidi-unicode-controls" target="_blank" rel="noopener">^4</a></p><table><thead><tr><th style="text-align:center">htmlç‰¹æ®Šç¬¦å·</th><th style="text-align:center">js unicode</th><th style="text-align:left">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>&amp;#8237;</code></td><td style="text-align:center"><code>\u202D</code></td><td style="text-align:left">Unicode Character â€˜LEFT-TO-RIGHT OVERRIDEâ€™</td></tr><tr><td style="text-align:center"><code>&amp;#8238;</code></td><td style="text-align:center"><code>\u202E</code></td><td style="text-align:left">Unicode Character â€˜RIGHT-TO-LEFT OVERRIDEâ€™</td></tr></tbody></table><p>æ‰€ä»¥<code>8237</code>çš„ä½œç”¨æ˜¯ä»å·¦åˆ°å³æ˜¾ç¤ºï¼Œ<code>8238</code>çš„ä½œç”¨æ˜¯ä»å³åˆ°å·¦æ˜¾ç¤ºã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè·Ÿåœ¨<code>8238</code>åé¢çš„å­—ç¬¦ä¸²å°†ä»å³åˆ°å·¦æ˜¾ç¤ºï¼ˆåŸæ¥çš„æ’ç‰ˆæ–¹å¼ä¼šè¢«overrideï¼Œç›´åˆ°é‡åˆ°å…¶ä»–çš„æ§åˆ¶æ’ç‰ˆçš„å­—ç¬¦(Unicode_control_characters)ï¼‰ï¼›è€Œè·Ÿåœ¨<code>8237</code>åé¢çš„å­—ç¬¦ä¸²å°†ä»å·¦åˆ°å³æ˜¾ç¤ºã€‚</p><p>ç”±äºå¤§å®¶åœ¨å¤åˆ¶çš„æ—¶å€™æ ¹æœ¬çœ‹ä¸åˆ°è¿™äº›å­—ç¬¦ï¼Œè€Œä¸”å¯èƒ½å› ä¸ºåœ¨ä¿®æ”¹æ˜µç§°æ—¶<strong>åˆ é™¤</strong>æˆ–<strong>åŠ å¤š</strong>äº†è¿™äº›ç‰¹æ®Šç¬¦å·ï¼Œæ‰€ä»¥äº§ç”Ÿäº†å„ç§å¥‡æ€ªçš„æ•ˆæœã€‚è€Œå‰é¢æåˆ°çš„æœ€æ­£ç¡®æˆ‘çš„æ˜µç§°åº”è¯¥æ˜¯åªæœ‰ä¸€ä¸ª<code>8238</code>ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;#8238;ç”¨åµä¹ˆä»€æœ‰æ²¡å¹¶è€Œç„¶&amp;#8237;èåœ</span><br></pre></td></tr></table></figure></p><p>å¾®ä¿¡æ’¤å›ä¿¡æ¯çš„æ˜¾ç¤ºé€»è¾‘æ˜¯ï¼Œ<code>&quot;æ˜µç§°&quot;+æ’¤å›äº†ä¸€æ¡ä¿¡æ¯</code>ï¼Œæ˜µç§°å‰åæ˜¯æœ‰å¼•å·çš„ã€‚<br>æ‰€ä»¥å®é™…ä¸Šï¼Œæ’¤å›ä¿¡æ¯çš„<strong>å­—ç¬¦ä¸²</strong>æ˜¯<code>&quot;&amp;#8238;ç”¨åµä¹ˆä»€æœ‰æ²¡å¹¶è€Œç„¶&amp;#8237;èåœ&quot;æ’¤å›äº†ä¸€æ¡ä¿¡æ¯</code>ã€‚<br>æ ¹æ®ä¹‹å‰æåˆ°çš„<code>8238</code>å’Œ<code>8237</code>çš„ä½œç”¨ä»¥åŠå‰ææ¡ä»¶ï¼ˆæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬çœ‹åˆ°çš„å­—éƒ½æ˜¯ä»å·¦åˆ°å³æ˜¾ç¤ºï¼‰ï¼Œåˆ†è§£è¿‡ç¨‹å¦‚ä¸‹ï¼šï¼ˆLTRä»å·¦åˆ°å³ï¼ŒRTLä»å³åˆ°å·¦ï¼‰</p><ol><li>`ç¬¬ä¸€ä¸ªå¼•å·æ˜¯æ­£å¸¸æ˜¾ç¤ºï¼Œè¿™ä¸ªå¼•å·æ˜¯LTRæ˜¾ç¤ºçš„å¼ºå­—ç¬¦ï¼š ï¼ˆâ€ï¼‰</li><li><code>&amp;#8238;</code>åé¢çš„ <em>ç”¨åµä¹ˆä»€æœ‰æ²¡å¹¶è€Œç„¶</em> æ˜¯RTLæ˜¾ç¤ºçš„å¼ºå­—ç¬¦ï¼šï¼ˆâ€ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼‰</li><li><code>&amp;#8237;</code>åé¢çš„ <em>èåœâ€æ’¤å›äº†ä¸€æ¡ä¿¡æ¯</em> æ˜¯LTRæ˜¾ç¤ºçš„å¼ºå­—ç¬¦ï¼Œæ‰€ä»¥ä¼š<strong>ç´§è·Ÿ</strong>å‰é¢çš„LTRçš„å¼ºå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ç´§è·Ÿç¬¬ä¸€ä¸ªå¼•å· ï¼šï¼ˆâ€èåœâ€æ’¤å›äº†ä¸€æ¡ä¿¡æ¯ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼‰</li></ol><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>ä¸Šé¢æåˆ°çš„æœ‰è¶£çš„æ•ˆæœåˆ†æï¼š</p><ol><li>æ ¹æœ¬æ²¡æœ‰å¤åˆ¶åˆ°ç‰¹æ®Šç¬¦å·</li><li>å¤åˆ¶åˆ°ç‰¹æ®Šç¬¦å·ï¼Œä½†â€å¹¶äº²äº†ä½ ä¸€ä¸‹â€è¢«å†™åäº†ï¼Œå®é™…çš„æ–‡æœ¬ä¸º<code>&amp;#8238;å¹¶äº²äº†ä½ ä¸€ä¸‹&amp;#8237;ä»å“ˆå“ˆ</code></li><li>å¤åˆ¶åˆ°çš„ç‰¹æ®Šç¬¦å·ä¸æ­£ç¡®ï¼Œå®é™…çš„æ–‡æœ¬ä¸º<code>&amp;#8238;æ–¤ä¸€äº†ç˜¦åˆå¹¶&amp;#8237;æœ±é¥¼é¥¼&amp;#8238;</code></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åæ§½&quot;&gt;&lt;a href=&quot;#åæ§½&quot; class=&quot;headerlink&quot; title=&quot;åæ§½&quot;&gt;&lt;/a&gt;åæ§½&lt;/h3&gt;&lt;p&gt;ä¸ºäº†è®©å„ä½äº²æœ‹å¥½å‹æ–¹ä¾¿çš„ç”¨æ’¤å›ä¿¡æ¯è£…xï¼Œæœ¬å®å®å†™äº†ä¸€ä¸ª&lt;a href=&quot;http://sabrinaluo.com/nickname-gen
      
    
    </summary>
    
    
      <category term="å¾®ä¿¡ï¼Œæ’¤å›ä¿¡æ¯ï¼ŒåŸç†åˆ†æï¼ŒåŒå‘æ–‡ç¨¿ï¼Œ" scheme="http://sabrinaluo.com/tech/tags/%E5%BE%AE%E4%BF%A1%EF%BC%8C%E6%92%A4%E5%9B%9E%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90%EF%BC%8C%E5%8F%8C%E5%90%91%E6%96%87%E7%A8%BF%EF%BC%8C/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•é€šè¿‡Gité’©å­è‡ªåŠ¨éƒ¨ç½²(Push to Deploy)</title>
    <link href="http://sabrinaluo.com/tech/2016/04/14/push-to-deploy-through-git-hook/"/>
    <id>http://sabrinaluo.com/tech/2016/04/14/push-to-deploy-through-git-hook/</id>
    <published>2016-04-14T10:59:37.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹äº†å¥½å¤šè®²é€šè¿‡gité’©å­è‡ªåŠ¨éƒ¨ç½²çš„ï¼Œå¤§å¤šè®²çš„ç»•æ¥ç»•å»ä¹±ä¸ƒå…«ç³Ÿæ€è·¯ä¸€ç‚¹ä¹Ÿä¸æ¸…æ™°â€¦<br>åšäº†ä¸€æ™šä¸Šå®éªŒä¹‹åå¤§æ¦‚æ˜ç™½äº†æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p><h3 id="è£¸ä»“åº“ï¼ˆbareï¼‰"><a href="#è£¸ä»“åº“ï¼ˆbareï¼‰" class="headerlink" title="è£¸ä»“åº“ï¼ˆbareï¼‰"></a>è£¸ä»“åº“ï¼ˆbareï¼‰</h3><p>è£¸ä»“åº“è·Ÿæˆ‘ä»¬å¹³æ—¶<code>git clone</code>å¾—åˆ°çš„ä»“åº“ä¸å¤ªä¸€æ ·ï¼Œè£¸ä»“åº“å…¶å®ç›¸å½“äºé€šè¿‡å…‹éš†æ¥çš„ä»“åº“é‡Œçš„<code>.git</code>æ–‡ä»¶å¤¹ï¼Œæ•´ä¸ªè£¸ä»“åº“ä¸­åªæœ‰gitç´¢å¼•ï¼ˆindexï¼‰ï¼Œ<strong>å¹¶æ²¡æœ‰ä»»ä½•ä»£ç ç›¸å…³çš„ä¸œè¥¿</strong>ã€‚è¦å®ç°Push to Deployï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè£¸ä»“åº“ã€‚</p><p>åœ¨å…‹éš†æ—¶ä½¿ç”¨ <code>--bare</code>å‚æ•°æ¥å…‹éš†ä¸€ä¸ªè£¸ä»“åº“<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init --bare xxx-bare</span><br></pre></td></tr></table></figure></p><h3 id="é’©å­ï¼ˆhookï¼‰"><a href="#é’©å­ï¼ˆhookï¼‰" class="headerlink" title="é’©å­ï¼ˆhookï¼‰"></a>é’©å­ï¼ˆhookï¼‰</h3><p>æ™®é€šä»“åº“<code>.git</code>æ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ª<code>hooks</code>æ–‡ä»¶å¤¹ï¼Œè£¸ä»“åº“ä¸‹ç›´æ¥æœ‰ä¸€ä¸ª<code>hooks</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰å„ç§å„æ ·ä»¥<code>.sample</code>ç»“å°¾çš„é’©å­ï¼Œå½“æŠŠ<code>.sample</code>åç¼€åˆ é™¤æ—¶ï¼Œé’©å­å°±æ˜¯æ¿€æ´»çŠ¶æ€ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.git</span><br><span class="line">â”œâ”€â”€â”€hooks</span><br><span class="line">â”‚   â””â”€â”€â”€post-update.sample   </span><br><span class="line">â””â”€â”€â”€ ...</span><br></pre></td></tr></table></figure></p><p>ä½ å¯ä»¥åœ¨é’©å­æ–‡ä»¶é‡Œå†™ä¸€äº›bashå‘½ä»¤ï¼Œè¢«æ¿€æ´»çš„é’©å­è¢«è§¦å‘æ—¶ä¼šæ‰§è¡Œä½ çš„bashå‘½ä»¤ã€‚</p><p>ä¸deployç›¸å…³çš„é€šå¸¸ä½¿ç”¨<code>post-update</code>é’©å­æˆ–è€…<code>post-receive</code>é’©å­<a href="https://www.kernel.org/pub/software/scm/git/docs/githooks.html" target="_blank" rel="noopener">^1</a>ï¼Œå…³äºè¿™ä¸¤ä¸ªé’©å­åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒï¼Œæˆ‘æ˜¯æ²¡å¤ªçœ‹æ‡‚ï¼Œå¤§æ¦‚çš„ç†è§£æ˜¯è¿™ä¸¤ä¸ªé’©å­è¢«triggerçš„æ—¶å€™æ”¶åˆ°çš„ä¿¡æ¯ä¸ä¸€æ ·ï¼Œå¦‚æœéœ€è¦ç”¨commitçš„ç›¸å…³ä¿¡æ¯æ¥åšä¸€äº›äº‹æƒ…çš„è¯è¦ä»”ç»†ç ”ç©¶ï¼ˆæ¯”å¦‚å¯ä»¥è®¾ç½®æŸä¸ªåˆ†æ”¯æ”¶åˆ°äº†æ¨é€å°±åšç›¸åº”çš„äº‹æƒ…ä¹‹ç±»ï¼‰ï¼Œå…¶ä»–å¦‚æœåªæ˜¯é€šè¿‡bashæ¥è·‘ä¸€äº›nodeç›¸å…³çš„éƒ¨ç½²å‘½ä»¤ï¼Œä¸¤ä¸ªéƒ½å¯ä»¥ã€‚è¿™ç¯‡æ–‡ç« åªç»™ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œè·Ÿåˆ†æ”¯å•Šä»€ä¹ˆçš„éƒ½æ²¡å…³ç³»ï¼Œåªè¦æ”¶åˆ°æ¨é€å°±éƒ¨ç½²ã€‚</p><p>è¦å®ç°Push to Deployï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹è£¸ä»“åº“ä¸­ç›¸åº”çš„é’©å­æ–‡ä»¶</p><h3 id="è£¸ä»“åº“æ˜¯æ€ä¹ˆå·¥ä½œçš„"><a href="#è£¸ä»“åº“æ˜¯æ€ä¹ˆå·¥ä½œçš„" class="headerlink" title="è£¸ä»“åº“æ˜¯æ€ä¹ˆå·¥ä½œçš„"></a>è£¸ä»“åº“æ˜¯æ€ä¹ˆå·¥ä½œçš„</h3><p>å¯ä»¥åœ¨æœ¬åœ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹å…ˆåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“åä¸ºxxx-remoteï¼ˆæ¨¡æ‹Ÿè¿œç¨‹æœåŠ¡å™¨ï¼‰ï¼Œå†åˆ›å»ºä¸€ä¸ªxxx-localä»“åº“ï¼ˆæ¨¡æ‹Ÿæœ¬åœ°ï¼‰ï¼Œå°†xxx-remoteæ·»åŠ ä¸ºæœ¬åœ°ä»“åº“çš„è¿œç¨‹ä»“åº“ï¼Œåœ¨æœ¬åœ°ä»“åº“å†™ä¸€ä¸ª<code>README.md</code>æ–‡ä»¶ï¼Œæäº¤å¹¶push<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git init --bare xxx-remote</span><br><span class="line">git init xxx-local</span><br><span class="line">cd xxx-local</span><br><span class="line">git remote add origin ../xxx-remote</span><br><span class="line">echo test123&gt;README.md</span><br><span class="line">git add .</span><br><span class="line">git commit -m &apos;add readme file&apos;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure></p><p>ä¹‹ååˆ‡æ¢åˆ°è¿œç¨‹ä»“åº“æ–‡ä»¶å¤¹ï¼ŒæŸ¥çœ‹git log<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br><span class="line">cd xxx-remote</span><br><span class="line">git log</span><br></pre></td></tr></table></figure></p><p>å°†èƒ½å¤Ÿçœ‹åˆ°æœ‰ä¸€æ¡commitè®°å½•ï¼Œæäº¤ä¿¡æ¯æ˜¯ add readme fileï¼Œè¿œç¨‹ä»“åº“æ”¶åˆ°äº†æœ¬åœ°ä»“åº“çš„push</p><h3 id="é’©å­æ˜¯æ€ä¹ˆå·¥ä½œçš„"><a href="#é’©å­æ˜¯æ€ä¹ˆå·¥ä½œçš„" class="headerlink" title="é’©å­æ˜¯æ€ä¹ˆå·¥ä½œçš„"></a>é’©å­æ˜¯æ€ä¹ˆå·¥ä½œçš„</h3><p>è¿›å…¥è¿œç¨‹ä»“åº“ï¼Œå°†<code>hooks</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>post-update.sample</code>æ”¹åä¸º<code>post-update</code>ï¼Œæ‰“å¼€å¹¶ç¼–è¾‘ä¸ºå¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">set -x #æ˜¾ç¤ºæ¯æ¡å‘½ä»¤</span><br><span class="line">echo &quot;push push&quot;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹æœ¬åœ°ä»“åº“çš„æ–‡ä»¶ï¼Œè¿›è¡Œä¸€æ¬¡æ¨é€ï¼Œå°†ä¼šçœ‹åˆ°è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œäº†ç›¸åº”çš„å‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">remote: + echo push push</span><br><span class="line">remote: push push</span><br><span class="line">To ../xxx</span><br><span class="line"> + 41b78ee...055cec9 master -&gt; master (forced update)</span><br></pre></td></tr></table></figure></p><h3 id="ä¸€ä¸ªå®Œæ•´çš„åœºæ™¯ä¸¾ä¾‹"><a href="#ä¸€ä¸ªå®Œæ•´çš„åœºæ™¯ä¸¾ä¾‹" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„åœºæ™¯ä¸¾ä¾‹"></a>ä¸€ä¸ªå®Œæ•´çš„åœºæ™¯ä¸¾ä¾‹</h3><p>å‡è®¾æœ‰ä¸€å°è¿œç¨‹æœåŠ¡å™¨ä¸Šè·‘ç€ä¸€ä¸ªç½‘ç«™ï¼Œå¸Œæœ›æ¯æ¬¡git pushä¹‹åè¿™ä¸ªç½‘ç«™å°±è‡ªåŠ¨æ›´æ–°ã€‚<br>ä¸ºäº†æ–¹ä¾¿ï¼š</p><ul><li>å‡è®¾è¿œç¨‹æœåŠ¡å™¨ä¸Šæ”¾äº†<strong>è£¸ä»“åº“</strong>å’Œ<strong>ç½‘ç«™</strong>ï¼Œè‡ªåŠ¨éƒ¨ç½²çš„è¿‡ç¨‹å°±æ˜¯è£¸ä»“åº“æ”¶åˆ°pushä¹‹åæ›´æ–°ä¸€ä¸‹ç½‘ç«™çš„æ–‡ä»¶å¤¹</li><li>å‡è®¾ç½‘ç«™éƒ½æ˜¯é™æ€æ–‡ä»¶ï¼Œä¸éœ€è¦é‡å¯web server</li><li>å‡è®¾éƒ½åªè€ƒè™‘é»˜è®¤çš„masteråˆ†æ”¯</li></ul><p>æˆ‘ä»¬éœ€è¦ï¼š</p><ol><li><p>åœ¨è¿™å°è¿œç¨‹æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼Œå‡å¦‚åå«xxxã€‚å…‹éš†repoå–åä¸ºwebsiteï¼Œç”¨äºå­˜æ”¾ç½‘ç«™æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init --bare xxx</span><br><span class="line">git clone ./xxx website</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹è¿œç¨‹æœåŠ¡å™¨ä¸‹<code>hooks</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>post-update.sample</code>æ”¹åä¸º<code>post-update</code>ï¼Œç¼–è¾‘ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">set -x #æ˜¾ç¤ºæ¯æ¡å‘½ä»¤</span><br><span class="line">git reset --hard origin/master #é˜²æ­¢å› ä¸ºforced pushè€Œå¯¼è‡´æ— æ³•checkout</span><br><span class="line">git checkout</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æœ¬åœ°repoæ·»åŠ è¿œç¨‹ä»“åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin ubuntu@59.64.123.123:home/xxx.git</span><br></pre></td></tr></table></figure></li></ol><p>4.åœ¨æœ¬åœ°ä»“åº“ä¿®æ”¹æ–‡ä»¶å¹¶push</p><p>è‡³æ­¤æ•´ä¸ªgitè‡ªåŠ¨éƒ¨ç½²çš„è¿‡ç¨‹å°±å®Œæˆäº†</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;çœ‹äº†å¥½å¤šè®²é€šè¿‡gité’©å­è‡ªåŠ¨éƒ¨ç½²çš„ï¼Œå¤§å¤šè®²çš„ç»•æ¥ç»•å»ä¹±ä¸ƒå…«ç³Ÿæ€è·¯ä¸€ç‚¹ä¹Ÿä¸æ¸…æ™°â€¦&lt;br&gt;åšäº†ä¸€æ™šä¸Šå®éªŒä¹‹åå¤§æ¦‚æ˜ç™½äº†æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è£¸ä»“åº“ï¼ˆbareï¼‰&quot;&gt;&lt;a href=&quot;#è£¸ä»“åº“ï¼ˆbareï¼‰&quot; class=&quot;headerlink&quot; title=&quot;è£¸ä»“
      
    
    </summary>
    
      <category term="GIT" scheme="http://sabrinaluo.com/tech/categories/GIT/"/>
    
    
      <category term="git" scheme="http://sabrinaluo.com/tech/tags/git/"/>
    
      <category term="è‡ªåŠ¨éƒ¨ç½²" scheme="http://sabrinaluo.com/tech/tags/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
    
      <category term="hook" scheme="http://sabrinaluo.com/tech/tags/hook/"/>
    
  </entry>
  
  <entry>
    <title>ç»“åˆä½¿ç”¨Babel Mocha Istanbulè¿›è¡ŒES6ä»£ç æµ‹è¯•å’Œè¦†ç›–ç‡æµ‹è¯•</title>
    <link href="http://sabrinaluo.com/tech/2016/04/12/babel-mocha-istanbul-es6-testing-and-coverage/"/>
    <id>http://sabrinaluo.com/tech/2016/04/12/babel-mocha-istanbul-es6-testing-and-coverage/</id>
    <published>2016-04-12T04:32:01.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>é¢˜å¤–è¯ï¼š<br>ä¸€ç›´ä»¥ä¸ºmochaè¯»ä½œâ€œæŠ¹èŒ¶â€å¹¶ä¸”ä¸€ç›´è¿™ä¹ˆè¯»äº†å¾ˆä¹…ï¼Œç›´åˆ°æœ€è¿‘çœ‹äº†ä¸€ä¸ªmochaçš„æ•™å­¦è§†é¢‘ï¼Œæ‰çŸ¥é“è¿™æ˜¯æ‘©å¡å’–å•¡çš„æ‘©å¡â€¦è€ŒæŠ¹èŒ¶çš„æŠ¹èŒ¶åº”è¯¥æ˜¯matchaâ€¦</p><p>åœ¨è¿˜æ²¡æœ‰babelçš„æ—¶å€™ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ï¼ŒåŸºç¡€çš„é—®é¢˜å°±å…ˆä¸è®¨è®ºäº†ï¼Œè¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹Babelè½¬ç å’ŒIstanbulæµ‹è¦†ç›–ç‡çš„ä¸€äº›å‘ã€‚</p><h3 id="åŸºæœ¬è®¾ç½®"><a href="#åŸºæœ¬è®¾ç½®" class="headerlink" title="åŸºæœ¬è®¾ç½®"></a>åŸºæœ¬è®¾ç½®</h3><p>é€šå¸¸æˆ‘ä»¬ä¼šæœ‰å¥½å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚</p><ul><li><code>src</code>ç”¨æ¥å­˜æ”¾æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åŒ…å«es6,7çš„ä»£ç ï¼›</li><li><code>lib</code>ç”¨æ¥å­˜æ”¾ç¼–è¯‘åçš„ä»£ç </li><li><code>test</code>ç”¨æ¥æ”¾æµ‹è¯•è„šæœ¬</li></ul><p>åœ¨<code>test</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œé€šå¸¸æœ‰ä¸€ä¸ª<code>mocha.opts</code>æ–‡ä»¶ç”¨æ¥å­˜æ”¾mochaçš„å‚æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--compilers js:babel-register</span><br><span class="line">--require babel-polyfill</span><br></pre></td></tr></table></figure></p><p>å¦‚æœç”¨åˆ°äº†éœ€è¦ç”¨babel-polyfillæ‰èƒ½å®ç°çš„æ–¹æ³•å°±éœ€è¦åŠ ä¸Šç¬¬äºŒå¥ï¼Œåˆ«å¿˜äº†<code>npm install babel-polyfill --save-dev</code></p><p>ç”Ÿæˆè¦†ç›–ç‡çš„æµ‹è¯•å‘½ä»¤ï¼šï¼ˆ<code>_mocha</code> æ˜¯æœ‰ä¸‹åˆ’çº¿çš„ï¼‰[^1]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">istanbul cover _mocha --  --opts ./test/mocha.opts</span><br></pre></td></tr></table></figure></p><h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">babel src/ -d lib/ --presets es2015 --source-map both</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>--source-map both</code>å‚æ•°å°†ä¼šç”Ÿæˆsource mapï¼Œæœ‰äº†source mapï¼Œistanbulå°±èƒ½å¤Ÿè¿½è¸ªåˆ°<code>src</code>ä¸‹çš„æºä»£ç çš„è¦†ç›–ç‡</p><h3 id="æ­£ç¡®çš„require"><a href="#æ­£ç¡®çš„require" class="headerlink" title="æ­£ç¡®çš„require"></a>æ­£ç¡®çš„require</h3><p>åœ¨mochaä¸­ï¼Œä¸€å®šè¦require <code>src</code>æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯<code>lib</code>æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚è™½ç„¶ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶mochaéƒ½èƒ½æµ‹ï¼Œä½†æ˜¯è¦†ç›–ç‡ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚</p><h3 id="å¯èƒ½çš„é—®é¢˜"><a href="#å¯èƒ½çš„é—®é¢˜" class="headerlink" title="å¯èƒ½çš„é—®é¢˜"></a>å¯èƒ½çš„é—®é¢˜</h3><ul><li><p>å‡ºç°ä»¥ä¸‹é”™è¯¯æç¤ºæ—¶ï¼Œå¾ˆå¯èƒ½å› ä¸ºistanbulçš„ç‰ˆæœ¬è¿‡ä½ï¼Œä½¿ç”¨<code>1.0.0-alpha.2</code>ç‰ˆæœ¬å¯ä»¥æ­£å¸¸è¿è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No coverage information was collected, exit without writing coverage information</span><br></pre></td></tr></table></figure></li><li><p>istanbulç”Ÿæˆçš„è¦†ç›–ç‡æ–‡ä»¶é‡Œä»£ç å‡ ä¹éƒ½æ˜¯<strong>çº¢è‰²</strong>çš„ï¼Œè¿™æ˜¯å› ä¸ºç¼–è¯‘æ—¶æ²¡æœ‰ <code>--source-map both</code> å‚æ•°ï¼Œè¿½è¸ªçš„æ˜¯<code>lib</code>æ–‡ä»¶å¤¹ä¸‹çš„è¦†ç›–ç‡</p></li><li>istanbulç”Ÿæˆçš„è¦†ç›–ç‡æ–‡ä»¶æ€»æ˜¯æ˜¾ç¤º100%ï¼Œå°±ç®—æœ‰äº›åœ°æ–¹æ²¡æµ‹ï¼Œä¹Ÿæ˜¾ç¤º100%ï¼Œè¿™æ˜¯å› ä¸ºåœ¨Mochaé‡Œrequireçš„æ˜¯<code>lib</code>è€Œé<code>src</code></li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>æˆ‘æœ€å–œæ¬¢mochaçš„æŠ¥å‘Šå½¢å¼æ˜¯<code>-R nyan</code>ï¼Œä¸€åªå¯çˆ±çš„å–µæ˜Ÿäººï¼Œæ²¡æœ‰é”™çš„æ—¶å€™æ˜¯è¿™æ ·çš„^_^ï¼Œæœ‰é”™çš„æ—¶å€™æ˜¯è¿™æ ·çš„O_Oï¼Œåæ­£å°±æ˜¯èŒèŒèŒã€‚</p><p>ç„¶è€Œæœ€å®ç”¨çš„æŠ¥å‘Šå½¢å¼å¯èƒ½æ˜¯<code>-R mochawesome</code>ï¼Œéœ€è¦<code>npm i mochawesome</code>å®‰è£…æ’ä»¶ï¼Œç”Ÿæˆç›´è§‚çš„htmlæµ‹è¯•æŠ¥å‘Š[^2]</p><p>å¹³æ—¶é‡åˆ°çš„é—®é¢˜åæœ‰å…«ä¹ä¸€æœéƒ½èƒ½æ‰¾åˆ°é˜®ä¸€å³°è€å¸ˆçš„æ•™ç¨‹â€¦è¿™è¦†ç›–ç‡ä¹Ÿå¤ªé«˜äº†ï¼Ÿï¼</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="http://www.ruanyifeng.com/blog/2015/06/istanbul.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/06/istanbul.html</a><br>[2] <a href="http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html</a><br>[^1]: <a href="http://www.ruanyifeng.com/blog/2015/06/istanbul.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/06/istanbul.html</a><br>[^2]: <a href="http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¢˜å¤–è¯ï¼š&lt;br&gt;ä¸€ç›´ä»¥ä¸ºmochaè¯»ä½œâ€œæŠ¹èŒ¶â€å¹¶ä¸”ä¸€ç›´è¿™ä¹ˆè¯»äº†å¾ˆä¹…ï¼Œç›´åˆ°æœ€è¿‘çœ‹äº†ä¸€ä¸ªmochaçš„æ•™å­¦è§†é¢‘ï¼Œæ‰çŸ¥é“è¿™æ˜¯æ‘©å¡å’–å•¡çš„æ‘©å¡â€¦è€ŒæŠ¹èŒ¶çš„æŠ¹èŒ¶åº”è¯¥æ˜¯matchaâ€¦&lt;/p&gt;
&lt;p&gt;åœ¨è¿˜æ²¡æœ‰babelçš„æ—¶å€™ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ï¼ŒåŸºç¡€çš„é—®é¢˜å°±å…ˆä¸è®¨è®ºäº†ï¼Œè¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹Babelè½¬ç 
      
    
    </summary>
    
      <category term="TOOLS" scheme="http://sabrinaluo.com/tech/categories/TOOLS/"/>
    
    
      <category term="ES6" scheme="http://sabrinaluo.com/tech/tags/ES6/"/>
    
      <category term="mocha" scheme="http://sabrinaluo.com/tech/tags/mocha/"/>
    
      <category term="istanbul" scheme="http://sabrinaluo.com/tech/tags/istanbul/"/>
    
      <category term="babel" scheme="http://sabrinaluo.com/tech/tags/babel/"/>
    
      <category term="æµ‹è¯•" scheme="http://sabrinaluo.com/tech/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="ä»£ç è¦†ç›–ç‡" scheme="http://sabrinaluo.com/tech/tags/%E4%BB%A3%E7%A0%81%E8%A6%86%E7%9B%96%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>ç®­å¤´å‡½æ•°çš„ä½œç”¨åŸŸå’Œthis</title>
    <link href="http://sabrinaluo.com/tech/2016/04/01/scope-and-this-of-arrow-function/"/>
    <id>http://sabrinaluo.com/tech/2016/04/01/scope-and-this-of-arrow-function/</id>
    <published>2016-04-01T08:38:12.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>JSé‡Œçš„ä½œç”¨åŸŸå’Œthisä¸€ç›´æ˜¯ä¸€ä»¶ä»¤äººå¤´ç–¼çš„äº‹æƒ…ï¼Œä»¥å‰æ¥è§¦çš„ä¸å¤ªå¤šï¼Œæ¯•ç«Ÿé¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„æˆ‘åŸºæœ¬ä¸Šéƒ½ä¸ä¼šä½¿ç”¨â€œç±»â€è¿™ä¸ªæ¦‚å¿µã€‚</p><p>è‡ªä»å¼€å§‹å­¦ä¹ ES6ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½è®¤ä¸ºç®­å¤´å‡½æ•°(Arrow Function)<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">^1</a>å°±æ˜¯ç»™æ‡’äººç”¨çš„<strong>ç®€å†™çš„åŒ¿åå‡½æ•°</strong>è€Œå·²ã€‚åæ¥çœ‹åˆ°æœ‰äººæŒ‘æˆ˜é˜®ä¸€å³°è€å¸ˆ<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ã€ŠECMAScript 6å…¥é—¨ã€‹</a>ä¸­å…³äºç®­å¤´å‡½æ•°thisçš„ä¸€äº›é—®é¢˜<a href="https://github.com/ruanyf/es6tutorial/issues/150" target="_blank" rel="noopener">^2</a>ï¼Œæ‰å¯¹ç®­å¤´å‡½æ•°æœ‰äº†ä¸€ä¸ç‚¹çš„ç†è§£ã€‚</p><p>æˆ‘å¹³æ—¶çš„å·¥ä½œåŸºæœ¬ä¸Šéƒ½æ˜¯å„ç§ç¬¬ä¸‰æ–¹çš„APIæ•´åˆï¼Œäºæ˜¯å„ç§å¼‚æ­¥è¯·æ±‚ï¼Œpromiseéƒ½æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚ç”±äºSalesForceæ²¡æœ‰ç›´æ¥çš„nodejs sdkï¼Œæ‰€ä»¥è‡ªå·±å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»å°±ä¸å¯é¿å…äº†ã€‚åœ¨å†™çš„è¿‡ç¨‹ä¸­ï¼Œå…³äºthisè¸©åˆ°å‘é‡Œäº†ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚</p><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p>å…¶ä¸­ä¸€ä¸ªç®€å•çš„åŠŸèƒ½æ˜¯ï¼ŒæŸ¥æ‰¾ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™å‘é€æ¬¢è¿é‚®ä»¶ï¼ˆæ•´ä¸ªæµç¨‹å¯¹åº”<code>onBoardFlow</code>ï¼‰ã€‚å®é™…åœºæ™¯æ¯”è¿™ä¸ªè¦å¤æ‚ï¼Œå¯èƒ½éœ€è¦è¿ç»­å‘é€å¥½å‡ ä¸ªè¯·æ±‚ï¼Œä¸ºäº†é¿å…<em>å›è°ƒåœ°ç‹±</em>ï¼Œæ‰€æœ‰çš„è¯·æ±‚æˆ‘éƒ½ç”¨promiseåŒ…äº†èµ·æ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">class SalesForce &#123;</span><br><span class="line">  constructor(email, username) &#123;</span><br><span class="line">    this.email = email;</span><br><span class="line">    this.username = username;</span><br><span class="line">  &#125;</span><br><span class="line">  checkUser()&#123;</span><br><span class="line">    return getUserByName(this.username); //å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°salesforceï¼Œè¿”å›ä¸€ä¸ªpromise</span><br><span class="line">  &#125;</span><br><span class="line">  sendEmail()&#123;</span><br><span class="line">    return send(this.email); //å‘é€ä¸€ä¸ªè¯·æ±‚é€šçŸ¥salesforceå‘é€é‚®ä»¶ï¼Œè¿”å›ä¸€ä¸ªpromise</span><br><span class="line">  &#125;</span><br><span class="line">  onBoardFlow()&#123;</span><br><span class="line">    //....</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h3><p><strong>åœ¨<code>onBoardFlow</code>ä¸­ï¼Œæä¸æ¸…thiså’Œä½œç”¨åŸŸçš„æˆ‘é¦–å…ˆè¿™ä¹ˆå†™ï¼š</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//ä¾‹1</span><br><span class="line">this.checkuser().then(this.sendEmail);  //Cannot read property &apos;email&apos; of undefined</span><br></pre></td></tr></table></figure></p><p>ç„¶åæƒ³åˆ°äº†åœ¨promiseé“¾ä¸­ï¼ŒthisæŒ‡å‘çš„æ˜¯globalï¼›</p><blockquote><p>Q: <strong>ä¸ºä»€ä¹ˆèƒ½æ‰¾åˆ°<code>this.sendEmail()</code>æ–¹æ³•ï¼Œå´æ‰¾ä¸åˆ°<code>this.email</code>å±æ€§å‘¢ï¼Ÿ</strong><br>A: æˆ‘çš„ç†è§£æ˜¯ï¼šå› ä¸º<code>this.sendEmail</code>æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œä¼ å…¥çš„thisæ˜¯thenå¤–éƒ¨çš„thisï¼Œä¹Ÿå°±æ˜¯<code>SalesForce</code>å¯¹è±¡ï¼›<br>è€Œthis.sendEmailå‡½æ•°çš„ä½œç”¨åŸŸä¸­äº§ç”Ÿäº†<strong>æ–°çš„this</strong>ï¼Œè€Œè¿™ä¸ªthisæŒ‡å‘globalï¼ˆæµè§ˆå™¨ä¸­ä¸ºwindowå¯¹è±¡ï¼‰ï¼›åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹thisä¸ºundefinedï¼›</p></blockquote><p><strong>ç„¶åå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯å„ç§_this selfï¼Œç„¶åbind(this) call(_this)ä¹‹ç±»çš„</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//ä¾‹2</span><br><span class="line">this.checkuser().then(this.sendEmail.bind(this));  //it works !</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ï¼Œä½†æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œæ¯ä¸ªthenéƒ½è¦<code>bind(this)</code>çœŸæ˜¯ä¸€ç‚¹ä¹Ÿä¸ä¼˜é›…ã€‚</p><p><strong>åŒ¿åå‡½æ•°å’Œç®­å¤´å‡½æ•°åŸæ¥ä¸ä¸€æ ·å•Š</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//ä¾‹3</span><br><span class="line">this.checkuser().then(function()&#123;</span><br><span class="line">  return this.sendEmail();</span><br><span class="line">&#125;);  //Cannot read property &apos;updateFunnelData&apos; of undefined</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶<code>this.sendEmail</code>çš„thisæ˜¯thenä¸­çš„åŒ¿åå‡½æ•°æ–°äº§ç”Ÿçš„promiseä½œç”¨åŸŸä¸‹çš„thisï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹æŒ‡å‘global</p><blockquote><p>åœ¨ç®­å¤´å‡½æ•°å‡ºç°ä¹‹å‰ï¼Œæ¯ä¸ªæ–°å®šä¹‰çš„å‡½æ•°éƒ½å°†æ–°äº§ç”Ÿè‡ªå·±ä½œç”¨åŸŸä¸‹çš„this, argumentsç­‰å¯¹è±¡<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">^1</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹4</span><br><span class="line">this.checkuser().then(()=&gt;this.sendEmail());  //it works!</span><br></pre></td></tr></table></figure><h3 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸå†…å¯ä»¥åµŒå¥—ä½œç”¨åŸŸï¼Œä»è€Œå½¢æˆä½œç”¨åŸŸé“¾ï¼Œåœ¨æœ€å¤–å±‚çš„ä¹Ÿå°±æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œå½“åœ¨å†…éƒ¨æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šé¡ºç€ä½œç”¨åŸŸé“¾æœ€å†…å±‚ï¼Œå±‚å±‚å‘å¤–å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</p><p>åœ¨ä¾‹3ä¸­ï¼ŒåŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸä¸­äº§ç”Ÿäº†æ–°çš„<code>this</code>ï¼Œè¯¥<code>this</code>æŒ‡å‘global<br>åœ¨ä¾‹4ä¸­ï¼Œç®­å¤´å‡½æ•°çš„ä½œç”¨åŸŸä¸­æ²¡æœ‰äº§ç”Ÿæ–°çš„thisï¼Œæ‰€ä»¥é¡ºç€ä½œç”¨åŸŸé“¾å±‚å±‚å¾€å¤–å¯»æ‰¾<code>this</code>ï¼Œæ‰¾åˆ°<code>onBoardFlow()</code>çš„ä½œç”¨åŸŸæ—¶ï¼Œæ‰¾åˆ°äº†<code>this</code>ï¼Œè€Œæ­¤æ—¶<code>this</code>å°±æ˜¯<code>SalesForce</code>å¯¹è±¡</p><h3 id="ä¸ºä»€ä¹ˆpromiseä¸­çš„thisæŒ‡å‘global"><a href="#ä¸ºä»€ä¹ˆpromiseä¸­çš„thisæŒ‡å‘global" class="headerlink" title="ä¸ºä»€ä¹ˆpromiseä¸­çš„thisæŒ‡å‘global"></a>ä¸ºä»€ä¹ˆpromiseä¸­çš„thisæŒ‡å‘global</h3><p>è¿™ä¸ªï¼Œæˆ‘è¿˜æ²¡å­¦ä¼šâ€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;JSé‡Œçš„ä½œç”¨åŸŸå’Œthisä¸€ç›´æ˜¯ä¸€ä»¶ä»¤äººå¤´ç–¼çš„äº‹æƒ…ï¼Œä»¥å‰æ¥è§¦çš„ä¸å¤ªå¤šï¼Œæ¯•ç«Ÿé¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„æˆ‘åŸºæœ¬ä¸Šéƒ½ä¸ä¼šä½¿ç”¨â€œç±»â€è¿™ä¸ªæ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;è‡ªä»å¼€å§‹å­¦ä¹ ES6ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½è®¤ä¸ºç®­å¤´å‡½æ•°(Arrow Function)&lt;a href=&quot;https://developer.moz
      
    
    </summary>
    
      <category term="ES6" scheme="http://sabrinaluo.com/tech/categories/ES6/"/>
    
    
      <category term="es6" scheme="http://sabrinaluo.com/tech/tags/es6/"/>
    
      <category term="ç®­å¤´å‡½æ•°" scheme="http://sabrinaluo.com/tech/tags/%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0/"/>
    
      <category term="this" scheme="http://sabrinaluo.com/tech/tags/this/"/>
    
      <category term="ä½œç”¨åŸŸ" scheme="http://sabrinaluo.com/tech/tags/%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
    
      <category term="è¯æ³•ä½œç”¨åŸŸ" scheme="http://sabrinaluo.com/tech/tags/%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>AWS EC2 SSHè®¿é—® &amp; mongodb å®‰è£…</title>
    <link href="http://sabrinaluo.com/tech/2016/03/14/aws-ec2-ssh-access-mongodb-installation/"/>
    <id>http://sabrinaluo.com/tech/2016/03/14/aws-ec2-ssh-access-mongodb-installation/</id>
    <published>2016-03-14T10:33:31.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>ç¯å¢ƒï¼šUbuntu</p><h3 id="SSHè¿æ¥-EC2"><a href="#SSHè¿æ¥-EC2" class="headerlink" title="SSHè¿æ¥ EC2"></a>SSHè¿æ¥ EC2</h3><p>windowsä¸‹é€šå¸¸ç”¨putty<br>ubuntuä¸‹å…ˆæ‰“ä¸ªå‘½ä»¤<code>ssh</code>çœ‹çœ‹èƒ½å¦è¯†åˆ«å‘½ä»¤ï¼Œå¦‚æœèƒ½å°±æ–¹ä¾¿å¾ˆå¤š</p><p>è¦è¿æ¥EC2é€šå¸¸éƒ½ä¼šæœ‰ä¸€ä¸ª<code>.pem</code>çš„<strong>ç§é’¥</strong>æ–‡ä»¶ï¼Œå¦å¤–è¿˜ä¼šæœ‰ä¸€ä¸ª<strong>Public IP</strong><br>é¦–å…ˆè®¾ç½®æƒé™ï¼ˆå¹¶ä¸çŸ¥é“è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨ï¼Œchmod 400ä½¿å¾—æ–‡ä»¶åªèƒ½è¢«è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…è¯»å–ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 400 /*path*/my-key-pair.pem</span><br><span class="line">ssh -i /*path*/my-key-pair.pem username@59.64.123.1</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­usernameé»˜è®¤å¦‚ä¸‹ï¼š<a href="http://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html" target="_blank" rel="noopener">^1</a></p><table><thead><tr><th style="text-align:right">OS</th><th style="text-align:right">username</th></tr></thead><tbody><tr><td style="text-align:right">Linux</td><td style="text-align:right">ec2-user</td></tr><tr><td style="text-align:right">RHEL5</td><td style="text-align:right">root æˆ– ec2-user</td></tr><tr><td style="text-align:right">Ubuntu</td><td style="text-align:right">ubuntu</td></tr></tbody></table><h3 id="mongodbå®‰è£…åŠé…ç½®"><a href="#mongodbå®‰è£…åŠé…ç½®" class="headerlink" title="mongodbå®‰è£…åŠé…ç½®"></a>mongodbå®‰è£…åŠé…ç½®</h3><p>æœ‰äº†apt-getä¸€åˆ‡çœŸæ˜¯è½»æ¾å¦‚æ”¾å±â€¦è¿è§£å‹ç¼©éƒ½ä¸ç”¨ï¼ä¹Ÿä¸ç”¨å†è®¾ç½®ç¯å¢ƒå˜é‡ä»€ä¹ˆçš„ï¼ˆæ ¹éƒ¨è®°ä¸ä½è§£å‹ç¼©çš„å‘½ä»¤â€¦ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mongodb</span><br></pre></td></tr></table></figure></p><p>å®‰è£…å¥½äº†ä¹‹åï¼Œå»<strong>æ ¹ç›®å½•</strong>ä¸‹åˆ›å»º<code>data</code>æ–‡ä»¶å¤¹å³å¯ï¼Œç„¶åæ‰“<code>mongod</code>å‘½ä»¤ï¼Œåº”è¯¥å°±å¯åŠ¨äº†ï¼Œæ­¤æ—¶è®¿é—®<code>localhost:27017</code>ï¼Œå¦‚æœçœ‹åˆ°ä»¥ä¸‹æ–‡å­—ï¼Œå°±æˆåŠŸå¯åŠ¨äº†èŠ’æœDB</p><blockquote><p>You are trying to access MongoDB on the native driver port. For http diagnostic access, add 1000 to the port number</p></blockquote><p>å¦‚æœæœ‰erroré€šå¸¸æ˜¯æ²¡æœ‰dataæ–‡ä»¶å¤¹ï¼Œè®¾ç½®<code>dbpath</code>åå†å°è¯•å¯åŠ¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod --dbpath=./path_of _data</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç¯å¢ƒï¼šUbuntu&lt;/p&gt;
&lt;h3 id=&quot;SSHè¿æ¥-EC2&quot;&gt;&lt;a href=&quot;#SSHè¿æ¥-EC2&quot; class=&quot;headerlink&quot; title=&quot;SSHè¿æ¥ EC2&quot;&gt;&lt;/a&gt;SSHè¿æ¥ EC2&lt;/h3&gt;&lt;p&gt;windowsä¸‹é€šå¸¸ç”¨putty&lt;br&gt;ubunt
      
    
    </summary>
    
      <category term="AWS" scheme="http://sabrinaluo.com/tech/categories/AWS/"/>
    
    
      <category term="AWS" scheme="http://sabrinaluo.com/tech/tags/AWS/"/>
    
      <category term="EC2" scheme="http://sabrinaluo.com/tech/tags/EC2/"/>
    
      <category term="ssh" scheme="http://sabrinaluo.com/tech/tags/ssh/"/>
    
      <category term="mongodb" scheme="http://sabrinaluo.com/tech/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>AWS API Gateway Mapping Template è·å–IP, headerç­‰</title>
    <link href="http://sabrinaluo.com/tech/2016/03/07/aws-api-gateway-mapping-templates/"/>
    <id>http://sabrinaluo.com/tech/2016/03/07/aws-api-gateway-mapping-templates/</id>
    <published>2016-03-07T06:33:03.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>API Gatewayæš‚æ—¶æ²¡æœ‰è¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£ï¼Œç¿»è¯‘æ— èƒ½çš„æˆ‘å®åœ¨ä¸çŸ¥é“Mapping Templateåº”è¯¥ç¿»è¯‘æˆä»€ä¹ˆæ¯”è¾ƒå¥½ã€‚</p><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>åœ¨é…åˆAPI Gatewayå’ŒLambdaæ¥æ­å»ºRESTful APIæ—¶ï¼ŒLambdaè·å–çš„payloadå¹¶éé€šå¸¸æœåŠ¡å™¨ç«¯è·å–çš„ä¸€ä¸ªrequestå¯¹è±¡ï¼Œlambdaè·å–åˆ°çš„payloadå¹¶<strong>ä¸åŒ…å« request header</strong>çš„å†…å®¹ï¼Œè€Œåªæœ‰<strong>request body</strong>çš„å†…å®¹ã€‚</p><p>headerä¸­çš„éƒ¨åˆ†å†…å®¹å¯ä»¥é€šè¿‡API Gatewayæä¾›çš„å˜é‡ä»mapping templateä¸­è·å–ã€‚å¯ä»¥è·å–çš„å†…å®¹åŒ…æ‹¬IP, httpæ–¹æ³•ï¼Œè·¯ç”±å‚æ•°ï¼Œqueryç­‰ï¼Œå…·ä½“å¯ä»¥çœ‹æ–‡æ¡£<a href="http://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/api-gateway-mapping-template-reference.html" target="_blank" rel="noopener">^1</a></p><h3 id="è®¾ç½®æ–¹æ³•"><a href="#è®¾ç½®æ–¹æ³•" class="headerlink" title="è®¾ç½®æ–¹æ³•"></a>è®¾ç½®æ–¹æ³•</h3><p>æŒ‰ç…§ç†è®ºæ¥è¯´ï¼ŒAWSè®¾ç½®å¯ä»¥é€šè¿‡ç•Œé¢è®¾ç½®çš„éƒ½å¯ä»¥é€šè¿‡è„šæœ¬æ¥è®¾ç½®ã€‚ä¸‹é¢åªä»‹ç»åœ¨ç•Œé¢ä¸­çš„è®¾ç½®ï¼š</p><ol><li>åœ¨API Gatewayç•Œé¢ä¸­é€‰ä¸­å…·ä½“çš„apiæ–¹æ³•ï¼Œç‚¹å‡»å³ä¾§çš„<strong>Intergration Request</strong></li><li>åœ¨åº•éƒ¨ç‚¹å‡»<strong>Mapping Templates</strong></li><li>ç‚¹å‡»<strong>Add Mapping Template</strong>ï¼Œè¾“å…¥<code>application/json</code>ï¼Œç‚¹å‡»âˆšè¿›è¡Œç¡®è®¤</li><li>åœ¨å³ä¾§æ–°å‡ºç°çš„åŒºåŸŸï¼Œç‚¹å‡»ç¼–è¾‘æŒ‰é’®ï¼ˆé“…ç¬”å›¾æ ‡ï¼‰ï¼Œè¾“å…¥éœ€è¦çš„å˜é‡å³å¯ï¼Œä¾‹å¦‚è¦è·å–ipï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;body&quot;: $input.json(&apos;$&apos;),</span><br><span class="line">  &quot;source_ip&quot; : &quot;$context.identity.sourceIp&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>å…¶ä¸­<code>$input.json(&#39;$&#39;)</code>æ˜¯è¯·æ±‚æ—¶å®¢æˆ·ç«¯å‘æ¥çš„body</p><h3 id="response-headerå’Œcookie"><a href="#response-headerå’Œcookie" class="headerlink" title="response headerå’Œcookie"></a>response headerå’Œcookie</h3><p>åœ¨é…åˆä½¿ç”¨lambdaå’ŒAPI gatewayçš„æ—¶å€™ï¼Œheaderå’Œcookieæ˜¯éå¸¸ä»¤äººå¤´ç–¼çš„é—®é¢˜â€¦<br>lambdaè¿”å›çš„å†…å®¹ï¼Œåªæ˜¯response bodyï¼Œå› æ­¤è®¾ç½®headerè¦åœ¨api gatewayä¸­è¿›è¡Œï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æœ‰ä¸€äº›é™åˆ¶çš„ï¼š</p><ol><li>åœ¨API Gatewayç•Œé¢ä¸­é€‰ä¸­å…·ä½“çš„apiæ–¹æ³•ï¼Œç‚¹å‡»å³ä¾§çš„<strong>Method Response</strong></li><li>å±•å¼€HTTP Statusï¼Œç‚¹å‡»<strong>Add Header</strong>ï¼Œæ·»åŠ ä¸€ä¸ªheaderã€‚<blockquote><p><strong>æ³¨æ„</strong>ï¼šå¯ä»¥æ·»åŠ å¤šä¸ªHeaderï¼Œä½†è¿™äº›headerä¸èƒ½åŒåï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œåªèƒ½æœ‰ä¸€ä¸ª<code>Set-Cookie</code>ï¼Œåªèƒ½æ·»åŠ ä¸€ä¸ªcookie </p></blockquote></li><li>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œè¿”å›ç¬¬ä¸€æ­¥æ‰€åœ¨çš„é¡µé¢ï¼Œç‚¹å‡»<strong>Integration Response</strong>ï¼Œç‚¹å‡»ä¸‰è§’å±•å¼€ï¼Œä¼šçœ‹åˆ°<strong>Header Mappings</strong></li><li>åœ¨å¯¹åº”çš„ä½ç½®ç¼–è¾‘<strong>mapping value</strong><ul><li>å¦‚æœæƒ³ä½¿ç”¨lambdaè¿”å›çš„æ•°æ®ï¼Œè®¾ç½®ä¸º<code>integration.response.body.KEY</code></li><li>å¦‚æœä¸æ˜¯ä½¿ç”¨lambdaï¼ˆå³æŠŠgatewayç”¨ä½œä»£ç†ï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨å®é™…æœåŠ¡å™¨è¿”å›çš„headerï¼Œè®¾ç½®ä¸º<code>integration.response.header.KEY</code></li></ul></li></ol><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li><a href="http://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/how-to-method-settings-execution-console.html" target="_blank" rel="noopener">http://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/how-to-method-settings-execution-console.html</a></li><li><a href="http://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/request-response-data-mappings.html" target="_blank" rel="noopener">http://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/request-response-data-mappings.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;API Gatewayæš‚æ—¶æ²¡æœ‰è¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£ï¼Œç¿»è¯‘æ— èƒ½çš„æˆ‘å®åœ¨ä¸çŸ¥é“Mapping Templateåº”è¯¥ç¿»è¯‘æˆä»€ä¹ˆæ¯”è¾ƒå¥½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é€‚ç”¨åœºæ™¯&quot;&gt;&lt;a href=&quot;#é€‚ç”¨åœºæ™¯&quot; class=&quot;headerlink&quot; title=&quot;é€‚ç”¨åœºæ™¯&quot;&gt;&lt;/a&gt;é€‚ç”¨åœºæ™¯&lt;
      
    
    </summary>
    
      <category term="AWS" scheme="http://sabrinaluo.com/tech/categories/AWS/"/>
    
    
      <category term="AWS" scheme="http://sabrinaluo.com/tech/tags/AWS/"/>
    
      <category term="API Gateway" scheme="http://sabrinaluo.com/tech/tags/API-Gateway/"/>
    
      <category term="lambda" scheme="http://sabrinaluo.com/tech/tags/lambda/"/>
    
      <category term="mapping templates" scheme="http://sabrinaluo.com/tech/tags/mapping-templates/"/>
    
      <category term="header" scheme="http://sabrinaluo.com/tech/tags/header/"/>
    
  </entry>
  
  <entry>
    <title>Cookieåœ¨å‰ç«¯å’Œåç«¯çš„è®¾ç½®</title>
    <link href="http://sabrinaluo.com/tech/2016/02/29/set-cookie-from-server-side-and-client-side/"/>
    <id>http://sabrinaluo.com/tech/2016/02/29/set-cookie-from-server-side-and-client-side/</id>
    <published>2016-02-29T06:04:57.000Z</published>
    <updated>2018-01-05T07:59:05.676Z</updated>
    
    <content type="html"><![CDATA[<p>httpåè®®ä»€ä¹ˆçš„ï¼Œä¸çŸ¥é“è·Ÿé€šä¿¡æœ‰æ²¡æœ‰å…³ç³»â€¦ä½œä¸ºä¸€ä¸ªé€šä¿¡ç§‘ç­å‡ºèº«çš„ç¡¬<del>æ±‰</del>å¦¹ï¼Œå¯¹å„ç§åè®®åŸºæœ¬ä¸Šåªèƒ½è¯´å‡ºåå­—ï¼Œåˆ«çš„ä¸€çªä¸é€š=ï¼Œ= æ‰€ä»¥å½“æˆ‘çŸ¥é“cookieåŸæ¥æ˜¯åœ¨headeré‡Œçš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘å°±éœ‡æƒŠäº†â€¦</p><p>åœ¨æœåŠ¡å™¨ç«¯ï¼Œå„ç§æ¡†æ¶éƒ½å·²ç»åŒ…è£…å¥½äº†æ–¹ä¾¿è®¾ç½®cookieçš„æ–¹æ³•ï¼Œæ¯”å¦‚nodejsçš„expressï¼Œphpçš„codeignitorã€laravelï¼ˆæˆ‘å±…ç„¶éƒ½è¢«è¿«å†™è¿‡phpäº†ï¼ŒçœŸæ˜¯é€¼è‰¯ä¸ºå¨¼â€¦ï¼‰</p><p>ä¸ºä»€ä¹ˆè¦äº†è§£è®¾ç½®cookieçš„åŸç†å‘¢ï¼Ÿäº†è§£äº†æ‰èƒ½åœ¨æŸäº›æ—¶å€™ç”¨æœ€åŸå§‹çš„æ–¹æ³•æ¥è®¾ç½®cookieï¼Œæ¯”å¦‚æ²¡æœ‰æ¡†æ¶å¯ç”¨çš„æ—¶å€™ï¼Œä»¥åŠæ¡†æ¶æä¾›çš„æ–¹æ³•ä¸é€‚ç”¨äºæŸäº›åœºæ™¯çš„æ—¶å€™ã€‚<br>æˆ‘æ˜¯åœ¨ä½¿ç”¨laravelè®¾ç½®cookieçš„æ—¶å€™è¸©äº†å‘ï¼Œç°åœ¨çš„é¡¹ç›®é‡Œå› ä¸ºè¦é…åˆä½¿ç”¨GTMï¼ˆgoogle tag managerï¼‰ï¼Œæ‰€ä»¥cookieæ˜¯ä¸åŠ å¯†çš„raw dataï¼Œä½†é€šè¿‡laravelè®¾ç½®çš„cookieéƒ½æ˜¯åŠ å¯†äº†çš„ã€‚äºæ˜¯åªèƒ½å­¦ä¹ PHPåŸç”Ÿçš„æ·»åŠ cookieæ–¹æ³•ã€‚<code>setcookie(NAME, VALUE, EXPIRES)</code></p><p>å¦å¤–å°±æ˜¯å› ä¸ºç”¨AWS API Gatewayæ—¶å€™çš„ä¸€äº›éœ€æ±‚ï¼Œæƒ³è¦é€šè¿‡gatewayç›´æ¥è®¾ç½®cookieï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸å¾—ä¸äº†è§£http cookieçš„è¿ä½œæ–¹å¼ã€‚</p><h3 id="response-cookie-ä»æœåŠ¡å™¨ç«¯è¿”å›æ–°cookie"><a href="#response-cookie-ä»æœåŠ¡å™¨ç«¯è¿”å›æ–°cookie" class="headerlink" title="response cookie ä»æœåŠ¡å™¨ç«¯è¿”å›æ–°cookie"></a>response cookie ä»æœåŠ¡å™¨ç«¯è¿”å›æ–°cookie</h3><p>è®¾ç½®cookieæ˜¯é€šè¿‡åœ¨å“åº”çš„å¤´éƒ¨åŠ å…¥<code>Set-Cookie</code>æ¥è®¾ç½®çš„ï¼Œ</p><blockquote><ul><li>ä¸€ä¸ªè¯·æ±‚é€šå¸¸åŒ…å«headerå’Œbody</li><li>ä¸è¯·æ±‚æœ‰å…³çš„cookieåˆ†ä¸ºrequest cookieå’Œresponse cookie<ul><li>request cookieæ˜¯æµè§ˆå™¨å·²å‚¨å­˜çš„cookie</li><li>response cookieæ˜¯æœåŠ¡å™¨ç«¯è¿”å›çš„æ–°çš„cookieï¼Œä¹Ÿå°±æ˜¯å°†ä¼šå‚¨å­˜åœ¨æµè§ˆå™¨ç«¯çš„æ–°cookie</li></ul></li></ul></blockquote><h4 id="ä¸€ä¸ªå®Œæ•´çš„cookie-header"><a href="#ä¸€ä¸ªå®Œæ•´çš„cookie-header" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„cookie header"></a>ä¸€ä¸ªå®Œæ•´çš„cookie header</h4><p>ä¸€ä¸ªå®Œæ•´çš„cookieå¤´é•¿è¿™æ ·<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: NAME=VALUE; expires=DATE; path=PATH; domain=DOMAIN</span><br></pre></td></tr></table></figure></p><p>NAME VALUEæ˜¯ä¸€å¯¹é”®å€¼<br>expiresæ˜¯è¿‡æœŸæ—¥æœŸï¼Œé€šå¸¸ç”¨å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°åŠ ä¸Šä¸€æ®µæ—¶é—´ï¼š<code>new Date().getTime()+30*24*60*60*1000)</code>ï¼Œç„¶å<strong>éœ€è¦è°ƒç”¨<code>toUTCString()</code>æ–¹æ³•</strong><br>å¦‚æœä¸è®¾ç½®expiresï¼Œåœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªcookieå°†è¢«å½“åšsessionå¯¹å¾…ï¼Œä¹Ÿå°±æ˜¯å…³é—­äº†æµè§ˆå™¨cookieå°±æ¶ˆå¤±<br>pathå’Œdomainè¿™ä¸ªâ€¦æ„Ÿè§‰ä¸å¤ªç”¨å¾—åˆ°ï¼Œå…·ä½“å¯ä»¥çœ‹<a href="http://blog.sina.com.cn/s/blog_70c4d9410100z3il.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p><p>å¦‚æœè¦åŒæ—¶è®¾ç½®å¤šä¸ªcookieï¼ŒåŒæ—¶è¿”å›å¤šä¸ª<code>Set-Cookie</code>å¤´å³å¯</p><h4 id="maxAge"><a href="#maxAge" class="headerlink" title="maxAge"></a>maxAge</h4><p>æœ‰ä¸€äº›æœåŠ¡å™¨ç«¯çš„æ¡†æ¶ä¼šæä¾›maxAgeå±æ€§æ¥è®¾ç½®cookieçš„è¿‡æœŸæ—¶é—´ï¼Œä½†æ˜¯åŸå§‹çš„Set-Cookieå¤´æ˜¯ä¸æ”¯æŒmaxAgeçš„ï¼Œæ‰€ä»¥åœ¨é€šè¿‡å¤´éƒ¨æ¥è®¾ç½®cookieè¿˜æ˜¯ä¹–ä¹–ç”¨å›expireså§</p><h3 id="æµè§ˆå™¨ç«¯è¯»å–cookie"><a href="#æµè§ˆå™¨ç«¯è¯»å–cookie" class="headerlink" title="æµè§ˆå™¨ç«¯è¯»å–cookie"></a>æµè§ˆå™¨ç«¯è¯»å–cookie</h3><p>JSåŸç”Ÿæ–¹æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var cookies = document.cookie;</span><br></pre></td></tr></table></figure></p><p>è¯»å–çš„cookieæ˜¯ä¸€ä¸ªåˆ†å·åˆ†éš”çš„åŒ…å«æ‰€æœ‰cookieé”®å€¼å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥æå–éœ€è¦çš„cookie<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var cookieA = document.cookie.replace(/(?:(?:^|.*;\s*)cookieA\s*\=\s*([^;]*).*$)|^.*$/, &quot;$1&quot;);</span><br></pre></td></tr></table></figure></p><h3 id="request-cookie-æµè§ˆå™¨ç«¯è®¾ç½®cookie"><a href="#request-cookie-æµè§ˆå™¨ç«¯è®¾ç½®cookie" class="headerlink" title="request cookie æµè§ˆå™¨ç«¯è®¾ç½®cookie"></a>request cookie æµè§ˆå™¨ç«¯è®¾ç½®cookie</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookie = &apos;cookie_example=123&apos;+&apos;;expires=&apos;+expire+&apos;;path=/&apos;;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦è®¾ç½®å¤šä¸ªcookieï¼Œå¤šæ¬¡è°ƒç”¨<code>document.cookie</code>å³å¯</p><h4 id="document-cookie"><a href="#document-cookie" class="headerlink" title="document.cookie"></a>document.cookie</h4><p>è¿™ä¸ªdocumentçš„behavioræœ‰ç‚¹å¥‡æ€ªï¼Œæ˜æ˜è¿”å›çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œæœ¬æ¥ä»¥ä¸ºæ¯æ¬¡è®¾ç½®cookieå¾—ç”¨æ–°çš„å­—ç¬¦ä¸²è¿æ¥æ—§çš„å­—ç¬¦ä¸²ï¼Œä½†å…¶å®ç›´æ¥ç­‰äºæ–°çš„å€¼ä¹Ÿå¹¶ä¸ä¼šè¦†ç›–æ—§çš„å€¼ï¼Œä¸çŸ¥é“å®ç°è¿™ä¸ªå±æ€§&amp;æ–¹æ³•æ··ç”¨çš„åŸç†æ˜¯ä»€ä¹ˆ0,0</p><p>####NOTE<br>é€šå¸¸è®¾ç½®cookieçš„æ—¶å€™éƒ½ä¼šæŠŠpathè®¾ç½®ä¸º<code>/</code>ï¼Œè¿™æ ·åŒä¸€ä¸ªåŸŸåä¸‹ï¼Œæ‰€æœ‰è·¯å¾„éƒ½å…±ç”¨ä¸€ä¸ªcookie<br>å¦‚æœæ²¡æœ‰è®¾ç½®pathï¼ŒæŸäº›æ¡†æ¶å¯èƒ½é»˜è®¤ä¼šä½¿ç”¨åˆ›å»ºcookieæ—¶çš„è·¯å¾„ä½œä¸ºpathï¼Œè¿™æ ·å°±å¯èƒ½å­˜åœ¨å¤šä¸ªpathä¸åŒçš„åŒåcookieã€‚</p><p>####å·¥å…·</p><ul><li>åœ¨æµè§ˆå™¨ç«¯ï¼Œå¯ä»¥ä½¿ç”¨chromeçš„æ‰©å±•<em>EditThisCookie</em>æ¥æŸ¥çœ‹å’Œç¼–è¾‘cookie</li><li>å¦‚æœæ˜¯ä»æœåŠ¡å™¨ç«¯å†™å…¥çš„cookieï¼Œå¯ä»¥åœ¨F12 network é€‰é¡¹å¡ä¸­é€‰ä¸­è¯·æ±‚ï¼Œæœ‰cookieçš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªcookieé€‰é¡¹ï¼Œèƒ½çœ‹åˆ°request cookieå’Œresponse cookie</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;httpåè®®ä»€ä¹ˆçš„ï¼Œä¸çŸ¥é“è·Ÿé€šä¿¡æœ‰æ²¡æœ‰å…³ç³»â€¦ä½œä¸ºä¸€ä¸ªé€šä¿¡ç§‘ç­å‡ºèº«çš„ç¡¬&lt;del&gt;æ±‰&lt;/del&gt;å¦¹ï¼Œå¯¹å„ç§åè®®åŸºæœ¬ä¸Šåªèƒ½è¯´å‡ºåå­—ï¼Œåˆ«çš„ä¸€çªä¸é€š=ï¼Œ= æ‰€ä»¥å½“æˆ‘çŸ¥é“cookieåŸæ¥æ˜¯åœ¨headeré‡Œçš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘å°±éœ‡æƒŠäº†â€¦&lt;/p&gt;
&lt;p&gt;åœ¨æœåŠ¡å™¨ç«¯ï¼Œå„ç§æ¡†æ¶éƒ½å·²ç»åŒ…è£…å¥½äº†æ–¹ä¾¿è®¾ç½®
      
    
    </summary>
    
    
      <category term="cookie" scheme="http://sabrinaluo.com/tech/tags/cookie/"/>
    
  </entry>
  
</feed>
