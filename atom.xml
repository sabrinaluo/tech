<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°ç™½å¦¹å¦¹å†™ä»£ç </title>
  <icon>https://www.gravatar.com/avatar/33db386efb13607178f855fd69e73158</icon>
  <subtitle>ä¸€ä¸ªåºŸè¯å¾ˆå¤šçš„ç¨‹åºåª›</subtitle>
  <link href="/tech/atom.xml" rel="self"/>
  
  <link href="https://sabrinaluo.github.io/tech/"/>
  <updated>2018-11-30T10:43:28.955Z</updated>
  <id>https://sabrinaluo.github.io/tech/</id>
  
  <author>
    <name>HiiTea</name>
    <email>luohaojing[at]gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git bisect äºŒåˆ†æ³•æŸ¥æ‰¾é—®é¢˜commit</title>
    <link href="https://sabrinaluo.github.io/tech/2018/11/29/git-bisect/"/>
    <id>https://sabrinaluo.github.io/tech/2018/11/29/git-bisect/</id>
    <published>2018-11-29T03:47:01.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>å‰å‡ å¤©åˆšçœ‹åˆ°ä¸€ä¸ªgit command: <code>git bisect</code>ï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°å±…ç„¶è¿™ä¹ˆå¿«å°±ç”¨ä¸Šäº†ï¼ŒçœŸæ˜¯å°´å°¬ã€‚æ›´å°´å°¬çš„æ˜¯ï¼Œdebugäº†åŠå¤©æœ€åå‘ç°æ˜¯è‡ªå·±çš„commitå‡ºé—®é¢˜ğŸ˜†</p><p>åœ¨è½¯ä»¶å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºæµ‹è¯•è¦†ç›–ç‡ä½ï¼Œæ²¡æ—¶é—´å›å½’æµ‹è¯•ç­‰ç­‰åŸå› ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ç§æƒ…å†µå°±æ˜¯ï¼ŒæŸä¸ªfeatureæ˜æ˜å‰å‡ å¤©è¿˜å¥½å¥½çš„ï¼Œä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹å°±å‡ºBugäº†â€¦â€¦ç„¶åhmmï¼Œæœ€ç¬¨çš„æ–¹æ³•å°±æ˜¯å€’å›å»ä¸€ä¸ªä¸€ä¸ªcommitçš„checkoutå‡ºæ¥æŸ¥æ‰¾å•¦ï¼Œç¨å¾®æ²¡é‚£ä¹ˆç¬¨çš„æ–¹æ³•å°±æ˜¯è·Ÿç‰ˆæœ¬æ¥æŸ¥æ‰¾ï¼Œç„¶åæ‰‹åŠ¨äººå·¥ç”¨äºŒäººåˆ†æ³•ï¼ˆæˆ‘ä»¥å‰å°±ä¸€ç›´æ˜¯è¿™ä¹ˆåšçš„ï¼Œè¿˜ä»¥ä¸ºè‡ªå·±å¾ˆèªæ˜å‘¢ï¼Œæ•°commitæ•°åˆ°å¤´æ™•ğŸ˜‚ï¼‰</p><h2 id="git-bisect"><a href="#git-bisect" class="headerlink" title="git bisect"></a>git bisect</h2><blockquote><p>This command uses a binary search algorithm to find which commit in your projectâ€™s history introduced a bug. <a href="https://git-scm.com/docs/git-bisect" target="_blank" rel="noopener">^1</a></p></blockquote><p><code>git bisect</code>åšçš„äº‹æƒ…å…¶å®å°±è·Ÿäººæ‰‹åšçš„äº‹æƒ…æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¸ç”¨è‡ªå·±å»æ•°commitï¼Œcommandä¼šè‡ªåŠ¨å®šä½åˆ°äºŒåˆ†æ³•åŒºé—´ä¸­ç‚¹çš„commitå¹¶checkout</p><p>ä¸¾ä¸ªğŸŒ°ï¼š<br>å‡å¦‚åœ¨developåˆ†æ”¯ä¸­æœ‰ABCDEFGè¿™å‡ ä¸ªcommitï¼ŒAæœ€æ–°ï¼ŒGæœ€æ—§ï¼Œå·²Aæœ‰bugä½†Gæ²¡æœ‰bugï¼Œæƒ³è¦æ‰¾å‡ºA-Gä¸­æœ€æ—©å‡ºç°bugçš„commitï¼Œå‡è®¾æœ€ç»ˆæ‰¾åˆ°æœ‰bugçš„commitæ˜¯Eã€‚</p><p>é‚£ä¹ˆé¦–å…ˆcheckout developåˆ†æ”¯ï¼Œç„¶å<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect start</span><br><span class="line">git bisect bad</span><br></pre></td></tr></table></figure></p><p>ç„¶å checkout G commit<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bisect good</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶gitä¼šè‡ªåŠ¨checkout D commit å¹¶æ˜¾ç¤ºè¿˜å‰©ä¸‹3ä¸ªcommitéœ€è¦æ£€æŸ¥ï¼Œç„¶åæˆ‘ä»¬ä¸åœçš„é‡å¤ä»¥ä¸Šæ ‡è®°<code>good</code>å’Œ<code>bad</code>çš„æ­¥éª¤ï¼Œç›´åˆ°æ‰¾å‡ºæœ‰é—®é¢˜çš„commit Eï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºè¿˜å‰©ä¸‹0ä¸ªcommitéœ€è¦æ£€æŸ¥ï¼Œ è®°ä¸‹è¿™ä¸ªcommitçš„hashï¼ˆä¸çŸ¥é“è¿™ä¸€æ­¥æœ‰æ²¡æœ‰ä»€ä¹ˆè‡ªåŠ¨è®°ä¸‹çš„æ–¹æ³•ï¼Ÿï¼‰ï¼Œç„¶å<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset</span><br></pre></td></tr></table></figure></p><p>ä¹‹åä¼šè‡ªåŠ¨å›åˆ°developåˆ†æ”¯ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹fixupäº†ã€‚</p><p>ä»¥ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰å‡ å¤©åˆšçœ‹åˆ°ä¸€ä¸ªgit command: &lt;code&gt;git bisect&lt;/code&gt;ï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°å±…ç„¶è¿™ä¹ˆå¿«å°±ç”¨ä¸Šäº†ï¼ŒçœŸæ˜¯å°´å°¬ã€‚æ›´å°´å°¬çš„æ˜¯ï¼Œdebugäº†åŠå¤©æœ€åå‘ç°æ˜¯è‡ªå·±çš„commitå‡ºé—®é¢˜ğŸ˜†&lt;/p&gt;
&lt;p&gt;åœ¨è½¯ä»¶å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºæµ‹è¯•è¦†ç›–ç‡ä½ï¼Œæ²¡æ—¶é—´å›å½’æµ‹è¯•ç­‰ç­‰åŸå› ï¼Œ
      
    
    </summary>
    
      <category term="git" scheme="https://sabrinaluo.github.io/tech/categories/git/"/>
    
    
      <category term="git" scheme="https://sabrinaluo.github.io/tech/tags/git/"/>
    
      <category term="äºŒåˆ†æ³•" scheme="https://sabrinaluo.github.io/tech/tags/%E4%BA%8C%E5%88%86%E6%B3%95/"/>
    
      <category term="debug" scheme="https://sabrinaluo.github.io/tech/tags/debug/"/>
    
      <category term="bisect" scheme="https://sabrinaluo.github.io/tech/tags/bisect/"/>
    
  </entry>
  
  <entry>
    <title>å–æ¨¡(mod)å’Œå–ä½™(rem) åœ¨æ•°å­¦å’Œè®¡ç®—æœºä¸­çš„ä¸åŒ</title>
    <link href="https://sabrinaluo.github.io/tech/2018/11/20/remainder-and-modulo/"/>
    <id>https://sabrinaluo.github.io/tech/2018/11/20/remainder-and-modulo/</id>
    <published>2018-11-20T04:18:29.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>(å‰å‡ å¤©å¿ƒæƒ…å·®åˆ°çˆ†:(ï¼Œä»Šå¤©ç»ˆäºå¿ƒæƒ…æ˜åªšå¯ä»¥å¡«å‘äº†)</p><p>æˆ‘ç¬¬ä¸€æ¬¡çŸ¥é“ä¸åŒè¯­è¨€å¯¹äº<code>mod</code>çš„ä¸åŒå®ç°ä¼šå¯¼è‡´ç»“æœä¸åŒï¼ŒçœŸæ˜¯é»‘äººé—®å·â€¦ç„¶ååˆäº†è§£åˆ°ï¼Œåœ¨è®¡ç®—æœºç•Œï¼Œå–æ¨¡å’Œå–ä½™å¤§éƒ½æ˜¯æ··ä¸ºä¸€è°ˆçš„â€¦</p><p>äº†è§£å–æ¨¡å’Œå–ä½™é—®é¢˜çš„èµ·å› æ˜¯ï¼Œæƒ³è¦å®ç°ç±»ä¼¼å¾ªç¯é“¾è¡¨ä¸­<code>tail.next === head</code>, <code>head.prev === tail</code> çš„ç±»ä¼¼åŠŸèƒ½ï¼Œç”±äºå¹³æ—¶éƒ½ä¼šç”¨ä¸€äº›ramda, lodashä¹‹ç±»çš„utilåº“ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æƒ³ç€ç”¨jsè‡ªå¸¦çš„<code>%</code>ï¼Œè€Œæ˜¯ç›´æ¥ç”¨äº†<code>R.mathMod</code><a href="https://ramdajs.com/docs/#mathMod" target="_blank" rel="noopener">^1</a>ï¼Œå¹¶ä¸”å®Œå…¨æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸¤ä¸ªè¿ç®—çš„ç»“æœä¼šä¸åŒã€‚</p><p>å…ˆçœ‹ä¸ªğŸŒ°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-5</span> % <span class="number">3</span> <span class="comment">// â¡&gt; -2</span></span><br><span class="line">R.mathMod(<span class="number">-5</span>, <span class="number">3</span>) <span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ­£æ•°éƒ½æ˜¯æ²¡é—®é¢˜çš„ï¼Œä¸€èˆ¬ä¹Ÿå¾ˆå°‘è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µï¼Œä½†ä¸€æ—¦é‡ä¸Šéœ€è¦ä½¿ç”¨è´Ÿæ•°çš„æ—¶å€™ï¼Œå°±ä¸€å®šæ‰å‘(pitfalls)é‡Œäº†ã€‚JSçš„è¯è¿˜å¯ä»¥è¯´æ˜¯ä¸åŒåº“çš„å®ç°æ–¹æ³•ä¸åŒå¯¼è‡´ç»“æœä¸åŒï¼Œä½†æ˜¯åœ¨ä¸åŒè¯­è¨€é‡Œï¼Œæ¯”å¦‚Pythoné‡Œå’ŒJSé‡Œï¼ŒåŒæ ·æ˜¯<code>-5 % 2</code>ï¼ŒPythonè¿”å›çš„ç»“æœæ˜¯<code>1</code>ï¼Ÿï¼</p><p>åœ¨æ•°å­¦ç•Œï¼Œå–ä½™çš„æ–¹æ³•æ˜¯ç»Ÿä¸€çš„ï¼Œå…¶ç»“æœæ˜¯æ¬§å‡ é‡Œå¾—é™¤æ³•(Euclidean division)çš„ä½™æ•°<a href="https://en.wikipedia.org/wiki/Modulo_operation#Remainder_calculation_for_the_modulo_operation" target="_blank" rel="noopener">^2</a>ï¼›è€Œè®¡ç®—æœºç•Œï¼Œç”±äºç¼–ç¨‹è¯­è¨€çš„å®ç°ä¸åŒæˆ–è€…ç¡¬ä»¶çš„ä¸åŒä¼šå¯¼è‡´ç»“æœä¸åŒã€‚</p><p>ä¸è¿‡æ‰€æœ‰çš„æ±‚ä½™æ–¹æ³•éƒ½æ»¡è¶³ä»¥ä¸‹3ç‚¹ï¼š</p><ul><li>a = n * q +r</li><li>q âˆˆ Z (qå±äºæ•´æ•°é›†åˆ)</li><li>|r| &lt; |n|</li></ul><p>ä½†æ˜¯ä»…æ»¡è¶³è¿™ä¸‰ç‚¹çš„è¯ï¼Œå½“é‡åˆ°è´Ÿæ•°æ—¶ï¼Œè¿˜æ˜¯ä¼šæœ‰æ­£è´Ÿå·çš„é—®é¢˜ï¼Œä½™æ•°çš„ç¬¦å·åˆ°åº•è·Ÿé™¤æ•°è¿˜æ˜¯è¢«é™¤æ•°å‘¢ï¼Ÿå¯èƒ½è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰ä¸åŒç»“æœçš„åŸå› ï¼Œæ¯•ç«Ÿè¿™ä¸ªå®šä¹‰å°±æ˜¯ä¸å®Œå–„çš„ã€‚</p><h2 id="æ¬§å‡ é‡Œå¾—é™¤æ³•-Euclidean-division"><a href="#æ¬§å‡ é‡Œå¾—é™¤æ³•-Euclidean-division" class="headerlink" title="æ¬§å‡ é‡Œå¾—é™¤æ³• Euclidean division"></a>æ¬§å‡ é‡Œå¾—é™¤æ³• Euclidean division</h2><p>æ¬§å‡ é‡Œå¾—é™¤æ³•ä¸­å®šä¹‰ï¼Œä½™æ•°æ°¸è¿œä¸ä¸ºè´Ÿï¼Œrâ‰¥0ã€‚ç„¶åç»è¿‡å“å“ä¸€é¡¿æ¨å€’ï¼Œæœ€ç»ˆï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">r = a - |n| * floor(a/|n|)</span><br><span class="line"></span><br><span class="line">e.g.</span><br><span class="line">1 = 7 - |-3| * floor(7 / |-3|) -&gt; 7 - 6</span><br><span class="line">2 = -7 - 3 * floor( (-7) / 3)  -&gt; -7 - (-9)</span><br></pre></td></tr></table></figure></p><h2 id="æˆªæ–­é™¤æ³•-truncated-division"><a href="#æˆªæ–­é™¤æ³•-truncated-division" class="headerlink" title="æˆªæ–­é™¤æ³• truncated division"></a>æˆªæ–­é™¤æ³• truncated division</h2><p>æˆªæ–­é™¤æ³•ä¸­ï¼Œå•†å‘0å–æ•´ï¼Œä½™æ•°å¯ä»¥ä¸ºè´Ÿï¼ŒJSä¸­çš„<code>%</code>ä½¿ç”¨è¯¥å®šä¹‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">r = a - n * trunc(a/n)</span><br><span class="line"></span><br><span class="line">e.g.</span><br><span class="line"> 1 = 7 - (-3) * trunc(7/(-3)) -&gt; 7 - (-3) * (-2)</span><br><span class="line">-1 = -7 - 3 * trunc((-7)/3) -&gt; - 7 - (3) * (-2)</span><br></pre></td></tr></table></figure></p><h2 id="å–åº•é™¤æ³•-floored-division"><a href="#å–åº•é™¤æ³•-floored-division" class="headerlink" title="å–åº•é™¤æ³• floored division"></a>å–åº•é™¤æ³• floored division</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">r = a - n * floor(a/n)</span><br><span class="line"></span><br><span class="line">e.g.</span><br><span class="line">-2 = 7 - (-3) * (-3)</span><br><span class="line">2 = (-7) - 3 *(-3)</span><br><span class="line">1 = 7 - 3 * 2</span><br></pre></td></tr></table></figure><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><p>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œé€šå¸¸éƒ½ä¼šæƒ³åˆ°<code>x%2===1</code>ï¼Œå½“xä¸ºè´Ÿçš„å¥‡æ•°æ—¶ï¼Œä½¿ç”¨è¿™ä¸ªç­‰å¼å°±æœ‰é—®é¢˜äº†â€¦å½“ç„¶å•¦ï¼Œä¸è€ƒè™‘æ­£è´Ÿæ•°åˆè¦æ­£ç¡®åˆ¤æ–­çš„æœ€ç®€å•çš„è¿˜æ˜¯ä½¿ç”¨å¶æ•°å¤§æ³•ï¼Œæ°¸è¿œä¹Ÿä¸ä¼šå‡ºé”™<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_odd</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x%<span class="number">2</span>!==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>åœ¨ä¸åŒçš„è¯­è¨€æˆ–åº“ä¸­å¯èƒ½å­˜åœ¨å„ç§æƒ…å†µï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦ç‰¹åˆ«ç•™æ„ï¼š</p><ul><li>æœ‰äº›è¯­è¨€ä¸­ï¼Œè¢«é™¤æ•°(dividend)å¯ä»¥ä¸ºè´Ÿï¼Œä½†é™¤æ•°(divisor)ä¸èƒ½ä¸ºè´Ÿã€‚e.g. <code>R.mathMod(7,-3) -&gt; NaN</code></li><li>æœ‰äº›è¯­è¨€ä¸­ï¼Œå¯èƒ½ä¼šæœ‰<code>mod</code>ã€<code>rem</code>ä¸¤ç§æ–¹æ³•æ¥åŒºåˆ†æˆªæ–­é™¤æ³•å’Œæ¬§å‡ é‡Œå¾—é™¤æ³•çš„ä¸åŒç»“æœ</li></ul><p>wikiæŠ„æ¥çš„å›¾ï¼Œçº¢è‰²ä¸ºå•†ï¼Œç»¿è‰²ä¸ºä½™æ•°ï¼Œå…¶å®æˆ‘ä¸æ˜¯å¾ˆçœ‹å¾—æ‡‚ğŸ˜…<br><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Divmod.svg/250px-Divmod.svg.png" alt="img"></p><p>æ€»çš„æ¥è¯´ï¼Œæ±‚å•†çš„æ—¶å€™ä¼šåˆ†ä¸ºå‘é›¶å–æ•´ã€å‘ä¸‹å–æ•´ã€æ¬§å‡ é‡Œå¾—é™¤æ³•ï¼Œè¯»ä¹¦çš„æ—¶å€™å°±æœ€çƒ¦æ•°å­¦å®šä¹‰è¿™ç§ä¸œè¥¿äº†ï¼Œç„¶è€Œç°åœ¨å‘ç°â€œå®šä¹‰â€æ‰æ˜¯ä¸€åˆ‡çš„æ ¹æœ¬ï¼ŒçœŸæ˜¯æ‚”ä¸å½“åˆâ€¦</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>[1] <a href="https://ramdajs.com/docs/#mathMod" target="_blank" rel="noopener">https://ramdajs.com/docs/#mathMod</a><br>[2] <a href="https://en.wikipedia.org/wiki/Modulo_operation#Remainder_calculation_for_the_modulo_operation" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Modulo_operation#Remainder_calculation_for_the_modulo_operation</a><br>[3] <a href="http://blog.thpiano.com/?p=1023" target="_blank" rel="noopener">http://blog.thpiano.com/?p=1023</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;(å‰å‡ å¤©å¿ƒæƒ…å·®åˆ°çˆ†:(ï¼Œä»Šå¤©ç»ˆäºå¿ƒæƒ…æ˜åªšå¯ä»¥å¡«å‘äº†)&lt;/p&gt;
&lt;p&gt;æˆ‘ç¬¬ä¸€æ¬¡çŸ¥é“ä¸åŒè¯­è¨€å¯¹äº&lt;code&gt;mod&lt;/code&gt;çš„ä¸åŒå®ç°ä¼šå¯¼è‡´ç»“æœä¸åŒï¼ŒçœŸæ˜¯é»‘äººé—®å·â€¦ç„¶ååˆäº†è§£åˆ°ï¼Œåœ¨è®¡ç®—æœºç•Œï¼Œå–æ¨¡å’Œå–ä½™å¤§éƒ½æ˜¯æ··ä¸ºä¸€è°ˆçš„â€¦&lt;/p&gt;
&lt;p&gt;äº†è§£å–æ¨¡å’Œå–ä½™é—®é¢˜çš„èµ·å› æ˜¯ï¼Œæƒ³è¦å®ç°ç±»ä¼¼
      
    
    </summary>
    
      <category term="Math" scheme="https://sabrinaluo.github.io/tech/categories/Math/"/>
    
    
      <category term="mod" scheme="https://sabrinaluo.github.io/tech/tags/mod/"/>
    
      <category term="remainder" scheme="https://sabrinaluo.github.io/tech/tags/remainder/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºeventListenerçš„é‚£äº›äº‹</title>
    <link href="https://sabrinaluo.github.io/tech/2018/08/22/event-listener/"/>
    <id>https://sabrinaluo.github.io/tech/2018/08/22/event-listener/</id>
    <published>2018-08-22T03:41:52.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>If multiple identical <code>EventListeners</code> are registered on the same <code>EventTarget</code> with the same parameters, the duplicate instances are discarded. They do not cause the <code>EventListener</code> to be called twice, and they do not need to be removed manually with the <code>removeEventListener()</code> method. <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Multiple_identical_event_listeners#Multiple_identical_event_listeners" target="_blank" rel="noopener">^1</a></p></blockquote><p>å¦‚æœåœ¨åŒä¸€ä¸ª<code>EventTarget</code>ä¸Šæ·»åŠ åŒä¸€ä¸ªï¼ˆreferenceç›¸åŒï¼‰<code>EventListeners</code>ï¼Œè¯¥listeneråªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨<code>removeEventListener</code>ç§»é™¤å¤šä½™çš„listener</p><p>æ‰€ä»¥åœ¨<code>addEventListener</code>æ—¶åº”å°½é‡<strong>é¿å…ä½¿ç”¨åŒ¿åå‡½æ•°</strong>çš„å½¢å¼ï¼Œè€Œåº”è¯¥å¼•ç”¨å·²å®šä¹‰å¥½çš„å‡½æ•°ï¼Œä»è€Œé¿å…ä¹‹åé‡å¤æ·»åŠ listeneræ—¶è¢«é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¹¶ä¸”ä¹Ÿä¸º<code>removeListener</code>æä¾›å¯èƒ½æ€§</p><h2 id="getEventListeners"><a href="#getEventListeners" class="headerlink" title="getEventListeners"></a>getEventListeners</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæƒ³çŸ¥é“documenté‡Œçš„å…¨éƒ¨æˆ–æŸä¸ªobjectä¸Šé¢éƒ½ç»‘å®šäº†ä»€ä¹ˆlistenerï¼Œé™¤äº†è‡ªå·±å†™ä¸€æ®µä»£ç <a href="https://gist.github.com/dmnsgn/36b26dfcd7695d02de77f5342b0979c7" target="_blank" rel="noopener">^2</a>å»æŸ¥çœ‹ä¹‹å¤–ï¼Œchrome dev toolsä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„æ¥å£<a href="https://developers.google.com/web/tools/chrome-devtools/console/command-line-reference" target="_blank" rel="noopener">^3</a></p><h3 id="æŸ¥çœ‹documentä¸­çš„æ‰€æœ‰listener"><a href="#æŸ¥çœ‹documentä¸­çš„æ‰€æœ‰listener" class="headerlink" title="æŸ¥çœ‹documentä¸­çš„æ‰€æœ‰listener"></a>æŸ¥çœ‹documentä¸­çš„æ‰€æœ‰listener</h3><script src="//gist.github.com/dmnsgn/36b26dfcd7695d02de77f5342b0979c7.js"></script><h3 id="ä½¿ç”¨chromeæŸ¥çœ‹å•ä¸ªobjectä¸Šçš„listener"><a href="#ä½¿ç”¨chromeæŸ¥çœ‹å•ä¸ªobjectä¸Šçš„listener" class="headerlink" title="ä½¿ç”¨chromeæŸ¥çœ‹å•ä¸ªobjectä¸Šçš„listener"></a>ä½¿ç”¨chromeæŸ¥çœ‹å•ä¸ªobjectä¸Šçš„listener</h3><p>ç›´æ¥åœ¨chromeçš„consoleä¸­ä½¿ç”¨<code>getEventListeners</code>æ¥å£å³å¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getEventListeners(<span class="built_in">document</span>)</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæƒ³çŸ¥é“listenerçš„å‡½æ•°æºç ï¼Œå¯ä»¥å¯¹è¯¥listenerå³é”®é€‰æ‹© <strong>store as global variable</strong>ï¼Œ chromeä¼šå°†å…¶å‚¨å­˜ä¸ºåä¸º<code>tempX</code>çš„å˜é‡(Xä¸ºæ­£æ•´æ•°)ï¼Œå¹¶æ‰“å°å‡ºè¯¥å˜é‡å†…å®¹ï¼Œå³å¯çœ‹åˆ°listenerå‡½æ•°çš„å…·ä½“ä»£ç </p><h2 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h2><p>å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬åœ¨<code>addEventListener</code>æ—¶ï¼Œéƒ½ä¼šçœç•¥ç¬¬ä¸‰ä¸ªå‚æ•°<code>options</code>ã€‚è¦äº†è§£<code>options</code>ä¸­çš„å„é¡¹å‚æ•°æœ‰ä»€ä¹ˆç”¨é€”ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ï¼Œäº‹ä»¶å†’æ³¡(Event Bubbling)å’Œäº‹ä»¶æ•æ‰(Event Capturing)çš„æ‰§è¡Œé¡ºåº<a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture" target="_blank" rel="noopener">^4</a>ã€‚</p><h3 id="äº‹ä»¶å†’æ³¡-äº‹ä»¶æ•æ‰"><a href="#äº‹ä»¶å†’æ³¡-äº‹ä»¶æ•æ‰" class="headerlink" title="äº‹ä»¶å†’æ³¡ äº‹ä»¶æ•æ‰"></a>äº‹ä»¶å†’æ³¡ äº‹ä»¶æ•æ‰</h3><p><img src="https://mdn.mozillademos.org/files/14075/bubbling-capturing.png" alt="img"></p><p>å½“è§¦å‘ä¸€ä¸ªeventæ—¶ï¼Œç°ä»£æµè§ˆå™¨å¯ä»¥æœ‰ä¸¤ç§æ‰§è¡Œæ¨¡å¼/é¡ºåºï¼Œé»˜è®¤ä¸º<strong>äº‹ä»¶å†’æ³¡</strong></p><ul><li>äº‹ä»¶å†’æ³¡ï¼Œç”±ä¸‹è‡³ä¸Šï¼Œchild å‘ ancestor ä¾æ¬¡æŸ¥æ‰¾eventListnerå¹¶æ‰§è¡Œ</li><li>äº‹ä»¶æ•æ‰ï¼Œç”±é¡¶è‡³ä¸‹ï¼Œç”±æœ€å¤–å±‚ ancestor å‘ child ä¾æ¬¡æŸ¥æ‰¾ã€æ‰§è¡Œï¼Œ (until it reaches the element that was actually clicked on)</li></ul><h3 id="options-5"><a href="#options-5" class="headerlink" title="options^5"></a><code>options</code><a href="https://developers.google.com/web/updates/2016/10/addeventlistener-once" target="_blank" rel="noopener">^5</a></h3><p><code>options</code>åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé€‰é¡¹ï¼š</p><ul><li><code>capture</code>ï¼Œå¦‚æœä¸º<code>true</code>ï¼Œè¯¥eventä¼šæœ€å…ˆdispatchã€‚ <strong> before any other children domsâ€™ same event </strong> å¦‚åŒä¸Šä¸€èŠ‚æ‰€æåˆ°çš„ï¼Œå¦‚æœè®¾ç½®ä¸º<code>true</code>ï¼Œæµè§ˆå™¨ä¼šæŒ‰ç…§äº‹ä»¶æ•æ‰çš„é¡ºåºæ¥æ‰§è¡Œç›¸å…³listener</li><li><code>once</code>ï¼Œå¦‚æœä¸º<code>true</code>ï¼Œlisteneræœ€å¤šåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¼šè‡ªåŠ¨ç§»é™¤</li><li><code>passive</code>ï¼Œå¦‚æœä¸º<code>true</code>ï¼Œä¸ä¼šè°ƒç”¨<code>preventDefault()</code>ï¼Œå¦‚æœè¯¥æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ™è¯¥æ–¹æ³•ä¼šè¢«å¿½ç•¥ä¸”æŠ›å‡ºè­¦å‘Šâš ï¸ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Unable to preventDefault inside passive event listener invocation.</span><br></pre></td></tr></table></figure></li></ul><p><code>passive</code>ä¸º<code>false</code>æ—¶ï¼Œ<code>touch</code>eventä¼šé˜»å¡æµè§ˆå™¨çš„ä¸»çº¿ç¨‹ï¼Œä»è€Œå½±å“scrollçš„æ€§èƒ½ï¼Œå› æ­¤ä¸€äº›æµè§ˆå™¨(chrome, firefox)å°†<code>touchstart</code> <code>touchemove</code>äº‹ä»¶åœ¨<code>window</code> <code>document</code> <code>document.body</code>çº§åˆ«çš„<code>passive</code>é»˜è®¤å€¼è®¾ä¸º<code>true</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Improving_scrolling_performance_with_passive_listeners" target="_blank" rel="noopener">^6</a></p><p>MDNçš„è¿™ä¸ªä¾‹å­éå¸¸å¥½çš„è§£é‡Šäº†å„ç§optionæ­é…ä¸‹çš„å„ç§æƒ…å†µ<br><iframe scrolling="no" width="100%" height="450px" src="//jsfiddle.net/HiiTea/m2vha9sj/embedded/result,html,js/light" frameborder="0" allowfullscreen></iframe></p><p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ç»å¸¸çœ‹åˆ°è¿™æ ·çš„å†™æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(<span class="string">'click'</span>, myClickHandler, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸‰ä¸ªå‚æ•°å¹¶éä¸€ä¸ª<code>object</code>ï¼Œè€Œæ˜¯ä¸€ä¸ª<code>boolean</code>ï¼Œè¿™æ ·çš„å†™æ³•æ˜¯ä¸ºäº†å…¼å®¹ä¸€äº›æ—§çš„æµè§ˆå™¨ï¼Œå½“ä½¿ç”¨è¿™æ ·çš„å†™æ³•æ—¶ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°<code>false</code>æŒ‡ä»£çš„æ˜¯<code>capture</code>å‚æ•°</p><blockquote><p>The options argument sets listener-specific options. For compatibility this can be a boolean, in which case the method behaves exactly as if the value was specified as optionsâ€™s capture. <a href="https://dom.spec.whatwg.org/#interface-eventtarget" target="_blank" rel="noopener">^7</a></p></blockquote><h3 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h3><p>IE9ä¹‹å‰ï¼Œæ²¡æœ‰<code>addEventListener</code>æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨<code>attachEvent</code>æ–¹æ³•ä»£æ›¿ï¼Œè¯¥æ–¹æ³•ä¸æ¥å—ç¬¬ä¸‰ä¸ªå‚æ•° <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Legacy_Internet_Explorer_and_attachEvent" target="_blank" rel="noopener">^8</a></p><h2 id="removeListener"><a href="#removeListener" class="headerlink" title="removeListener"></a>removeListener</h2><blockquote><p>While <code>addEventListener()</code> will let you add the same listener more than once for the same type if the options are different, the only option <code>removeEventListener()</code> checks is the capture/useCapture flag. Its value must match for <code>removeEventListener()</code> to match, but the other values donâ€™t. <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener" target="_blank" rel="noopener">^9</a></p></blockquote><p>è¿™ä¸ªå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨<code>addEventListener</code>æ˜¯æ·»åŠ äº†æŸäº›<code>options</code>ï¼Œé‚£ä¹ˆç§»é™¤æ—¶ä¹Ÿéœ€è¦æ·»åŠ ç›¸åº”çš„<code>options</code>æ‰èƒ½æˆåŠŸç§»é™¤listener ğŸ˜­ çœŸæ˜¯éº»çƒ¦<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, handler, &#123; <span class="attr">passive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="built_in">document</span>.removeEventListener(<span class="string">"click"</span>, handler); <span class="comment">// fails</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;If multiple identical &lt;code&gt;EventListeners&lt;/code&gt; are registered on the same &lt;code&gt;EventTarget&lt;/code&gt; with the same paramete
      
    
    </summary>
    
      <category term="WebAPI" scheme="https://sabrinaluo.github.io/tech/categories/WebAPI/"/>
    
    
      <category term="js" scheme="https://sabrinaluo.github.io/tech/tags/js/"/>
    
      <category term="eventlLstener" scheme="https://sabrinaluo.github.io/tech/tags/eventlLstener/"/>
    
      <category term="chrome dev tool" scheme="https://sabrinaluo.github.io/tech/tags/chrome-dev-tool/"/>
    
      <category term="web api" scheme="https://sabrinaluo.github.io/tech/tags/web-api/"/>
    
      <category term="äº‹ä»¶å†’æ³¡" scheme="https://sabrinaluo.github.io/tech/tags/%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å»¶è¿ŸåŠ è½½script(defer, async)</title>
    <link href="https://sabrinaluo.github.io/tech/2018/05/31/script-defer-async/"/>
    <id>https://sabrinaluo.github.io/tech/2018/05/31/script-defer-async/</id>
    <published>2018-05-31T07:18:29.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p><code>&lt;script&gt;</code>çš„ä¸‹è½½å’Œæ‰§è¡Œéƒ½ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Œå› æ­¤å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æŠŠ<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;body&gt;</code>çš„åº•éƒ¨ï¼Œæ¸²æŸ“å®Œå‰é¢çš„htmlå†…å®¹ä¹‹åæ‰åŠ è½½å’Œæ‰§è¡ŒJSã€‚</p><p>ç„¶è€Œæœ‰æ—¶ç”±äºæŸäº›é™åˆ¶ï¼ŒåªæŠŠæŸäº›<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;head&gt;</code>é‡Œï¼Œä½†åˆä¸å¸Œæœ›é¡µé¢æ¸²æŸ“è¢«é˜»å¡ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨<code>async</code>æˆ–<code>defer</code>å±æ€§æ¥å»¶è¿ŸåŠ è½½ã€æ¸²æŸ“ã€‚</p><p>ä¸€å¼ å›¾èƒœè¿‡åƒè¨€ä¸‡è¯­<a href="https://stackoverflow.com/a/39711009/3821392" target="_blank" rel="noopener">^1</a><br><img src="https://i.stack.imgur.com/wfL82.png" alt="image"></p><h3 id="script"><a href="#script" class="headerlink" title="script"></a>script</h3><p>å¦‚æœæ²¡æœ‰åŠ ä»»ä½•ä¸å»¶è¿ŸåŠ è½½ç›¸å…³çš„å±æ€§ï¼Œæµè§ˆå™¨ä¼šå…ˆåŠ è½½ã€ç„¶åæ‰§è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šé˜»å¡åé¢å†…å®¹çš„æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ç­‰<code>&lt;script&gt;</code>åŠ è½½å¹¶æ‰§è¡Œä¹‹åï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“ä¹‹åçš„å†…å®¹ã€‚</p><h4 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h4><p>å› ä¸ºå¯èƒ½å­˜åœ¨ç±»ä¼¼éœ€æ±‚ï¼šåœ¨æ‰§è¡Œè„šæœ¬æ—¶ï¼Œä½¿ç”¨<code>document.write</code>ï¼Œå› æ­¤éœ€è¦é˜»å¡æ¸²æŸ“</p><h3 id="async"><a href="#async" class="headerlink" title="async"></a>async</h3><p>å¦‚æœæ·»åŠ äº†<code>async</code>å±æ€§ï¼Œæµè§ˆå™¨ä¼šå¹¶è¡Œçš„ä¸€è¾¹æ¸²æŸ“é¡µé¢ä¸€è¾¹åŠ è½½è„šæœ¬ã€‚ä¸€æ—¦è„šæœ¬åŠ è½½å®Œæˆï¼Œå°±ä¼šæ‰§è¡Œè„šæœ¬ï¼Œæ‰§è¡Œè„šæœ¬çš„è¿‡ç¨‹ä¼šé˜»å¡åç»­å†…å®¹çš„æ¸²æŸ“ã€‚</p><p><strong>!!!æ³¨æ„: ç”±äºæ˜¯åŠ è½½å®Œæˆå°±ç«‹åˆ»æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œé¡ºåºæ˜¯æ— æ³•ä¿è¯çš„ï¼</strong><br><code>async</code>æ˜¯html5ä¸­æ‰æœ‰çš„å±æ€§ï¼Œå› æ­¤éœ€è¦æ³¨æ„æ—§çš„æµè§ˆå™¨ä¸æ”¯æŒæ­¤å±æ€§</p><h3 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h3><p>å¦‚æœæ·»åŠ äº†<code>defer</code>å±æ€§ï¼Œæµè§ˆå™¨ä¼šå¹¶è¡Œçš„ä¸€è¾¹æ¸²æŸ“é¡µé¢ä¸€è¾¹åŠ è½½è„šæœ¬ã€‚ç­‰åˆ°é¡µé¢å†…å®¹å®Œå…¨æ¸²æŸ“å®Œæˆä¹‹åæ‰å¼€å§‹æ‰§è¡Œï¼Œèƒ½å¤ŸèŠ‚çº¦ä¸€ç‚¹åŠ è½½æ—¶é—´ï¼ˆå› ä¸ºæ˜¯å¹¶è¡Œçš„ï¼‰ã€‚è¿™ä¹ˆçœ‹æ¥ä½¿ç”¨<code>defer</code>è·Ÿæ”¾åœ¨<code>body</code>åº•éƒ¨æ•ˆæœå·®ä¸å¤šï¼Œç”šè‡³æ›´èƒœä¸€ç­¹ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆç°åœ¨è¿˜æœ‰å¾ˆå¤šäººè¿˜åœ¨ä½¿ç”¨åè€…(bodyåº•éƒ¨)è¿™ç§æ–¹å¼å‘¢ï¼Œè¿™ä¸¤ç§æ–¹å¼åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ<a href="https://stackoverflow.com/questions/5250412/how-exactly-does-script-defer-defer-work" target="_blank" rel="noopener">^2</a></p><h4 id="å†å²å°çŸ¥è¯†"><a href="#å†å²å°çŸ¥è¯†" class="headerlink" title="å†å²å°çŸ¥è¯†"></a>å†å²å°çŸ¥è¯†</h4><p>æœ€æ—©å®ç°<code>defer</code>çš„æ˜¯IE4ï¼Œç„¶è€Œåœ¨IE4-9ä¸­çš„å®ç°å¹¶æ²¡æœ‰æŒ‰ç…§WHATWGçš„æ ‡å‡†<a href="https://www.html5rocks.com/en/tutorials/speed/script-loading/" target="_blank" rel="noopener">^3</a>ï¼Œè¿™ä¸ªbugä½¿å¾—æ‰§è¡Œè„šæœ¬æ—¶çš„<strong>é¡ºåºæ— æ³•å¾—åˆ°ä¿è¯</strong>ã€‚</p><blockquote><p>deferred scripts should run after the document had parsed, in the order they were added. <a href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer" target="_blank" rel="noopener">^4</a></p></blockquote><blockquote><p>The defer attribute may be specified with the async attribute, so legacy browsers that only support defer (and not async) fall back to the defer behavior instead of the default blocking behavior <a href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer" target="_blank" rel="noopener">^4</a></p></blockquote><p><strong>!!!æ³¨æ„ï¼š</strong><br>ä¸ºäº†é¿å…åœ¨æ—§çš„IEæµè§ˆå™¨ä¸Šï¼Œè„šæœ¬çš„æ‰§è¡Œé¡ºåºä¸ç¬¦åˆé¢„æœŸï¼Œå› æ­¤å¤§å¤šæ•°æ—¶å€™è¿˜æ˜¯ä½¿ç”¨å°†è„šæœ¬æ”¾åœ¨<code>body</code>åº•éƒ¨çš„æ–¹å¼</p><h3 id="IMPORTANT"><a href="#IMPORTANT" class="headerlink" title="IMPORTANT"></a>IMPORTANT</h3><blockquote><p>The <code>defer</code> and <code>async</code> attributes <strong>must not</strong> be specified if the src attribute is <strong>absent</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement#" target="_blank" rel="noopener">^5</a></p></blockquote><h3 id="body-bottom"><a href="#body-bottom" class="headerlink" title="body bottom"></a>body bottom</h3><p>å°†<code>&lt;script&gt;</code>æ”¾åœ¨<code>body</code>åº•éƒ¨ï¼Œèƒ½å¤Ÿä¿è¯è„šæœ¬æŒ‰ç…§é¡ºåºåŠ è½½åŠæ‰§è¡Œï¼Œç¼ºç‚¹æ˜¯æ— æ³•èŠ‚çº¦åŠ è½½æ—¶é—´</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="https://stackoverflow.com/a/39711009/3821392" target="_blank" rel="noopener">https://stackoverflow.com/a/39711009/3821392</a><br>[2] <a href="https://stackoverflow.com/questions/5250412/how-exactly-does-script-defer-defer-work" target="_blank" rel="noopener">https://stackoverflow.com/questions/5250412/how-exactly-does-script-defer-defer-work</a><br>[3] <a href="https://www.html5rocks.com/en/tutorials/speed/script-loading/" target="_blank" rel="noopener">https://www.html5rocks.com/en/tutorials/speed/script-loading/</a><br>[4] <a href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer" target="_blank" rel="noopener">https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer</a><br>[5] <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement#" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement#</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;çš„ä¸‹è½½å’Œæ‰§è¡Œéƒ½ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Œå› æ­¤å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æŠŠ&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;æ”¾åœ¨&lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt;çš„åº•éƒ¨ï¼Œæ¸²æŸ“å®Œå‰é¢çš„htmlå†…å®¹ä¹‹åæ‰åŠ è½½å’Œæ‰§è¡ŒJSã€‚&lt;
      
    
    </summary>
    
      <category term="HTML" scheme="https://sabrinaluo.github.io/tech/categories/HTML/"/>
    
    
      <category term="html" scheme="https://sabrinaluo.github.io/tech/tags/html/"/>
    
      <category term="head" scheme="https://sabrinaluo.github.io/tech/tags/head/"/>
    
      <category term="script" scheme="https://sabrinaluo.github.io/tech/tags/script/"/>
    
      <category term="async" scheme="https://sabrinaluo.github.io/tech/tags/async/"/>
    
      <category term="defer" scheme="https://sabrinaluo.github.io/tech/tags/defer/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨fixupå’Œauto squashä¿®æ”¹git commit</title>
    <link href="https://sabrinaluo.github.io/tech/2018/05/21/fixup-and-auto-squash/"/>
    <id>https://sabrinaluo.github.io/tech/2018/05/21/fixup-and-auto-squash/</id>
    <published>2018-05-21T06:38:40.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å†™ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€äº›åˆšæäº¤äº†commitå°±å‘ç°æœ‰ä¸ªé”™åˆ«å­—è¿™ç§å°´å°¬çš„æƒ…å†µï¼Œæˆ‘ä»¥å‰çš„åšæ³•æ˜¯<code>git reset HEAD~1</code> å°†HEADæŒ‡å‘æäº¤ä¹‹å‰çš„ä¸€ä¸ªcommitç„¶åæ”¹å®Œå†é‡æ–°æäº¤â€ğŸ¤¦â€</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæ˜¯æœ€æ–°çš„commitä¸­çš„é”™è¯¯éœ€è¦ä¿®æ”¹ï¼Œå…¶å®è¿˜å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œä¹‹åä½¿ç”¨<code>git add FILE_TO_CHANGE git comit --amend</code>ï¼Œæ—¢å¯ä»¥ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹commit messageã€‚</p><p>ä½†è¿˜æœ‰ä¸€äº›æƒ…å†µæ˜¯ï¼Œå‘ç°ä¹‹å‰çš„æŸä¸ªcommitæœ‰é”™åˆ«å­—æˆ–bugï¼Œè¿™ç§æƒ…å†µå¾ˆå¤šåŒå­¦ï¼ˆåŒ…æ‹¬æˆ‘ğŸ˜‚ï¼‰ä¼šå¼€ä¸ªæ–°çš„æ™®é€šçš„commitå»fixï¼Œè€Œä¸æ˜¯<code>git commit --fixup COMMIT_HASH</code></p><h3 id="Conventional-Commit-1"><a href="#Conventional-Commit-1" class="headerlink" title="Conventional Commit ^1"></a>Conventional Commit <a href="https://conventionalcommits.org/" target="_blank" rel="noopener">^1</a></h3><p>ä½¿ç”¨ Conventional Commit çš„ repo å¯ä»¥ä½¿ç”¨ <a href="https://github.com/conventional-changelog/standard-version" target="_blank" rel="noopener">standard-version</a> è‡ªåŠ¨æ ¹æ®commit messageç”ŸæˆCHANGELOGï¼Œå¹¶ä¸”è‡ªåŠ¨bump versionã€‚å‰ææ˜¯commit messageéœ€è¦followç›¸å…³çš„ä¸€äº›è§„å®šï¼Œä¾‹å¦‚<code>fix: xxx</code>ï¼Œ <code>feat: xxx</code></p><p>åœ¨ä½¿ç”¨Conventional Commitçš„repoä¸­ç»å¸¸çœ‹åˆ° <code>!fixup fix:xxx</code>è¿™æ ·çš„commitï¼Œæ­¤ç±»commitä¼šè¢«å¿½ç•¥ï¼Œè€Œä¸ä¼šå½±å“ç”ŸæˆCHANGELOGã€‚</p><h3 id="fixup"><a href="#fixup" class="headerlink" title="--fixup"></a><code>--fixup</code></h3><p>ç„¶è€Œæˆ‘å¹¶ä¸çŸ¥é“æœ‰ä¸€ä¸ªcommandæ˜¯<code>--fixup</code>ï¼Œå†åŠ ä¸Šæˆ‘å¹³æ—¶éƒ½æ˜¯ç”¨source treeä¹‹ç±»çš„å›¾å½¢ç•Œé¢å·¥å…·ï¼Œæ‰€ä»¥æ¯æ¬¡éœ€è¦fixä¸€ä¸ªcommitçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‰‹å†™<code>!fixup xx</code>è¿™æ ·çš„messageï¼Œç„¶ååˆç”±äºå·æ‡’ï¼Œä¹Ÿä¸ç²˜è´´å¤åˆ¶fixupçš„æäº¤ä¿¡æ¯ï¼Œè€Œæ˜¯ç›´æ¥å†™ä¸€ä¸ªç›¸ä¼¼çš„çŸ­ä¸€ç‚¹çš„ä¿¡æ¯ğŸ¤¦â€ ï¼ˆä¼°è®¡è¿™æ ·åº”è¯¥ä¼šå¯¼è‡´æ— æ³•<code>autosquash</code>ï¼‰</p><h4 id="æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•åŠæµç¨‹-2"><a href="#æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•åŠæµç¨‹-2" class="headerlink" title="æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•åŠæµç¨‹^2"></a>æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•åŠæµç¨‹<a href="https://fle.github.io/git-tip-keep-your-branch-clean-with-fixup-and-autosquash.html" target="_blank" rel="noopener">^2</a></h4><ul><li><p><code>git commit --fixup fb2f677</code><br>å‡è®¾fixupå git log å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c5069d5 fixup! Feature A is done</span><br><span class="line">733e2ff Feature B is done</span><br><span class="line">fb2f677 Feature A is done</span><br><span class="line">ac5db87 Previous commit</span><br></pre></td></tr></table></figure></li><li><p><code>git rebase -i --autosquash ac5db87</code><br>éœ€è¦æ³¨æ„ï¼Œ<code>autosquash</code>åé¢çš„hashå¿…é¡»æ˜¯å°†è¦squashçš„commitçš„å‰ä¸€ä¸ª</p></li></ul><h3 id="patch"><a href="#patch" class="headerlink" title="patch"></a>patch</h3><p>å¯èƒ½ç°åœ¨çš„webå¼€å‘ä¸­å¾ˆå°‘ç”¨åˆ°patchäº†ï¼Œæˆ‘åæ­£ä¸€æ¬¡ä¹Ÿæ²¡ç”¨è¿‡ï¼Œä¹Ÿæ²¡å¬åˆ«äººè¯´ç”¨è¿‡ï¼Œå¯èƒ½åœ¨APPæˆ–è€…å®¢æˆ·ç«¯ä¸­æ¯”è¾ƒå¸¸ç”¨åˆ°å§ã€‚</p><p>è¿™ä¸ªåŠŸèƒ½çš„ä½œç”¨æ˜¯èƒ½å¤Ÿç”Ÿæˆä¸€ä¸ªè¡¥ä¸æ–‡ä»¶ï¼Œç”¨<code>git apply ./xx.patch</code> å¯ä»¥å°†è¡¥ä¸æ‰“åˆ°å½“å‰çš„repoä¸­ã€‚</p><p>åœ¨æ²¡æœ‰githubä¹‹å‰çš„æ—¶å€™ï¼Œå¯èƒ½äººä»¬æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ç©å¼€æºçš„å§â€¦å‘ç°åˆ«äººæœ‰bugï¼Œä¿®å¤ä¹‹åå¦‚æœç›´æ¥å‘æºæ–‡ä»¶å®åœ¨å¤ªå¤§å¤§éº»çƒ¦äº†ï¼Œäºæ˜¯æ‰“ä¸€ä¸ªè¡¥ä¸ç”¨emailå‘å‡ºå»ç»™ä½œè€…â€¦æ„Ÿè°¢gayhubçš„å‡ºç°ï¼Œè®©æˆ‘ä»¬è¿™äº›å°ç™½å‚ä¸å¼€æºç¤¾åŒºçš„é—¨æ§›é™ä½ä¹Ÿå¾ˆå¤šï¼Œæ“ä½œä¹Ÿæ–¹ä¾¿äº†å¾ˆå¤šï¼ŒçœŸæ˜¯ç§‘æŠ€æ”¹å˜ç”Ÿæ´» :)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨å†™ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€äº›åˆšæäº¤äº†commitå°±å‘ç°æœ‰ä¸ªé”™åˆ«å­—è¿™ç§å°´å°¬çš„æƒ…å†µï¼Œæˆ‘ä»¥å‰çš„åšæ³•æ˜¯&lt;code&gt;git reset HEAD~1&lt;/code&gt; å°†HEADæŒ‡å‘æäº¤ä¹‹å‰çš„ä¸€ä¸ªcommitç„¶åæ”¹å®Œå†é‡æ–°æäº¤â€ğŸ¤¦â€&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæ˜¯æœ€æ–°çš„commitä¸­
      
    
    </summary>
    
      <category term="GIT" scheme="https://sabrinaluo.github.io/tech/categories/GIT/"/>
    
    
      <category term="git" scheme="https://sabrinaluo.github.io/tech/tags/git/"/>
    
      <category term="fixup" scheme="https://sabrinaluo.github.io/tech/tags/fixup/"/>
    
      <category term="squash" scheme="https://sabrinaluo.github.io/tech/tags/squash/"/>
    
      <category term="conventional commit" scheme="https://sabrinaluo.github.io/tech/tags/conventional-commit/"/>
    
      <category term="patch" scheme="https://sabrinaluo.github.io/tech/tags/patch/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘æ—¶å¦‚ä½•ä½¿ç”¨æœ¬åœ°npmåŒ…ä½œä¸ºä¾èµ–</title>
    <link href="https://sabrinaluo.github.io/tech/2018/05/15/npm-local-pacakge-as-dependency/"/>
    <id>https://sabrinaluo.github.io/tech/2018/05/15/npm-local-pacakge-as-dependency/</id>
    <published>2018-05-15T07:01:19.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªé—®é¢˜æˆ‘å·²ç»é‡åˆ°ä¸¤æ¬¡äº†ã€‚</p><p>ç¬¬ä¸€æ¬¡æ˜¯æˆ‘å‘å¸ƒäº†<a href="https://github.com/MoePlayer/react-aplayer" target="_blank" rel="noopener">react-aplayer</a>ï¼ˆç¬¬ä¸€æ¬¡å‘å¸ƒnpmåŒ…ï¼Œå¥½ç´§å¼ ï¼‰,ç„¶åæœ‰äººæissueè¯´<code>npm install</code>åç”¨ä¸äº†ã€‚æˆ‘è‡ªå·±åœ¨æœ¬åœ°å¼€å‘demoçš„æ—¶å€™æ˜¯ç›´æ¥å¼•ç”¨<code>./src</code>ï¼Œæ²¡æœ‰è¯•è¿‡çœŸçš„å½“åšä¸€ä¸ªpackageæ¥ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ç”¨çš„æ—¶å€™æ˜¯æ²¡é—®é¢˜çš„ğŸ˜…</p><p>ç¬¬äºŒæ¬¡å°±æ˜¯æˆ‘ä»¬æœ‰ä¸€ä¸ªæŠŠæ‰€æœ‰APIåŒ…èµ·æ¥çš„packageï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ·»åŠ åˆ°è¿™ä¸ªpackageé‡Œæ¥åšï¼Œäºæ˜¯é™¤äº†è¦å†™ä¸»è¦çš„applicationè¿˜è¦ç»´æŠ¤è¿™ä¸ªpackageï¼Œéœ€è¦æµ‹è¯•è¿™ä¸ªpackageæ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚</p><p>æ ¹æ®Stackoverflow<a href="https://stackoverflow.com/questions/15806241/how-to-specify-local-modules-as-npm-package-dependencies" target="_blank" rel="noopener">^1</a>ï¼Œåœ¨æœ¬åœ°ä½¿ç”¨æœ¬åœ°packageä½œä¸ºdependencyæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥å®ç°ï¼Œæˆ‘ç»å¸¸ç”¨åˆ°çš„æ˜¯<code>npm link</code>ï¼Œæš‚æ—¶ä¹Ÿè¿˜æ²¡æœ‰é‡åˆ°ä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ã€‚</p><p>å®˜æ–¹çš„ä¾‹å­<a href="https://docs.npmjs.com/cli/link" target="_blank" rel="noopener">^2</a>å·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/projects/node-redis    <span class="comment"># go into the package directory </span></span><br><span class="line">npm link                    <span class="comment"># creates global link å…ˆåœ¨dependencyé‡Œåˆ›å»ºlink</span></span><br><span class="line"><span class="built_in">cd</span> ~/projects/node-bloggy   <span class="comment"># go into some other package directory.</span></span><br><span class="line">npm link redis              <span class="comment"># link-install the package ç„¶ååœ¨ä¸»é¡¹ç›®é‡Œå®‰è£…å·²è¿æ¥çš„dependency</span></span><br></pre></td></tr></table></figure></p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ä¸ªé—®é¢˜æˆ‘å·²ç»é‡åˆ°ä¸¤æ¬¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡æ˜¯æˆ‘å‘å¸ƒäº†&lt;a href=&quot;https://github.com/MoePlayer/react-aplayer&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;react-aplayer&lt;/a&gt;ï¼ˆç¬¬ä¸€æ¬¡å‘å¸ƒn
      
    
    </summary>
    
      <category term="NPM" scheme="https://sabrinaluo.github.io/tech/categories/NPM/"/>
    
    
      <category term="npm" scheme="https://sabrinaluo.github.io/tech/tags/npm/"/>
    
      <category term="local" scheme="https://sabrinaluo.github.io/tech/tags/local/"/>
    
      <category term="link" scheme="https://sabrinaluo.github.io/tech/tags/link/"/>
    
  </entry>
  
  <entry>
    <title>Object.is()</title>
    <link href="https://sabrinaluo.github.io/tech/2018/04/26/Object-is/"/>
    <id>https://sabrinaluo.github.io/tech/2018/04/26/Object-is/</id>
    <published>2018-04-26T04:25:15.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>å‰å‡ å¤©å†™æµ‹è¯•çš„æ—¶å€™ï¼Œæœ‰ä¸ªåœ°æ–¹éœ€è¦æ£€æŸ¥Objectçš„referenceæ˜¯å¦æ”¹å˜ï¼Œjestä¸­çš„<code>toEqual(value)</code>æ˜¯deep compareï¼Œä¸é€‚ç”¨äºreferenceï¼Œäºæ˜¯æŸ¥çœ‹äº†ä¸€ä¸‹åº”è¯¥ä½¿ç”¨<code>toBe(value)</code>ã€‚</p><blockquote><p><code>toBe</code> just checks that a value is what you expect. It uses <code>Object.is</code> to check exact equality.<a href="https://facebook.github.io/jest/docs/en/expect.html#tobevalue" target="_blank" rel="noopener">^1</a></p></blockquote><p>ä»¥å‰æ²¡è§è¿‡ä¹Ÿæ²¡ç”¨è¿‡<code>Object.is</code>ï¼ŒæŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ES6çš„æ–°è¯­æ³•<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is" target="_blank" rel="noopener">^2</a></p><h3 id="Object-is-val1-val2"><a href="#Object-is-val1-val2" class="headerlink" title="Object.is(val1, val2)"></a><code>Object.is(val1, val2)</code></h3><p><code>Object.is</code>æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œä¸<code>==</code>å’Œ<code>===</code>æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„</p><p>åœ¨ä½¿ç”¨<code>==</code>æ—¶ï¼Œå¦‚æœç­‰å·ä¸¤è¾¹ç±»å‹ä¸åŒï¼Œjsä¼šå…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œå†è¿›è¡Œå€¼çš„æ¯”è¾ƒã€‚<br>è€Œä½¿ç”¨<code>===</code>æ—¶ï¼Œåªè¦ç±»å‹ä¸åŒå°±ä¸ºfalse<br><code>Object.is</code>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç­‰åŒäº<code>===</code>ï¼Œä½†æœ‰ä¸¤ç§æƒ…å†µé™¤å¤–</p><ul><li><code>+0</code> / <code>-0</code> <ul><li><code>===</code> æ— æ³•åŒºåˆ† <code>+0</code>å’Œ<code>-0</code></li><li><code>Object.is(+0, -0)</code> è¿”å›<code>false</code> å¯ä»¥åŒºåˆ†</li></ul></li><li><code>NaN</code> <ul><li>æ— æ³•ç”¨<code>===</code>æ¥è¿›è¡Œæ£€æŸ¥ï¼Œéœ€è¦ä½¿ç”¨<code>isNaN()</code>æ–¹æ³•</li><li>ä½†ç°åœ¨ä¹Ÿå¯ä»¥ç”¨<code>Object.is(NaN, NaN)</code>æ¥æ£€æŸ¥</li></ul></li></ul><h3 id="Magic-JS"><a href="#Magic-JS" class="headerlink" title="Magic JS"></a>Magic JS</h3><p>åŸæ¥é™¤äº†<code>0.1+0.2=0.00000000000034</code>è¿™æ ·çš„ï¼Œè¿˜æœ‰å…¶ä»–æç¬‘çš„äº‹æƒ…å­˜åœ¨ï¼Œå¯èƒ½è¿™å°±æ˜¯thatâ€™s why I love jsï¼Ÿå†™çš„ä¸å¥½çš„æ—¶å€™å°±å¯ä»¥blameæ˜¯JSè¾£é¸¡çš„åŸå› ï¼Œå“ˆå“ˆ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>===<span class="number">1</span>; </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">+<span class="number">0</span>===<span class="number">-0</span>; </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="number">1</span>/+<span class="number">0</span>===<span class="number">1</span>/<span class="number">-0</span>;</span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h3 id="Infinity-4"><a href="#Infinity-4" class="headerlink" title="Infinity ^4"></a>Infinity <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity" target="_blank" rel="noopener">^4</a></h3><p><code>Infinity</code>æ˜¯æ¯”ä»»ä½•æ•°éƒ½å¤§çš„<strong>æ•°</strong>ï¼Œ åœ¨è¿ç®—ä¸Šä¸æ•°å­¦ä¸Šçš„Infä¸€æ ·<br>éœ€è¦æ³¨æ„ï¼š</p><ul><li><code>Infinity / Infinity</code> -&gt; <code>NaN</code></li><li><code>Number.POSITIVE_INFINITY</code></li><li><code>Number.NEGATIVE_INFINITY</code></li></ul><h3 id="Number-MAX-SAFE-INTEGER-5"><a href="#Number-MAX-SAFE-INTEGER-5" class="headerlink" title="Number.MAX_SAFE_INTEGER ^5"></a>Number.MAX_SAFE_INTEGER <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noopener">^5</a></h3><p>æœ¬æ¥åªæ˜¯æƒ³ç ”ç©¶ä¸€ä¸‹<code>Object.is</code>çš„ï¼Œæ²¡æƒ³åˆ°é¡ºå¸¦å°±åˆå¼•ç”³å‡ºäº†è¿™ä¹ˆå¤šå…¶ä»–çš„ä¸œè¥¿â€¦ä¸Šé¢æåˆ°<code>Infinity</code>ï¼Œå¾ˆå®¹æ˜“è”æƒ³åˆ°é‚£ä¹ˆJSä¸­æœ€å¤§çš„æ•°æ˜¯å¤šå¤§å‘¢<br>JSä¸­æœ‰<code>Number.MAX_SAFE_INTEGER</code>ï¼Œå…¶å€¼ä¸º<code>2^53 - 1</code>ï¼Œå¯¹åº”çš„æœ€å°æ•°<code>Number.MIN_SAFE_INTEGER</code>ï¼Œå…¶å€¼ä¸º<code>-(2^53 - 1)</code> åªæœ‰åœ¨è¿™ä¸ªèŒƒå›´å†…çš„æ•°æ‰èƒ½ä¿è¯ä¸€å®šæ˜¯æ­£ç¡®çš„ã€‚</p><p>è¶…å‡ºèŒƒå›´çš„æ•°å¯èƒ½ç”±äºç²¾åº¦ä¸¢å¤±è¿˜æ˜¯ä»€ä¹ˆåˆ«çš„åŸå› ï¼Œä¸ä¸€å®šæ­£ç¡®ï¼Œå…¸å‹çš„ä¾‹å­ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.MAX_SAFE_INTEGER + <span class="number">1</span> === <span class="built_in">Number</span>.MAX_SAFE_INTEGER + <span class="number">2</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ğŸ™„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰å‡ å¤©å†™æµ‹è¯•çš„æ—¶å€™ï¼Œæœ‰ä¸ªåœ°æ–¹éœ€è¦æ£€æŸ¥Objectçš„referenceæ˜¯å¦æ”¹å˜ï¼Œjestä¸­çš„&lt;code&gt;toEqual(value)&lt;/code&gt;æ˜¯deep compareï¼Œä¸é€‚ç”¨äºreferenceï¼Œäºæ˜¯æŸ¥çœ‹äº†ä¸€ä¸‹åº”è¯¥ä½¿ç”¨&lt;code&gt;toBe(value)&lt;/code&gt;ã€‚&lt;
      
    
    </summary>
    
      <category term="ES6" scheme="https://sabrinaluo.github.io/tech/categories/ES6/"/>
    
    
      <category term="ES6" scheme="https://sabrinaluo.github.io/tech/tags/ES6/"/>
    
      <category term="Objectï¼Œ Jest" scheme="https://sabrinaluo.github.io/tech/tags/Object%EF%BC%8C-Jest/"/>
    
      <category term="infinity" scheme="https://sabrinaluo.github.io/tech/tags/infinity/"/>
    
  </entry>
  
  <entry>
    <title>global .gitignore</title>
    <link href="https://sabrinaluo.github.io/tech/2018/03/27/global-gitignore/"/>
    <id>https://sabrinaluo.github.io/tech/2018/03/27/global-gitignore/</id>
    <published>2018-03-27T04:39:44.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€-gitignore"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€-gitignore" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€ .gitignore"></a>ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€ <code>.gitignore</code></h3><p>é€šå¸¸æ¥è¯´ï¼Œåœ¨repoä¸­æäº¤è·ŸIDEç›¸å…³çš„æ–‡ä»¶å¹¶éæœ€ä½³å®è·µï¼Œæ‰€ä»¥å¤§å¤šæ•°æ—¶å€™ä¼šåœ¨<code>.gitignore</code>ä¸­åŠ å…¥IDEç›¸å…³çš„æ–‡ä»¶patternï¼Œç„¶è€Œå¸‚é¢ä¸Šçš„IDEå¾ˆå¤šï¼Œä¸åŒç¨‹åºå‘˜å¯¹IDEä¹Ÿæœ‰ç€è‡ªå·±çš„åå¥½ï¼Œä¼¼ä¹ä¸å¤ªå¯èƒ½æŠŠå¸‚é¢ä¸Šæ‰€æœ‰çš„IDEéƒ½åˆ—å‡ºæ¥ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯èƒ½è¿˜æœ‰ä¸€äº›å…¶ä»–æƒ…å†µä¸‹ï¼Œå¸Œæœ›åœ¨æœ¬åœ°ignoreæŸäº›æ–‡ä»¶ï¼Œä½†å´ä¸å¸Œæœ›æäº¤åˆ°è¿œç¨‹çš„<code>.gitignore</code>ä¸­ã€‚</p><p>è¿™ç§æ—¶å€™å°±è¯¥Gitçš„ <strong>global ignore</strong> ä¸Šåœºå•¦ï¼</p><p>æ·»åŠ å…¨å±€<code>gitignore</code>ä¹‹åä¼šåœ¨æœ¬åœ°æ‰€æœ‰çš„repoä¸­éƒ½ignoreåœ¨å…¶ä¸­åˆ—å‡ºçš„æ–‡ä»¶ï¼Œä»¥è¾¾åˆ°æœ¬åœ°å¿½ç•¥ç‰¹å®šæ–‡ä»¶çš„æ•ˆæœï¼Œé€šå¸¸éƒ½æ˜¯IDEå•¦â€¦ä¾‹å¦‚ï¼Œæœ¬åœ°ignore ä¸ <code>.idea</code> ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä½†æˆ‘ä»¬å¹¶ä¸éœ€è¦ä¿®æ”¹repoä¸­çš„<code>.gitignore</code>æ–‡ä»¶ã€‚</p><h3 id="å¦‚ä½•è®¾ç½®å…¨å±€-gitignore"><a href="#å¦‚ä½•è®¾ç½®å…¨å±€-gitignore" class="headerlink" title="å¦‚ä½•è®¾ç½®å…¨å±€ .gitignore"></a>å¦‚ä½•è®¾ç½®å…¨å±€ <code>.gitignore</code></h3><p>é¦–å…ˆåœ¨æ ¹æ–‡ä»¶å¤¹<code>~</code>ä¸‹åˆ›å»ºä¸€ä¸ª<code>.gitignore_global</code>æ–‡ä»¶ï¼Œï¼ˆä¹Ÿå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶å¤¹åˆ›å»ºï¼Œä½†é€šå¸¸ä¹ æƒ¯äºæ ¹æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.excludesfile ~/.gitignore_global</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½¿ç”¨sourcetreeå°±æ›´ç®€å•äº†ï¼š<br><strong>menu &gt; sourcetree &gt; preference &gt; git</strong><br>å°†ä¼šçœ‹åˆ° <strong>global ignore list:</strong> å­—æ ·ï¼Œæ·»åŠ åˆšåˆšåˆ›å»ºçš„<code>.gitignore_global</code>æ–‡ä»¶å³å¯</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://help.github.com/articles/ignoring-files/" target="_blank" rel="noopener">https://help.github.com/articles/ignoring-files/</a><br><a href="https://stackoverflow.com/questions/30907829/sourcetree-adding-files-in-global-gitignore-not-in-repository-gitignore" target="_blank" rel="noopener">https://stackoverflow.com/questions/30907829/sourcetree-adding-files-in-global-gitignore-not-in-repository-gitignore</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€-gitignore&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€-gitignore&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€ .gitignore&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€ &lt;code&gt;.gitignore&lt;/code&gt;&lt;/h
      
    
    </summary>
    
      <category term="GIT" scheme="https://sabrinaluo.github.io/tech/categories/GIT/"/>
    
    
      <category term="git" scheme="https://sabrinaluo.github.io/tech/tags/git/"/>
    
      <category term="gitignore" scheme="https://sabrinaluo.github.io/tech/tags/gitignore/"/>
    
  </entry>
  
  <entry>
    <title>WebStormçš„ä¸€äº›å°æŠ€å·§</title>
    <link href="https://sabrinaluo.github.io/tech/2018/03/09/tips-for-webstorm/"/>
    <id>https://sabrinaluo.github.io/tech/2018/03/09/tips-for-webstorm/</id>
    <published>2018-03-09T04:06:02.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>ä»æˆ‘æœ€å¼€å§‹å­¦jsï¼Œå°±ä¸€ç›´ç”¨çš„æ˜¯webstormï¼Œå› ä¸ºå¾ˆç©·ï¼Œä¸€ç›´éƒ½æ˜¯ç”¨lanyuçš„ç›—ç‰ˆâ€¦â€¦æˆ‘ä¹Ÿå¾ˆæƒ³ä¹°æ­£ç‰ˆå•Šï¼Œä½†çœŸçš„æ˜¯å¤ªè´µäº†ã€‚å»å¹´å¹´åº•ç»ˆäºç”¨ä¸Šäº†æ­£ç‰ˆäº†ï¼ˆç”¨å­¦æ ¡çš„é‚®ç®±æ³¨å†Œçš„å­¦ç”Ÿç‰ˆï¼‰ğŸ¤¦â€â™€ï¸</p><p>å› ä¸ºæ¯”è¾ƒæ‡’ï¼Œä¸€ç›´ä¸æƒ³èƒŒå„ç§å¿«æ·é”®ï¼Œæ‰€ä»¥ä¸€ç›´å¿å—ç€IDEçš„èœ—ç‰›é€Ÿåº¦ï¼Œä¹Ÿæ²¡æœ‰æ¢sublime vscä»€ä¹ˆçš„ï¼Œç„¶è€Œæ¸æ¸å‘ç°ï¼Œæœ‰æ—¶å€™è®°ç‚¹å¸¸ç”¨çš„å¿«æ·é”®è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„â€¦(èƒ½è®©äººæ›´æ‡’â€¦)ï¼Œçœ‹æ¥æ‰€æœ‰çš„ç¨‹åºå‘˜åˆ°äº†ä¸€å®šé˜¶æ®µéƒ½éƒ½æ— æ³•é¿å…è¦æŠ˜è…¾IDEå•Šâ€¦</p><p>æ€»ç»“ä¸€ä¸‹webstormçš„ä¸€äº›ä½¿ç”¨å°æŠ€å·§ï¼Œé˜²æ­¢ä»¥ååˆå¿˜è®°äº†â€¦</p><h3 id="å¿«æ·é”®æŠ€å·§"><a href="#å¿«æ·é”®æŠ€å·§" class="headerlink" title="å¿«æ·é”®æŠ€å·§"></a>å¿«æ·é”®æŠ€å·§</h3><h4 id="search"><a href="#search" class="headerlink" title="search"></a>search</h4><p>å…¨å±€æœç´¢æ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€å…³é”®å­—â€¦å…¨éƒ¨ï¼š <kbd>shift</kbd> + <kbd>shift</kbd><br>å…¨å±€æœç´¢å…³é”®å­—ï¼š <kbd>cmd</kbd> + <kbd>shift</kbd> + <kbd>F</kbd><br>æŸ¥çœ‹å‡½æ•°ã€å˜é‡åœ¨å“ªé‡Œå®šä¹‰çš„ï¼š <kbd>cmd</kbd> + click æˆ–è€… <kbd>cmd</kbd> + <kbd>B</kbd><br>å½“å‰æ–‡ä»¶ä¸‹æŸ¥æ‰¾ï¼š  <kbd>cmd</kbd> + <kbd>F</kbd><br>å½“å‰æ–‡ä»¶ä¸‹æŸ¥æ‰¾å¹¶æ›¿æ¢ï¼š  <kbd>cmd</kbd> + <kbd>R</kbd></p><h4 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h4><p>å…³é—­å½“å‰æ ‡ç­¾ï¼š <kbd>cmd</kbd> + <kbd>w</kbd><br>é‡æ–°æ‰“å¼€åˆšæ‰å…³é—­çš„æ ‡ç­¾ï¼š è¿™ä¸ªæ²¡æœ‰é»˜è®¤çš„å¿«æ·é”®ï¼Œéœ€è¦åœ¨preferenceé‡Œé¢æœç´¢reopenåè®¾ç½®<br>æœ€è¿‘ä½¿ç”¨çš„æ–‡ä»¶åˆ—è¡¨ï¼š <kbd>cmd</kbd> + <kbd>E</kbd><br>æ”¶èµ·æ‰€æœ‰æ–‡ä»¶å¤¹ï¼š <kbd>cmd</kbd> + <kbd>-</kbd><br>æ‰“å¼€æ‰€æœ‰æ–‡ä»¶å¤¹ï¼š <kbd>*</kbd></p><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><p>è‡ªåŠ¨è¡¥å…¨ï¼š <kbd>tab</kbd><br>æ ¼å¼åŒ–ï¼š <kbd>cmd</kbd> + <kbd>alt</kbd> + <kbd>L</kbd></p><p>é€‰ä¸­æ›´å¤§çš„ä»£ç å—ï¼š<kbd>opt</kbd> + <kbd>â†‘</kbd>ï¼Œ <em>ä¾‹å¦‚æœ‰ä¸€ä¸ªswitchä»£ç å—ï¼Œå…‰æ ‡å®šä½åœ¨caseå¤„ï¼ŒæŒ‰ä¸‹å¿«æ·é”®é€‰ä¸­æ•´ä¸ªcaseå—ï¼ˆä¸€ä¸‹ä¸è¡Œå°±å¤šæŒ‰å‡ ä¸‹ï¼Œä¸å¤ªæ˜ç™½é€‰ä¸­çš„æœºåˆ¶ï¼‰ï¼Œå†æŒ‰ä¸€ä¸‹é€‰ä¸­switchä»£ç å—</em><br>æ”¾ç½®å¤šä¸ªå…‰æ ‡ï¼š <kbd>alt</kbd> + click<br>åœ¨å½“å‰è¡Œä¸‹æ·»åŠ ä¸€è¡Œï¼š <kbd>shift</kbd> + <kbd>enter</kbd>  è¿™æ ·ä¸éœ€è¦ç‰¹æ„å°†å…‰æ ‡æ”¾åœ¨è¡Œæœ«<br>åˆ é™¤è¡Œlineï¼š<kbd>cmd</kbd> + <kbd>back</kbd><br>å¤åˆ¶å¹¶ç²˜è´´è¡Œlineï¼š <kbd>cmd</kbd> + <kbd>D</kbd><br>å¤åˆ¶è¡Œï¼š <kbd>cmd</kbd> + <kbd>C</kbd><br>å‰ªåˆ‡è¡Œï¼š <kbd>cmd</kbd> + <kbd>X</kbd><br>ç§»åŠ¨è¡Œï¼š <kbd>alt</kbd> + <kbd>shift</kbd> + <kbd>â†‘ or â†“</kbd><br>ç¼“å­˜å»ç²˜è´´ï¼š <kbd>cmd</kbd> + <kbd>shift</kbd> + <kbd>V</kbd></p><p>æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šï¼š <kbd>cmd</kbd> + <kbd>/</kbd><br>å±•å¼€ä»£ç å—ï¼š <kbd>cmd</kbd> + <kbd>+</kbd><br>æŠ˜å ä»£ç å—ï¼š <kbd>cmd</kbd> + <kbd>-</kbd></p><p>è¿”å›ä¸Šæ¬¡ç¼–è¾‘çš„åœ°æ–¹ï¼š <kbd>cmd</kbd> + <kbd>shift</kbd> + <kbd>back</kbd></p><h4 id="é‡æ„"><a href="#é‡æ„" class="headerlink" title="é‡æ„"></a>é‡æ„</h4><p>å˜é‡åã€å‡½æ•°åé‡æ„ï¼š <kbd>shift</kbd> + <kbd>F6</kbd> æˆ–å³å‡»éœ€è¦é‡æ„çš„å˜é‡/å‡½æ•°ï¼Œé€‰æ‹©refactor - rename</p><p>ä»£ç æ ¡éªŒï¼š<kbd>F2</kbd> åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯çš„é‚£è¡Œ</p><h3 id="éå¿«æ·é”®å°æŠ€å·§"><a href="#éå¿«æ·é”®å°æŠ€å·§" class="headerlink" title="éå¿«æ·é”®å°æŠ€å·§"></a>éå¿«æ·é”®å°æŠ€å·§</h3><h4 id="VSC-ç‰ˆæœ¬æ§åˆ¶"><a href="#VSC-ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="VSC ç‰ˆæœ¬æ§åˆ¶"></a>VSC ç‰ˆæœ¬æ§åˆ¶</h4><p>å¼€å¯blame viewï¼š åœ¨è¡Œå·ä¸ä»£ç ä¹‹é—´çš„ç©ºç™½å¤„å³å‡»å¼¹å‡ºèœå•ä¸­é€‰<code>Annotate</code>å¯ä»¥æ‰“å¼€blame viewï¼ŒæŸ¥çœ‹å½“å‰ç‰ˆæœ¬éƒ½æ˜¯è°ä¿®æ”¹çš„å“ªä¸€è¡Œä»£ç <br>å…³é—­blame viewï¼š åœ¨ä¸ä¸Šé¢ç›¸åŒçš„ä½ç½®å³å‡»å¼¹å‡ºèœå•ä¸­é€‰<code>Close Annotations</code></p><h4 id="çª—å£"><a href="#çª—å£" class="headerlink" title="çª—å£"></a>çª—å£</h4><p>å¤šæ ‡ç­¾æ˜¾ç¤ºï¼š åœ¨æ ‡ç­¾å‡ºå³å‡»ï¼Œå¯é€‰<code>split vertically</code> æˆ– <code>split horizontally</code></p><p>TBCâ€¦</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="https://blog.jetbrains.com/webstorm/2015/06/10-webstorm-shortcuts-you-need-to-know/" target="_blank" rel="noopener">https://blog.jetbrains.com/webstorm/2015/06/10-webstorm-shortcuts-you-need-to-know/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»æˆ‘æœ€å¼€å§‹å­¦jsï¼Œå°±ä¸€ç›´ç”¨çš„æ˜¯webstormï¼Œå› ä¸ºå¾ˆç©·ï¼Œä¸€ç›´éƒ½æ˜¯ç”¨lanyuçš„ç›—ç‰ˆâ€¦â€¦æˆ‘ä¹Ÿå¾ˆæƒ³ä¹°æ­£ç‰ˆå•Šï¼Œä½†çœŸçš„æ˜¯å¤ªè´µäº†ã€‚å»å¹´å¹´åº•ç»ˆäºç”¨ä¸Šäº†æ­£ç‰ˆäº†ï¼ˆç”¨å­¦æ ¡çš„é‚®ç®±æ³¨å†Œçš„å­¦ç”Ÿç‰ˆï¼‰ğŸ¤¦â€â™€ï¸&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ¯”è¾ƒæ‡’ï¼Œä¸€ç›´ä¸æƒ³èƒŒå„ç§å¿«æ·é”®ï¼Œæ‰€ä»¥ä¸€ç›´å¿å—ç€IDEçš„èœ—ç‰›é€Ÿåº¦ï¼Œä¹Ÿæ²¡æœ‰æ¢
      
    
    </summary>
    
      <category term="IDE" scheme="https://sabrinaluo.github.io/tech/categories/IDE/"/>
    
    
      <category term="WebStorm" scheme="https://sabrinaluo.github.io/tech/tags/WebStorm/"/>
    
      <category term="IDE" scheme="https://sabrinaluo.github.io/tech/tags/IDE/"/>
    
      <category term="shortcut" scheme="https://sabrinaluo.github.io/tech/tags/shortcut/"/>
    
  </entry>
  
  <entry>
    <title>ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦åº”ç”¨åˆä½“éªŒ</title>
    <link href="https://sabrinaluo.github.io/tech/2018/01/16/first-experience-of-ethereum-dapp/"/>
    <id>https://sabrinaluo.github.io/tech/2018/01/16/first-experience-of-ethereum-dapp/</id>
    <published>2018-01-16T14:57:42.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘åˆšæ¥é¦™æ¸¯é‚£å¹´ï¼ˆ2012å¹´ï¼‰ä¸Šäº† Pf.Lau çš„ enterpreneur è¯¾çŸ¥é“äº†æ¯”ç‰¹å¸ï¼Œé‚£ä¸ªæ—¶å€™å¥½åƒæ‰CNY700å¤šå—é’±ä¸€æšï¼Œ13å¹´çš„ç‚’çš„æœ€ç«çš„æ—¶å€™å¤§æ¦‚æ¶¨åˆ°äº†6000ï¼Œå¦‚ä»Šäº”å¹´å¤šè¿‡å»ï¼Œæ¯”ç‰¹å¸æœ€é«˜å·²ç»åå‡ ä¸‡äººæ°‘å¸ä¸€æšäº†ï¼Œåæ­£æˆ‘æ˜¯æ²¡æŒ£åˆ°é’±:( ï¼Œ 14å¹´æ‰¾å·¥ä½œçš„æ—¶å€™è¿˜å·®ç‚¹å»äº†ä¸€å®¶æ¯”ç‰¹å¸å¹³å°å…¬å¸ï¼Œè¿™åº”è¯¥å°±æ˜¯æˆ‘è·ŸåŒºå—é“¾æœ€åˆçš„è‰¯ç¼˜äº†ã€‚</p><p>æœ€è¿‘åŠå¹´ä¹Ÿä¸çŸ¥é“ä¸ºå•¥åŒºå—é“¾ç‰¹åˆ«ç«ï¼Œåˆ°å¤„çš„äººä»¬éƒ½åœ¨è°ˆè®ºåŒºå—é“¾ï¼Œæ„Ÿè§‰æ³¡æ²«åˆå¿«å´©æºƒäº†ã€‚æˆ‘ä¸ªäººæ˜¯ä¸çœ‹å¥½æ¯”ç‰¹å¸çš„è´§å¸å±æ€§çš„ï¼Œä½†æ˜¯å¯¹äºåŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–ä»¥åŠæ™ºèƒ½åˆçº¦åº”ç”¨å´æ˜¯å¾ˆçœ‹å¥½çš„ã€‚è€Œä¸”ä»¥å¤ªåŠ(Ethereumï¼Œç¼©å†™ä¸ºETH)æœ€ç«çš„å¼€å‘å¹³å°(truffle)åˆæ˜¯æˆ‘æœ€å–œæ¬¢çš„jsï¼Œæ‰€ä»¥å°±çœ‹äº†çœ‹demoå­¦äº†ETHç•Œçš„hello world (pet shop)</p><p>æ€»çš„æ¥è¯´æ„Ÿè§‰é…ç½®ç¯å¢ƒè¿˜æ˜¯æœ‰ä¸€ç‚¹ç‚¹éº»çƒ¦ï¼Œéœ€è¦å®‰è£…nodejs, npm, truffle(å¼€å‘å¹³å°), ganache(æœ¬åœ°åŒºå—é“¾), MetaMask(chromeæ’ä»¶)</p><p>å®˜æ–¹ç»™çš„demoä¸é”™ï¼Œç¼ºç‚¹æ˜¯å¾ˆå¤šæ–‡ä»¶è§£é‡Šçš„ä¸å¤ªæ¸…æ¥šã€‚<br>å¤§æ¦‚æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>è§£å‹å®˜æ–¹demo <code>truffle unbox pet-shop</code></li><li>ç¼–å†™åˆçº¦Adoption.sol, ç¼–è¯‘(compoile)åˆçº¦ (ç›®å‰è¿˜ä¸çŸ¥é“ç¼–è¯‘æ˜¯å¹²ä»€ä¹ˆç”¨çš„)</li><li>è¿è¡Œæœ¬åœ°åŒºå—é“¾</li><li>ç¼–å†™è¿ç§»é…ç½®æ–‡ä»¶(<code>/migrates/*</code>)ï¼Œè¿ç§»(migrate)åº”ç”¨åˆ°æœ¬åœ°åŒºå—é“¾</li><li>æµ‹è¯•åˆçº¦</li><li>ç¼–å†™å‰ç«¯ (web3.js)</li><li>åº”ç”¨å®Œæˆï¼Œå¯äºç½‘é¡µä¸­æ”¶å…»å® ç‰©</li></ol><p>åˆçº¦éƒ¨åˆ†æ˜¯ç”¨<code>solidity</code>ï¼Œè¿™æ˜¯å¼€å‘ETHåº”ç”¨æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œæ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œéœ€è¦å£°æ˜å˜é‡çš„ç±»å‹ï¼Œå‡½æ•°å…¥å‚çš„ç±»å‹åŠè¿”å›å€¼çš„ç±»å‹ã€‚ç”¨åˆ†å·åˆ†éš”æ¯ä¸€å¥ä»£ç ã€‚</p><p>å®˜æ–¹çš„ä¾‹å­æ˜¯å‰åç«¯å…¨éƒ½åœ¨ä¸€ä¸ªé¡¹ç›®é‡Œï¼Œä¸çŸ¥é“æ˜¯å¦å¯ä»¥å‰åç«¯æ”¾åœ¨ä¸åŒçš„é¡¹ç›®é‡Œåˆ†å¼€å¼€å‘ï¼Œå‰ç«¯è´Ÿè´£ç•Œé¢ã€ä¸šåŠ¡é€»è¾‘ã€web3æ•´åˆï¼Œåç«¯è´Ÿè´£åˆçº¦çš„ç¼–å†™ã€‚ä¸çŸ¥é“è¿™æ ·æ˜¯å¦å¯è¡Œã€‚</p><p>â€”â€“ åˆ†å‰²çº¿ â€”â€”<br>åˆçœ‹äº†ä¸¤çœ¼ï¼Œæ„Ÿè§‰è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>ç¼–è¯‘çš„æ—¶å€™ç”Ÿæˆäº†<code>/build/</code>æ–‡ä»¶å¤¹ä¸‹çš„ä¸åˆçº¦ç›¸å…³çš„jsonæ–‡ä»¶</li><li>migrateçš„æ—¶å€™ææœ‰å¯èƒ½æ˜¯æŠŠå¯¹åº”çš„jsonæ”¾åˆ°åŒºå—é“¾ä¸Šå»</li><li>å‰ç«¯é€šè¿‡ <code>App.web3Provider = new Web3.providers.HttpProvider(&#39;http://localhost:7545&#39;);</code> æœåŠ¡å™¨è·å–åˆçº¦ç›¸å…³çš„å†…å®¹ï¼Œç”±web3å°†è·å–çš„å†…å®¹åŒ…è£…æˆä¸€ä¸ªå®ä¾‹</li><li>å‰ç«¯é€šè¿‡web3ç”Ÿæˆçš„å®ä¾‹è¿›è¡Œç›¸åº”æ“ä½œ</li></ul><p>å¦‚æœæ˜¯æŒ‰ç…§ä»¥ä¸Šçš„æµç¨‹æ¥èµ°çš„è¯ï¼Œå‰åç«¯å°±æ˜¯å®Œå…¨å¯ä»¥åˆ†å¼€å¼€å‘çš„äº†ã€‚åˆæ¥ä¹åˆ°ï¼Œå¦‚æœ‰çŒœçš„ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·å„ä½å¤§ä½¬å¤šå¤šæŒ‡æ•™ã€‚:)</p><p><strong>Reference:</strong><br><a href="http://truffleframework.com/tutorials/pet-shop" target="_blank" rel="noopener">http://truffleframework.com/tutorials/pet-shop</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æˆ‘åˆšæ¥é¦™æ¸¯é‚£å¹´ï¼ˆ2012å¹´ï¼‰ä¸Šäº† Pf.Lau çš„ enterpreneur è¯¾çŸ¥é“äº†æ¯”ç‰¹å¸ï¼Œé‚£ä¸ªæ—¶å€™å¥½åƒæ‰CNY700å¤šå—é’±ä¸€æšï¼Œ13å¹´çš„ç‚’çš„æœ€ç«çš„æ—¶å€™å¤§æ¦‚æ¶¨åˆ°äº†6000ï¼Œå¦‚ä»Šäº”å¹´å¤šè¿‡å»ï¼Œæ¯”ç‰¹å¸æœ€é«˜å·²ç»åå‡ ä¸‡äººæ°‘å¸ä¸€æšäº†ï¼Œåæ­£æˆ‘æ˜¯æ²¡æŒ£åˆ°é’±:( ï¼Œ 14å¹´æ‰¾å·¥ä½œçš„æ—¶å€™è¿˜å·®ç‚¹
      
    
    </summary>
    
      <category term="Blockchain" scheme="https://sabrinaluo.github.io/tech/categories/Blockchain/"/>
    
    
      <category term="Ethereum" scheme="https://sabrinaluo.github.io/tech/tags/Ethereum/"/>
    
      <category term="Smart Contract" scheme="https://sabrinaluo.github.io/tech/tags/Smart-Contract/"/>
    
      <category term="DApp" scheme="https://sabrinaluo.github.io/tech/tags/DApp/"/>
    
      <category term="Blockchain" scheme="https://sabrinaluo.github.io/tech/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>HTML DOM Element - image</title>
    <link href="https://sabrinaluo.github.io/tech/2018/01/12/image-element/"/>
    <id>https://sabrinaluo.github.io/tech/2018/01/12/image-element/</id>
    <published>2018-01-12T08:42:54.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>å¿˜äº†æ˜¯å»å¹´è¿˜æ˜¯å‰å¹´å†™äº†ä¸€ä¸ªurbtixæŠ¢æ¼”å”±ä¼šç¥¨çš„chromeå°æ’ä»¶ <a href="https://github.com/sabrinaluo/urbtix-helper" target="_blank" rel="noopener">https://github.com/sabrinaluo/urbtix-helper</a> ï¼ˆæ¯æ¬¡éƒ½è¿›ä¸å»ç½‘ç«™ï¼Œä¸€æ¬¡éƒ½æ²¡æŠ¢åˆ°ğŸ˜‚ï¼‰ï¼Œé€»è¾‘å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å½“ç”¨æˆ·è®¾ç½®äº†<code>event_id</code> <code>perfomence_id</code> <code>seat_type</code> <code>ticket_amount</code>ä¹‹åï¼Œå‡¡æ˜¯è‡ªåŠ¨ç‚¹å‡»çš„å°±ç”±ç¨‹åºè‡ªåŠ¨ç‚¹å‡»ï¼Œä»¥åŠ å¿«æ•´ä¸ªè´­ç¥¨è¿‡ç¨‹ã€‚</p><p>ä¸ºäº†è®©ç•Œé¢å’Œç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæ‰€ä»¥åœ¨ç•Œé¢åŠ äº†ä¸€ä¸ªå›¾ç‰‡ï¼Œæ¥å±•ç¤ºå¯¹åº”çš„æ¼”å”±ä¼šæµ·æŠ¥ï¼ˆæµ·æŠ¥æ˜¯é€šè¿‡urbtixçš„urlæ‰’æ¥çš„ï¼Œe.g. <a href="https://ticket.urbtix.hk/internet/p_image/cover/34505.jpg" target="_blank" rel="noopener">https://ticket.urbtix.hk/internet/p_image/cover/34505.jpg</a> ï¼‰ã€‚ä¸€ç›´ä»¥æ¥urbtixéƒ½æ˜¯ç”¨<code>.jpg</code>å›¾ç‰‡æ–‡ä»¶ï¼Œä»Šå¤©å¿½ç„¶å‘ç°ï¼Œä»–ä»¬å±…ç„¶æœ‰äº›å›¾ç‰‡æ˜¯<code>.jpeg</code>çš„ğŸ™„</p><p>äºæ˜¯é—®é¢˜å°±æ¥äº†ï¼Œå¦‚æœä¸çˆ¬å–urbtixçš„htmlæ˜¯æ— æ³•çŸ¥é“æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªä»£æ›¿çš„æ–¹æ¡ˆæ˜¯ï¼Œåœ¨<code>.jpg</code>ä¸‹è½½å¤±è´¥æ—¶å°è¯•ä½¿ç”¨<code>.jpeg</code>æ¥ä¸‹è½½ï¼Œè¿™å°±æ¶‰åŠåˆ°æ€ä¹ˆæ£€æµ‹å›¾ç‰‡æ˜¯å¦åŠ è½½æˆåŠŸâ€¦</p><p>æœäº†ä¸€ä¸‹googleï¼Œå‘ç°æ˜¯éå¸¸åŸºç¡€çš„çŸ¥è¯†ï¼Œè¿™ç§æ—¶å€™å°±è§‰å¾—è‡ªå·±åŸºç¡€å®åœ¨æ˜¯å¤ªå·®äº†â€¦â˜¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> image = <span class="keyword">new</span> Image();</span><br><span class="line"><span class="comment">// ç›¸å½“äº document.createElement('img')</span></span><br></pre></td></tr></table></figure><h3 id="image-onload"><a href="#image-onload" class="headerlink" title="image.onload"></a>image.onload</h3><p>å½“å›¾ç‰‡åŠ è½½å®Œæˆæ—¶ï¼Œè§¦å‘image.onload</p><h3 id="image-onerror"><a href="#image-onerror" class="headerlink" title="image.onerror"></a>image.onerror</h3><p>å½“å›¾ç‰‡åŠ è½½å‡ºç°é”™è¯¯æ—¶ï¼Œè§¦å‘image.onerror</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»§ç»­ä¸Šé¢çš„ä¾‹å­</span></span><br><span class="line">image.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'ok'</span>) &#125;;</span><br><span class="line">image.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'error'</span>) &#125;;</span><br><span class="line"></span><br><span class="line">image.src = <span class="string">'https://ticket.urbtix.hk/internet/p_image/cover/34505.jpg'</span>;</span><br><span class="line"><span class="comment">// â†’ 'error'</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šï¼Œå°±æ˜¯è¾£ä¹ˆç®€å•å•¦ã€‚</p><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/Image" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/Image</a><br><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/image" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/image</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¿˜äº†æ˜¯å»å¹´è¿˜æ˜¯å‰å¹´å†™äº†ä¸€ä¸ªurbtixæŠ¢æ¼”å”±ä¼šç¥¨çš„chromeå°æ’ä»¶ &lt;a href=&quot;https://github.com/sabrinaluo/urbtix-helper&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.co
      
    
    </summary>
    
      <category term="HTML" scheme="https://sabrinaluo.github.io/tech/categories/HTML/"/>
    
    
      <category term="HTML" scheme="https://sabrinaluo.github.io/tech/tags/HTML/"/>
    
      <category term="DOM" scheme="https://sabrinaluo.github.io/tech/tags/DOM/"/>
    
      <category term="image" scheme="https://sabrinaluo.github.io/tech/tags/image/"/>
    
  </entry>
  
  <entry>
    <title>ç¥å¥‡çš„toLocaleString, Intl.NumberFormat</title>
    <link href="https://sabrinaluo.github.io/tech/2018/01/05/the-magic-of-tolocalestring/"/>
    <id>https://sabrinaluo.github.io/tech/2018/01/05/the-magic-of-tolocalestring/</id>
    <published>2018-01-05T04:00:00.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€å¦‚ä¹‹å‰æåˆ°çš„ï¼Œç”±äºæˆ‘çš„å·¥ä½œä¸­ä¼šæ¥è§¦åˆ°å¾ˆå¤šinternationalizationçš„å†…å®¹ï¼Œå¯¹äºè´§å¸ã€æ•°å­—ç­‰çš„foatmattingéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚åœ¨æˆ‘çœ‹åˆ°è¿™æ¡é—®é¢˜<a href="https://stackoverflow.com/questions/8043026/javascript-format-number-to-have-2-digit" target="_blank" rel="noopener">^1</a>ä¹‹å‰ï¼Œå¹¶ä¸çŸ¥é“<code>toLocaleString</code>çš„ç”¨æ³•å’Œä½œç”¨ã€‚æˆ‘ä»¬è‡ªå·±çš„codebaseä¸­ï¼Œå…³äºå›½é™…åŒ–çš„éƒ¨åˆ†æ˜¯å†™äº†è‡ªå·±çš„serviceæ¥å®ç°ä¸åŒå›½å®¶çš„è´§å¸æ ¼å¼ï¼Œç»å¸¸éƒ½æœ‰å„ç§Bugï¼Œå¯ä»¥è¯´æ˜¯éå¸¸è¾£é¸¡äº†â€¦</p><p>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯éœ€è¦ç…§é¡¾IEæˆ–è€…éƒ¨åˆ†æ‰‹æœºæµè§ˆå™¨ï¼Œä»è€Œé™åˆ¶äº†<code>toLocaleString</code>çš„ä½¿ç”¨ï¼Œå…·ä½“åŸå› æ— æ³•è¿½æº¯â€¦</p><h3 id="å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦"><a href="#å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦"></a>å›ºå®šæ•´æ•°å­—ç¬¦ä¸²é•¿åº¦</h3><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾ç¤ºçš„æ•°å­—<strong>å€¼</strong>ä¸º1, 2, 3 â€¦ 10, 11 ..ã€‚ 100, 200ç­‰ç­‰ï¼Œä½†å¸Œæœ›æ˜¾ç¤ºçš„æ ¼å¼ä¸ºæ‰€æœ‰æ•°å­—éƒ½æ˜¯å›ºå®šçš„ä¸‰ä½æ•°ï¼Œ001, 002è¿™æ ·<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span>;</span><br><span class="line">number.toLocaleString(<span class="string">'en-US'</span>,&#123;<span class="attr">minimumIntegerDigits</span>:<span class="number">3</span>, <span class="attr">useGrouping</span>: <span class="literal">false</span>&#125;);</span><br><span class="line"><span class="comment">// output '001'</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœ<code>locale</code>ä¸º<code>undefined</code> (ä¸Šä¾‹ä¸­ä¸º<code>en-US</code>)ï¼Œåˆ™é»˜è®¤å€¼ä¸ºç³»ç»Ÿçš„localeï¼Œå³<code>navigator.language</code></p><p>ä¸ä½¿ç”¨<code>toLocaleString</code>çš„å®ç°æ–¹æ³•ï¼šæ€è·¯æ˜¯å°†å¸¦è½¬æ¢æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²åï¼Œåœ¨å‰é¢è¡¥è¶³å¤Ÿå¤šçš„é›¶ï¼Œç„¶åç”¨<code>slice</code>è·å–éœ€è¦çš„æœ€åè‹¥å¹²ä½æ•°ã€‚ï¼ˆæˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§å®ç°æ–¹æ³•çš„æ—¶å€™è§‰å¾—ï¼Œå“‡ï¼Œè¿˜æœ‰è¿™ç§éªšæ“ä½œï¼ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">12</span>;</span><br><span class="line">(<span class="string">'00'</span>+ number).slice(<span class="number">-3</span>);</span><br><span class="line"><span class="comment">// â†’ '012'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> number = <span class="number">1</span>;</span><br><span class="line">(<span class="string">'00'</span>+ number).slice(<span class="number">-3</span>);</span><br><span class="line"><span class="comment">// â†’ '001'</span></span><br></pre></td></tr></table></figure></p><h3 id="Intl-NumberFormat"><a href="#Intl-NumberFormat" class="headerlink" title="Intl.NumberFormat"></a>Intl.NumberFormat</h3><p>å½“éœ€è¦æ ¼å¼åŒ–çš„æ•°å­—è¾ƒå¤§æ—¶ï¼ˆå¤šé•¿ç®—å¤§å‘¢ï¼ŸğŸ¤”ï¼‰ï¼Œä¸ºäº†ä½¿æ€§èƒ½æ›´å¥½ï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ª<code>Intl.NumberFormat</code>å®ä¾‹ï¼Œä½¿ç”¨å…¶<code>format</code>æ–¹æ³•æ¥æ ¼å¼åŒ–ã€‚</p><blockquote><p>When formatting large numbers of numbers, it is better to create a NumberFormat object and use the function provided by its <code>NumberFormat.format</code> property. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString" target="_blank" rel="noopener">^2</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat" target="_blank" rel="noopener">^3</a></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">123456.789</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Intl</span>.NumberFormat(<span class="string">'en-US'</span>).format(number));</span><br><span class="line"><span class="comment">// â†’ 123,456.789</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€å¦‚ä¹‹å‰æåˆ°çš„ï¼Œç”±äºæˆ‘çš„å·¥ä½œä¸­ä¼šæ¥è§¦åˆ°å¾ˆå¤šinternationalizationçš„å†…å®¹ï¼Œå¯¹äºè´§å¸ã€æ•°å­—ç­‰çš„foatmattingéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚åœ¨æˆ‘çœ‹åˆ°è¿™æ¡é—®é¢˜&lt;a href=&quot;https://stackoverflow.com/questions/8043026/java
      
    
    </summary>
    
      <category term="JS" scheme="https://sabrinaluo.github.io/tech/categories/JS/"/>
    
    
      <category term="JS" scheme="https://sabrinaluo.github.io/tech/tags/JS/"/>
    
      <category term="internationalization" scheme="https://sabrinaluo.github.io/tech/tags/internationalization/"/>
    
      <category term="å›½é™…åŒ–" scheme="https://sabrinaluo.github.io/tech/tags/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>angularæŒ‡ä»¤ä»€ä¹ˆæƒ…å†µä¸‹åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ (root element)</title>
    <link href="https://sabrinaluo.github.io/tech/2017/12/05/angular-directive-only-one-root-element/"/>
    <id>https://sabrinaluo.github.io/tech/2017/12/05/angular-directive-only-one-root-element/</id>
    <published>2017-12-05T07:28:03.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…ä¹ˆæœ‰è®°å½•ä»€ä¹ˆæœ‰ç”¨çš„çŸ¥è¯†äº†ï¼Œæ€»æ˜¯çŒ´å­æ°ç‰ç±³ä¼¼çš„å­¦ç‚¹å¿˜ç‚¹:(</p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>åœ¨å†™è‡ªå®šä¹‰æŒ‡ä»¤(custom directive)çš„æ—¶å€™ï¼Œç»å¸¸é‡åˆ°ä¸‹é¢è¿™ä¸ªé”™è¯¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: [$compile:tplrt] Template for directive &apos;xxx&apos; must have exactly one root element.</span><br></pre></td></tr></table></figure></p><p>ä½†æœ‰æ—¶å€™åˆå‘ç°åˆ«äººå†™çš„æŒ‡ä»¤è¶…è¿‡ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œå´å¹¶æ²¡æœ‰æŠ¥é”™ï¼ŒçœŸæ˜¯éå¸¸çš„confusingğŸ¤”</p><h3 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h3><p>å®˜è®¿æ–‡æ¡£åœ¨directiveä¸€èŠ‚æ˜¯æ‰¾ä¸åˆ°ä»»ä½•å’Œreplaceæœ‰å…³çš„ä¸œè¥¿ï¼Œåæ¥æ˜¯åœ¨$compileä¸€èŠ‚æ‰¾åˆ°çš„ï¼Œç„¶è€Œåˆå·²ç»å¼ƒç”¨äº†â€¦â€¦(åˆè¦æ„Ÿå¹äº†ï¼Œå‰ç«¯åœˆçœŸç‰¹å–µéš¾æ··)</p><p>ä»¥ä¸‹ä¸ºæ–‡æ¡£è¯´æ˜</p><blockquote><p>replace (DEPRECATED)  </p><ul><li>replace will be removed in next major release - i.e. v2.0).  </li><li>Specifies what the template should replace. Defaults to false.  <ul><li>true - the template will replace the directiveâ€™s element.  </li><li>false - the template will replace the contents of the directiveâ€™s element.  </li></ul></li><li>The replacement process migrates all of the attributes / classes from the old element to the new one. See the Directives Guide for an example.</li></ul></blockquote><p>å¤§æ¦‚æ˜¯è¯´è¿™ä¸ªreplaceå±æ€§æ²¡ä»€ä¹ˆåµç”¨â€¦å®é™…ä½¿ç”¨çš„æ—¶å€™ä¹Ÿè§‰å¾—æ²¡ä»€ä¹ˆåœºæ™¯æ˜¯éè¦replaceä¸å¯çš„ï¼Œä¸è¿‡ä¸ºäº†é¿å…åœ¨jq selectoré‡Œä½¿ç”¨ä¸€å †è«åå…¶å¦™çš„domåç§°ï¼Œreplaceä¸€ä¸‹è®©Htmlçœ‹èµ·æ¥æ›´æ­£å¸¸ä¸€ç‚¹ï¼ˆå¯¹ï¼Œæˆ‘ä»¬å°±æ˜¯jQueryå’Œangularæ··ç”¨ï¼Œå°±æ˜¯è¿™ä¹ˆä»»ï¼æ€§ï¼ğŸ¤·â€ï¼‰</p><h3 id="æ„Ÿæ‚Ÿ"><a href="#æ„Ÿæ‚Ÿ" class="headerlink" title="æ„Ÿæ‚Ÿ"></a>æ„Ÿæ‚Ÿ</h3><p>åœ¨å†™ç»„ä»¶templateçš„æ—¶å€™ç”¨æ ¹å…ƒç´ æŠŠå…¶ä»–å…ƒç´ wrapèµ·æ¥ï¼Œå…¶å®ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ ¹å…ƒç´ ä¸Šå¯ä»¥æœ‰css classï¼Œåœ¨ä½¿ç”¨sassä¹‹ç±»çš„cssé¢„å¤„ç†å™¨æ—¶ï¼Œæœ‰æ ¹ç±»ä¼šä½¿å¾—ç»´æŠ¤æˆæœ¬å˜ä½</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå­˜åœ¨æœ‰å¤šä½™ä¸€ä¸ªæ ¹å…ƒç´ çš„ç»„ä»¶å‘¢ï¼Ÿ</p><p>æˆ‘ä¸ªäººçš„æ„Ÿè§‰æ˜¯ï¼Œç»„ä»¶åœ¨æœ€åˆè®¾è®¡æ—¶ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘åˆ°ä¹‹åçš„æ‰©å±•æ€§ï¼Œæ¯”å¦‚è¦å†™ä¸€ä¸ªdropdownç»„ä»¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯æŠŠselectå…ƒç´ ä½œä¸ºæ ¹å…ƒç´ ï¼Œäºæ˜¯æ¨¡æ¿æˆäº†è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select class=&quot;xxxx&quot;&gt;</span><br><span class="line">...</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure></p><p>ä¹‹åæ¥äº†ä¸ªéœ€æ±‚ï¼šå½“æ‰€é€‰çš„é€‰é¡¹æ˜¯æŸä¸€äº›ç‰¹å®šé€‰é¡¹æ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªerror messageã€‚è¿™ä¸€ä¸‹å°±æ¯”è¾ƒå°´å°¬äº†â€¦â€¦</p><p>error messageè¿™ä¸ª<code>div</code>åªèƒ½å’Œ<code>select</code>åŒä¸€ä¸ªlevelæ‰è¡Œï¼Œå› ä¸ºåŠ åœ¨<code>select</code>é‡Œæ˜¯è‚¯å®šä¸ä¼šæ˜¾ç¤ºçš„ã€‚è€Œä¸€æ—¦æ–°åŠ ä¸€ä¸ªwrapperæŠŠä¹‹å‰çš„æ¨¡æ¿åŒ…èµ·æ¥ï¼Œä¹‹å‰çš„csså¯èƒ½éƒ½è¦é‡å†™æ‰ä¼šçœ‹èµ·æ¥æ²¡æœ‰å˜åŒ–ã€‚æ­¤æ—¶å½±å“æœ€å°çš„åšæ³•å°±æ˜¯ç§»é™¤æŒ‡ä»¤ä¸­çš„<code>replace:true</code>å±æ€§ï¼Œç„¶ååŠ å¤šä¸€ä¸ªæ ¹å…ƒç´ äº†ğŸ˜‚</p><p>Angularæœ¬èº«compileçš„æœºåˆ¶æ˜¯ï¼Œå¦‚æœæ²¡æœ‰replace:trueï¼Œé»˜è®¤å°±æ˜¯falseï¼Œ<strong>ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª<code>&lt;directive-name&gt;</code>å…ƒç´ ä½œä¸ºæ ¹å…ƒç´ </strong>åŒ…è£¹ä½æ¨¡æ¿ä¸­çš„å…¨éƒ¨å†…å®¹ã€‚</p><p>ä»¥ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½ä¹…ä¹ˆæœ‰è®°å½•ä»€ä¹ˆæœ‰ç”¨çš„çŸ¥è¯†äº†ï¼Œæ€»æ˜¯çŒ´å­æ°ç‰ç±³ä¼¼çš„å­¦ç‚¹å¿˜ç‚¹:(&lt;/p&gt;
&lt;h3 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h3&gt;&lt;p&gt;åœ¨å†™è‡ªå®šä¹‰æŒ‡ä»¤(custom directive)çš„æ—¶å€™ï¼Œç»å¸¸é‡
      
    
    </summary>
    
      <category term="AngularJS" scheme="https://sabrinaluo.github.io/tech/categories/AngularJS/"/>
    
    
      <category term="angular" scheme="https://sabrinaluo.github.io/tech/tags/angular/"/>
    
      <category term="directive" scheme="https://sabrinaluo.github.io/tech/tags/directive/"/>
    
  </entry>
  
  <entry>
    <title>Angular directiveæŒ‡ä»¤ç›¸å…³çš„scopeé—®é¢˜(= @ &amp; ?)</title>
    <link href="https://sabrinaluo.github.io/tech/2017/09/01/angular-directive-scope/"/>
    <id>https://sabrinaluo.github.io/tech/2017/09/01/angular-directive-scope/</id>
    <published>2017-09-01T07:59:44.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope"><a href="#è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope" class="headerlink" title="è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope"></a>è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope</h3><p>æ¯æ¬¡è¯´åˆ°directive, isolated scopeæ€»æ˜¯è¦è¢«æèµ·çš„â€¦å®˜æ–¹çš„ä¾‹å­å·²ç»å¾ˆå¥½çš„è¯´æ˜äº†ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦isolated scopeã€‚å½“æ²¡æœ‰isolated scopeçš„æ—¶å€™ï¼Œdirectiveä¾èµ–äºcontrollerçš„scopeï¼Œè¿™æ ·æ¯æ¬¡ä½¿ç”¨directiveï¼Œéƒ½éœ€è¦åˆ›å»ºæ–°çš„controllerã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"NaomiController"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-customer</span>&gt;</span><span class="tag">&lt;/<span class="name">my-customer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"IgorController"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-customer</span>&gt;</span><span class="tag">&lt;/<span class="name">my-customer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">'docsScopeProblemExample'</span>, [])</span><br><span class="line">.controller(<span class="string">'NaomiController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.customer = &#123;</span><br><span class="line">    name: <span class="string">'Naomi'</span>,</span><br><span class="line">    address: <span class="string">'1600 Amphitheatre'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.controller(<span class="string">'IgorController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.customer = &#123;</span><br><span class="line">    name: <span class="string">'Igor'</span>,</span><br><span class="line">    address: <span class="string">'123 Somewhere'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.directive(<span class="string">'myCustomer'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>,</span><br><span class="line">    template: <span class="string">'&lt;div&gt;Name: &#123;&#123;customer.name&#125;&#125; Address: &#123;&#123;customer.address&#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Isolated scope å…¶å®å°±æ˜¯å½“ä½ åœ¨directiveé‡Œè¦returnçš„é‚£ä¸ªobjecté‡Œï¼Œå®šä¹‰ä¸€ä¸ªscopeå±æ€§ï¼Œè¿™ä¸ª<code>scope</code>ä¼šoverride controllerä¸­çš„<code>$scope</code>ï¼Œä»è€Œå®ç°isolatedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">'docsIsolateScopeDirective'</span>, [])</span><br><span class="line">.controller(<span class="string">'Controller'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  $scope.naomi = &#123; <span class="attr">name</span>: <span class="string">'Naomi'</span>, <span class="attr">address</span>: <span class="string">'1600 Amphitheatre'</span> &#125;;</span><br><span class="line">  $scope.igor = &#123; <span class="attr">name</span>: <span class="string">'Igor'</span>, <span class="attr">address</span>: <span class="string">'123 Somewhere'</span> &#125;;</span><br><span class="line">&#125;])</span><br><span class="line">.directive(<span class="string">'myCustomer'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>,</span><br><span class="line">    scope: &#123;</span><br><span class="line">      customerInfo: <span class="string">'='</span></span><br><span class="line">    &#125;,</span><br><span class="line">    templateUrl: <span class="string">'my-customer-iso.html'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="amp"><a href="#amp" class="headerlink" title="= &amp; @ ?"></a><code>=</code> <code>&amp;</code> <code>@</code> <code>?</code></h3><p>é€šå¸¸åœ¨å†™Angularçš„æ—¶å€™ç»å¸¸çœ‹åˆ°åˆ«äººçš„æŒ‡ä»¤scopeé‡Œä¼šæœ‰ä¸‹é¢ç€è¿™æ ·<code>=</code> <code>@</code> <code>&amp;</code>çš„ç¬¦å·ï¼Œæˆ‘è‡ªå·±å‘¢ï¼Œ90%çš„æ—¶å€™éƒ½æ˜¯ç”¨<code>=</code>ï¼Œä¹Ÿä¸çŸ¥é“å…¶ä»–ç¬¦å·åˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚ä»Šå¤©æ— å¿ƒå·¥ä½œï¼Œä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        scope: &#123;</span><br><span class="line">            optionOne: <span class="string">'='</span>,</span><br><span class="line">            optionTwo: <span class="string">'=?'</span>,</span><br><span class="line">            optionThree: <span class="string">'@'</span>,</span><br><span class="line">            optionFour: <span class="string">'&amp;'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="åŒå‘ç»‘å®š-two-way-binding"><a href="#åŒå‘ç»‘å®š-two-way-binding" class="headerlink" title="= åŒå‘ç»‘å®š(two way binding)"></a><code>=</code> åŒå‘ç»‘å®š(two way binding)</h4><p>è¿™ä¸ªå¥½ç†è§£ï¼Œçˆ¶å­ä¸¤ä¸ªscopeï¼Œä»»ä½•ä¸€ä¸ªæ”¹å˜ï¼Œå‰©ä¸‹çš„ä¸€ä¸ªä¹Ÿè·Ÿç€ä¸€èµ·æ”¹å˜</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¼ å…¥å‚æ•°æ—¶ï¼Œæ˜¯æ²¡æœ‰èŠ±æ‹¬å·çš„<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">options</span>=<span class="string">"options"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å•å‘ç»‘å®š-one-way-binding"><a href="#å•å‘ç»‘å®š-one-way-binding" class="headerlink" title="@ å•å‘ç»‘å®š(one way binding)"></a><code>@</code> å•å‘ç»‘å®š(one way binding)</h4><p>é¦–å…ˆï¼Œå•å‘ç»‘å®šä¼ å…¥çš„æ˜¯ä¸€ä¸ª<strong>å­—ï¼ç¬¦ï¼ä¸²ï¼</strong>ï¼›å…¶æ¬¡ï¼Œçˆ¶scopeæ”¹å˜å­scopeè·Ÿç€å˜ï¼Œä½†å­scopeæ”¹å˜æ—¶ï¼Œçˆ¶scopeä¸ä¼šæ”¹å˜ï¼</p><p>ç”±äºä¼ å…¥çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ˜¯éœ€è¦èŠ±æ‹¬å·çš„ï¼Œå¦‚ä¸‹ï¼Œå‡å¦‚çˆ¶scopeä¸­<code>name=&#39;Lucy&#39;</code>ï¼Œç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ”¶åˆ°çš„æ˜¯<code>&#39;name&#39;</code>è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªæŒ‡ä»¤æ¥å—çš„æ‰æ˜¯<code>&#39;Lucy&#39;</code>è¿™ä¸ªå­—ç¬¦ä¸²<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">name</span>=<span class="string">"&#123;&#123;name&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="amp-ç»‘å®šå‡½æ•°"><a href="#amp-ç»‘å®šå‡½æ•°" class="headerlink" title="&amp; ç»‘å®šå‡½æ•°"></a><code>&amp;</code> ç»‘å®šå‡½æ•°</h4><blockquote><p>The <code>&amp;</code> binding allows a directive to trigger evaluation of an expression in the context of the original scope</p></blockquote><p><code>&amp;</code>ç»‘å®šå…è®¸æŒ‡ä»¤è§¦å‘åŸå§‹scope(æŒ‡ä»¤æ‰€åœ¨çš„çˆ¶å…ƒç´ çš„scope)ä¸­çš„å‡½æ•°</p><blockquote><p>Best Practice: use <code>&amp;attr</code> in the <code>scope</code> option when you want your directive to expose an API for binding to behaviors.</p></blockquote><p>å¯ä»¥ç†è§£ä¸ºä¼ å…¥ä¸€ä¸ª<strong>å›è°ƒå‡½æ•°</strong>ç»™æŒ‡ä»¤ï¼ŒæŒ‡ä»¤è§¦å‘è¯¥å‡½æ•°ï¼Œä½†è¯¥å‡½æ•°å¹¶ä¸å®šä¹‰åœ¨æŒ‡ä»¤çš„scopeä¸­ã€‚å› ä¸ºå¦‚æœè¯¥å‡½æ•°å®šä¹‰åœ¨directiveçš„scopeä¸­ï¼Œåˆ™é€»è¾‘æ˜¯å›ºå®šçš„ï¼Œä»å¤–éƒ¨ä¼ å…¥çš„è¯ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„é€»è¾‘çš„å‡½æ•°ã€‚</p><p>æˆ‘çš„ä¸€äº›<strong>Anti-pattern</strong></p><ul><li>å…³äºå‡½æ•°ç»‘å®šè¿™ä¸ªäº‹ï¼Œæˆ‘é€šå¸¸ç›´æ¥ç”¨<code>=</code>ç»‘å®šå‡½æ•°ï¼Œä¹Ÿèƒ½ç”¨â€¦â€¦ä½†è¿™ä¸ªè‚¯å®šæœ‰ä»€ä¹ˆæ½œåœ¨çš„é—®é¢˜æˆ‘æ²¡å‘ç°ï¼›  </li><li>æˆ‘çš„å¦ä¸€ç§ç”¨æ³•æ˜¯ï¼Œä»ç„¶ç”¨<code>=</code>ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼ŒæŠŠå‡½æ•°æ”¾åœ¨å¯¹è±¡é‡Œï¼Œæ¯”å¦‚ç»‘å®šçš„æ˜¯<code>options</code>è¿™ä¸ªå¯¹è±¡ï¼Œä½†å¯¹è±¡ä¸­æœ‰<code>options.sayHi</code>è¿™ä¸ªå±æ€§ï¼ˆå…¶å®æ˜¯ä¸ªå‡½æ•°ï¼‰ã€‚</li></ul><p>æˆ‘èƒ½æƒ³åˆ°çš„æ½œåœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œä¼šå­˜åœ¨<code>undefined is not a function</code>ï¼Œä½†å¦‚æœæ£€æŸ¥ä¸€ä¸‹å±æ€§æ˜¯å¦å­˜åœ¨æ˜¯å¦ç±»å‹functionä¸å°±å¯ä»¥äº†ï¼Ÿï¼Ÿï¼Ÿæˆ‘çŸ¥é“å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œä½†åˆ°åº•ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼ŸğŸ¤”</p><p>â€”- æ›´æ–° â€”-<br>å¤§æ¦‚çŸ¥é“åŸå› äº†â€¦ä¸ç”¨<code>@</code>å¾ˆå¥½ç†è§£ï¼Œç”¨<code>@</code>ä¼ å…¥çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯å‡½æ•°ï¼›è€Œä¸ç”¨<code>=</code>å› ä¸ºåŒå‘ç»‘å®šå­˜åœ¨å­scopeæ”¹å˜çˆ¶scopeä¸­çš„å‡½æ•°çš„é£é™©ï¼Œå¹¶ä¸”ä¹Ÿä¼šæœ‰<code>$watch</code>çš„å¼€é”€ï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“æ€§èƒ½ã€‚<br><a href="https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link" target="_blank" rel="noopener">https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link</a></p><p><code>&amp;</code>ç»‘å®šåï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¿”å›çˆ¶scopeä¸­å¯¹åº”å‡½æ•°çš„å‡½æ•°ğŸ˜‚ï¼Œæœ‰ç‚¹æ‹—å£ã€‚ä¸¾ä¸ªæ —å­ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">callback</span>=<span class="string">"sayHi(a,b,c)"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>æŒ‡ä»¤ä¸­çš„<code>scope.callback</code>å€¼ä¸º<code>function(locals){ return parentGet(scope, locals);}</code></p><p>æ‰€ä»¥<code>scope.callback({a:1,b:2,c:3})</code>ç­‰ä»·äº<code>parentScope.sayHi(1,2,3)</code><br>éœ€è¦æ³¨æ„çš„æ˜¯:</p><ul><li><code>scope.callback({a:1,b:2,c:3})</code>çš„å…¥å‚æ˜¯ä¸€ä¸ª<code>object</code></li><li>å¦‚æœæ˜¯è¿™æ ·<code>scope.callback({a:1,b:2})</code>ï¼Œåˆ™<code>c</code>çš„å€¼ä¼šä¸<code>parentScope.c</code>ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<strong>å­scope</strong>ä¼ å…¥çš„<code>obj</code>ä¸­æ²¡æœ‰å®šä¹‰å¯¹åº”å‚æ•°ï¼Œå„å‚æ•°çš„é»˜è®¤å€¼ä¸<code>parentScope</code>ä¸­çš„å¯¹åº”å€¼ä¸€è‡´ã€‚å¦‚æœ<strong>çˆ¶å­scope</strong>ä¸­éƒ½æ²¡æœ‰å®šä¹‰ç›¸å…³å‚æ•°ï¼Œåˆ™ä¸º<code>undefined</code></li></ul><h4 id=""><a href="#" class="headerlink" title="?"></a><code>?</code></h4><p>é—®å·è¿™ä¸ªæŒºç®€å•çš„ï¼Œè·Ÿglobå•Šï¼Œæ­£åˆ™çš„é‡Œé¢çš„<code>?</code>æ„æ€ç›¸ä¼¼ï¼Œå°±æ˜¯è¯´è¯¥å±æ€§æ˜¯å¦æ˜¯å¿…éœ€é€‰é¡¹ï¼Œå½“æœ‰é—®å·çš„æ—¶å€™ï¼Œè¯´æ˜å¯¹åº”çš„å±æ€§å¯ä»¥çœç•¥ï¼Œè€Œä¸ä¼šæŠ¥é”™<code>NON_ASSIGNABLE_MODEL_EXPRESSION</code></p><h3 id="æ— å…³æ„Ÿè¨€"><a href="#æ— å…³æ„Ÿè¨€" class="headerlink" title="æ— å…³æ„Ÿè¨€"></a>æ— å…³æ„Ÿè¨€</h3><p>æˆ‘ç¬¬ä¸€æ¬¡çŸ¥é“AngularJSå¤§çº¦æ˜¯3å¹´å‰ï¼Œé™¤äº†å­¦æ ¡çš„ä¸€äº›é…±æ²¹å°é¡¹ç›®å¤–å®Œå…¨æ²¡æœ‰ä»»ä½•å¼€å‘ç»éªŒï¼Œå¯¹äºJSåªçŸ¥é“jQueryå´åˆè¦å»æ‰¾ä¸€ä»½ç¨‹åºå‘˜çš„å·¥ä½œã€‚é¢è¯•çš„æ—¶å€™äººå®¶é—®æˆ‘ï¼šä¼šAngularå—ï¼Ÿæˆ‘ï¼šï¼Ÿï¼Ÿï¼Ÿå½“ç„¶æ˜¯æ²¡æœ‰é¢ä¸Šï¼Œå›å»ä¹‹ååˆ°code schoolå­¦å®Œäº†å…¥é—¨è¯¾ç¨‹ï¼Œåœ¨å®˜ç½‘å­¦å®Œäº†é‚£ä¸ªå–æ‰‹æœºçš„demoã€‚å½“ç„¶ä¹‹åæˆ‘ä¹Ÿæ²¡æœ‰ç›´æ¥å»åšä¸€ä»½è·ŸAngularæœ‰å…³çš„å·¥ä½œã€‚</p><p>å¦‚ä»Šï¼Œåœ¨æˆ‘ç»ˆäºåšç€ä¸€ä»½Angular1.xçš„å·¥ä½œæ—¶ï¼ŒAngular5éƒ½å¿«å‘å¸ƒäº†ï¼Œï¼ˆå†æ¬¡æ„Ÿå¹ï¼Œå‰ç«¯åœˆçœŸéš¾æ··ï¼‰ï¼Œè€Œæˆ‘è¿TypeScriptä¹Ÿè¿˜æ²¡å­¦ä¼šï¼Œå…³äºAngularçš„å¾ˆå¤šåŸºæœ¬é—®é¢˜ä¹Ÿè¿˜æ˜¯äº‘é‡Œé›¾é‡Œâ€¦â€¦ä½†è¿™å¹¶ä¸å¦¨ç¢æˆ‘èƒ½å†™å‡ºèƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„åº”ç”¨ğŸ™„ï¼ŒåŸºç¡€å’Œå·¥ç¨‹ç»éªŒè¿™æ˜¯æ²¡ä»€ä¹ˆå¿…ç„¶å…³ç³»ï¼Œï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯æˆ‘å¤©èµ‹å¼‚ç¦€è€Œä¸è‡ªçŸ¥ğŸ¤£ï¼‰ã€‚å…¶å®æˆ‘ç°åœ¨æ˜¯å¾ˆä¸æƒ³å†™Angular1.xçš„ï¼Œæ€»è§‰å¾—æ˜¯éå¸¸outdatedçš„ä¸œè¥¿ï¼Œç„¶è€ŒğŸ¤·â€</p><p>å¦å¤–ï¼Œè¿™ç¯‡çœŸæ˜¯50%ä»¥ä¸Šéƒ½æ˜¯æŠ„è¢­å®˜ç½‘â€¦ä½†æ˜¯ä¸æŠ„æ ¹æœ¬è®°ä¸ä½â€¦</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>[1] <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="noopener">https://docs.angularjs.org/guide/directive</a><br>[2] <a href="https://blog.coding.net/blog/angularjs-directive-isolate-scope" target="_blank" rel="noopener">https://blog.coding.net/blog/angularjs-directive-isolate-scope</a><br>[3] <a href="https://stackoverflow.com/questions/14908133/what-is-the-difference-between-vs-and-in-angularjs" target="_blank" rel="noopener">https://stackoverflow.com/questions/14908133/what-is-the-difference-between-vs-and-in-angularjs</a><br>[4] <a href="https://stackoverflow.com/questions/20447786/whats-the-meaning-of-in-angularjs-directive-isolate-scope-declaration" target="_blank" rel="noopener">https://stackoverflow.com/questions/20447786/whats-the-meaning-of-in-angularjs-directive-isolate-scope-declaration</a><br>[5] <a href="https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link" target="_blank" rel="noopener">https://stackoverflow.com/questions/29857998/proper-way-to-pass-functions-to-directive-for-execution-in-link</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope&quot;&gt;&lt;a href=&quot;#è€ç”Ÿå¸¸è°ˆä¹‹-isolated-scope&quot; class=&quot;headerlink&quot; title=&quot;è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope&quot;&gt;&lt;/a&gt;è€ç”Ÿå¸¸è°ˆä¹‹ isolated scope&lt;/h3&gt;&lt;
      
    
    </summary>
    
      <category term="AngularJS" scheme="https://sabrinaluo.github.io/tech/categories/AngularJS/"/>
    
    
      <category term="angular" scheme="https://sabrinaluo.github.io/tech/tags/angular/"/>
    
      <category term="directive" scheme="https://sabrinaluo.github.io/tech/tags/directive/"/>
    
      <category term="scope" scheme="https://sabrinaluo.github.io/tech/tags/scope/"/>
    
      <category term="isolated scope" scheme="https://sabrinaluo.github.io/tech/tags/isolated-scope/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨webpackæ‰“åŒ…reactç»„ä»¶</title>
    <link href="https://sabrinaluo.github.io/tech/2017/08/14/react-component-with-webpack/"/>
    <id>https://sabrinaluo.github.io/tech/2017/08/14/react-component-with-webpack/</id>
    <published>2017-08-14T02:36:56.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åæ§½"><a href="#åæ§½" class="headerlink" title="åæ§½"></a>åæ§½</h3><p>å¥½å¤šäººéƒ½åæ§½Webpacké…ç½®å¤ªå¤æ‚äº†ï¼Œç„¶è€Œ1.xæˆ‘éƒ½è¿˜æ²¡å­¦ä¼šç°åœ¨éƒ½å·²ç»3.xäº†ï¼Œå‰æ®µåœˆçœŸçš„å¥½éš¾æ··å•Šï¼ŒçœŸæ˜¯å¿…é¡»æ´»åˆ°è€å­¦åˆ°è€å•Šâ€¦</p><p>å‰æ®µæ—¶é—´é—²å¾—æ— èŠçœ‹åˆ°ä¸ªæ’­æ”¾å™¨å«<a href="https://github.com/DIYgod/APlayer" target="_blank" rel="noopener">APlayer</a>ï¼Œå°±æƒ³ç€åŒ…èµ·æ¥åšä¸ªVueæˆ–è€…Reactèƒ½ç”¨çš„å§ï¼Œç»ƒç»ƒæ‰‹â€¦â€¦ç„¶åç”±äºæˆ‘çš„æ‹–å»¶ç—‡ï¼Œå†™äº†å¥½ä¹…ï¼Œå°±åœ¨æˆ‘å†™å®ŒVueç‰ˆæœ¬çš„ç¬¬äºŒå¤©ï¼Œè¿˜æ²¡pushï¼Œå°±å‘ç°MDå·²ç»æœ‰åˆ«äººæ¯”æˆ‘æ—©å‡ å¤©å†™å¥½äº†ï¼Œå¥½æ°”å“¦â€¦äºæ˜¯åªèƒ½é‡å¤´å¼€å§‹å†™Reactç‰ˆ</p><p>å› ä¸ºä»å¼€å§‹å°±æ˜¯ç”¨<code>create-react-app</code>çš„è„šæ‰‹æ¶ï¼Œæ‰€ä»¥ä¹Ÿæ²¡è€ƒè™‘npm requireæ—¶å€™ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œ<a href="http://sabrinaluo.com/react-aplayer/" target="_blank" rel="noopener">Demo</a>æ›´æ˜¯ç›´æ¥å†™åœ¨<code>src</code> æ–‡ä»¶å¤¹é‡Œï¼Œæˆ‘è‡ªå·±å¼•ç”¨çš„æ—¶å€™å½“ç„¶æ²¡æœ‰é—®é¢˜å•¦â€¦ä¸è¿‡<code>create-react-app</code>æ²¡æœ‰æä¾›ç›¸åº”çš„åŠŸèƒ½ä¹Ÿæœ‰åˆ«äººåæ§½è¿‡äº†<a href="https://github.com/facebookincubator/create-react-app/issues/1492" target="_blank" rel="noopener">^1</a></p><p>å‘å¸ƒäº†ä¹‹åæœ‰äººç»™æäº†ä¸ªIssueï¼Œè¯´å¼•ç”¨ä¹‹åç¼–è¯‘çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œæˆ‘ä¸€çœ‹æœç„¶â€¦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uncaught ReferenceError: React is not defined</span><br></pre></td></tr></table></figure></p><h3 id="æ­£ç»äº‹å„¿"><a href="#æ­£ç»äº‹å„¿" class="headerlink" title="æ­£ç»äº‹å„¿"></a>æ­£ç»äº‹å„¿</h3><p><code>/src</code>é‡Œçš„æ–‡ä»¶éƒ½æ˜¯<code>ES6</code>å’Œ<code>JSX</code>å½¢å¼ï¼Œç¬¬ä¸€ååº”æ˜¯æˆ‘çš„æ–‡ä»¶æ²¡æœ‰è¢«webpacké‡Œçš„<code>babel-loader</code>æˆåŠŸç¼–è¯‘ï¼ŒæŸ¥äº†ä¸€äº›èµ„æ–™ä¹‹åå‘ç°é—®é¢˜æ˜¯åœ¨<code>create-react-app</code>çš„webpacké…ç½®ä¸­ï¼Œåªä¼šç¼–è¯‘<code>./src</code>ä¸‹çš„æ–‡ä»¶ï¼Œè€Œå½“æˆ‘çš„åº“ä½œä¸ºç¬¬ä¸‰æ–¹ä¾èµ–å¼•å…¥æ—¶ï¼Œæ˜¯åœ¨<code>./node_modules</code>ä¸‹ï¼Œå› æ­¤æ²¡æœ‰è¢«ç¼–è¯‘ã€‚ï¼ˆä½¿ç”¨webpackç¼–è¯‘æ—¶é€šå¸¸éƒ½ä¼šå¿½ç•¥<code>./node_modules</code>ä¸‹çš„æ–‡ä»¶ï¼Œæ²¡ç†ç”±å»ç¼–è¯‘åˆ«äººçš„åŒ…å‘€ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ«äººå‘å¸ƒè¿™ä¸ªåŒ…çš„æ—¶å€™ï¼Œå°±åº”è¯¥æ˜¯ç¼–è¯‘å¥½çš„äº†ï¼Œç„¶è€Œå·æ‡’çš„æˆ‘æ²¡æœ‰ç¼–è¯‘å°±ç›´æ¥å‘å¸ƒäº†ï¼‰(âŠ™ï¹âŠ™)b</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./react-scripts/config/webpack.config.prod.js</span></span><br><span class="line"><span class="comment">// Process JS with Babel.</span></span><br><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">  include: paths.appSrc,</span><br><span class="line">  loader: <span class="built_in">require</span>.resolve(<span class="string">'babel-loader'</span>),</span><br><span class="line">  options: &#123;</span><br><span class="line">    <span class="comment">// @remove-on-eject-begin</span></span><br><span class="line">    babelrc: <span class="literal">false</span>,</span><br><span class="line">    presets: [<span class="built_in">require</span>.resolve(<span class="string">'babel-preset-react-app'</span>)],</span><br><span class="line">    <span class="comment">// @remove-on-eject-end</span></span><br><span class="line">    compact: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç¼–è¯‘æˆ‘çš„æ–‡ä»¶ï¼Œæˆ‘è¿˜è¦ä¸“é—¨å†™ä¸€ä¸ª<code>webpack.config.js</code>çœŸæ˜¯å¥½å¿ƒç´¯â€¦å†™çš„æ—¶å€™é‡åˆ°çš„é—®é¢˜æ›´å¿ƒç´¯</p><p>é¦–å…ˆå°±æ˜¯æœ€åŸºæœ¬çš„é…ç½®ï¼Œç›¸å…³çš„<code>loader</code>å’Œminify pluginï¼Œç¼–è¯‘ä¹‹åæ–‡ä»¶å¾ˆå¤§â€¦åŸæ¥æ˜¯æŠŠ<code>react</code>ä¹Ÿæ‰“åŒ…è¿›å»äº†ï¼Œå¦‚æœæ‰€æœ‰äººéƒ½è¿™ä¹ˆå†™ç»„ä»¶çš„è¯â€¦â€¦æœ€åçš„APPé‡Œæœ‰å‡ ä¸ªç»„ä»¶å°±ä¼šæœ‰å‡ ä»½é‡å¤çš„reactï¼Œè‚¯å®šæ˜¯ä¸å¯¹çš„ã€‚</p><p>ä¹‹åæœåˆ°ï¼Œè¦æ’é™¤æŸä¸ªåº“ï¼Œå¯ä»¥ç”¨<code>external</code>é€‰é¡¹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">externals: [&apos;react&apos;]</span><br></pre></td></tr></table></figure></p><p>ç„¶è€Œï¼ŒåŠ ä¸Šè¿™ä¸ªæ—¶å€™æˆ‘çš„å™©æ¢¦å°±æ¥å•¦ï¼Œæ°¸è¿œéƒ½æç¤º<code>React is undefined</code>ï¼Œè¯•äº†å„ç§å„æ ·çš„<code>external</code>å†™æ³•ï¼Œå¯¹è±¡ã€æ•°ç»„â€¦éƒ½ä¸ç®¡ç”¨ã€‚èŠ±äº†ä¸¤ä¸‰å¤©æ—¶é—´ï¼Œæ‰æœåˆ°ä¸€ä¸ªè¯´<code>libiaryTarget: &#39;umd&#39;</code>çš„<a href="https://github.com/zhengweikeng/blog/issues/10" target="_blank" rel="noopener">^2</a></p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>1: <a href="https://github.com/facebookincubator/create-react-app/issues/1492" target="_blank" rel="noopener">https://github.com/facebookincubator/create-react-app/issues/1492</a><br>2: <a href="https://github.com/zhengweikeng/blog/issues/10" target="_blank" rel="noopener">https://github.com/zhengweikeng/blog/issues/10</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åæ§½&quot;&gt;&lt;a href=&quot;#åæ§½&quot; class=&quot;headerlink&quot; title=&quot;åæ§½&quot;&gt;&lt;/a&gt;åæ§½&lt;/h3&gt;&lt;p&gt;å¥½å¤šäººéƒ½åæ§½Webpacké…ç½®å¤ªå¤æ‚äº†ï¼Œç„¶è€Œ1.xæˆ‘éƒ½è¿˜æ²¡å­¦ä¼šç°åœ¨éƒ½å·²ç»3.xäº†ï¼Œå‰æ®µåœˆçœŸçš„å¥½éš¾æ··å•Šï¼ŒçœŸæ˜¯å¿…é¡»æ´»åˆ°è€å­¦åˆ°è€å•Šâ€¦&lt;/p&gt;
&lt;p
      
    
    </summary>
    
      <category term="WEBPACK" scheme="https://sabrinaluo.github.io/tech/categories/WEBPACK/"/>
    
    
      <category term="webpack" scheme="https://sabrinaluo.github.io/tech/tags/webpack/"/>
    
      <category term="react" scheme="https://sabrinaluo.github.io/tech/tags/react/"/>
    
      <category term="react-component" scheme="https://sabrinaluo.github.io/tech/tags/react-component/"/>
    
  </entry>
  
  <entry>
    <title>å°¾é€—å·(Trailing Comma)çš„æ„ä¹‰</title>
    <link href="https://sabrinaluo.github.io/tech/2017/07/12/trailing-comma/"/>
    <id>https://sabrinaluo.github.io/tech/2017/07/12/trailing-comma/</id>
    <published>2017-07-12T03:01:13.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥å‰åœ¨ç½‘ä¸Šçœ‹åˆ«äººå†™çš„ä»£ç ï¼Œæœ‰æ—¶å€™ä¼šçœ‹åˆ°è¿™æ ·ï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ åé¢å¤šä¸€ä¸ªé€—å·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2,</span><br><span class="line">    3,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>ä½œä¸ºä¸€ä¸ªæ‡’ç™Œæ™šæœŸæ‚£è€…ï¼Œè§‰å¾—è¦å¤šåŠ ä¸€ä¸ªé€—å·ï¼ŒçœŸæ˜¯å¥½éº»çƒ¦ï¼é‚£æ˜¯naiveçš„æˆ‘ï¼Œå½“ç„¶è¿˜ä¸çŸ¥é“æœ‰ç‰ˆæœ¬æ§åˆ¶diffè¿™ç§é«˜çº§å·¥å…·ï¼Œè¿˜åœç•™åœ¨å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹çš„äººå·¥ç‰ˆæœ¬æ§åˆ¶ä½çº§é˜¶æ®µâ€¦</p><p>åæ¥çœ‹åˆ°å‡ å®¶å¤§å‚çš„ä»£ç è§„èŒƒ<a href="https://github.com/airbnb/javascript#functions--signature-invocation-indentation" target="_blank" rel="noopener">^1</a>, <a href="https://google.github.io/styleguide/jsguide.html#features-arrays-trailing-comma" target="_blank" rel="noopener">^2</a>ä¸­éƒ½æœ‰ç›¸åº”çš„è§„èŒƒã€‚Airbnbçš„JSä»£ç è§„èŒƒæ˜¯éå¸¸ç«çš„ï¼Œç„¶è€Œæœ€å¼€å§‹çš„æ—¶å€™æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„æ˜¯Googleçš„JSä»£ç è§„èŒƒï¼Œå°±å› ä¸ºAå®¶æœ‰æˆ‘ä¸å–œæ¬¢çš„trailing commaã€‚æ²¡æƒ³åˆ°ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒGå®¶ä¹Ÿé‡‡ç”¨äº†è¿™ä¸€æ¡â€¦è€Œæ°å¥½ä¹Ÿæ˜¯è¿™æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸ºä»€ä¹ˆæœ‰çš„äººè¦æŠŠä»£ç å†™çš„é‚£ä¹ˆä¸cleanï¼Ÿå¤šå¹´çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œæ‰€æœ‰è§„åˆ™ä¸€å®šéƒ½æ˜¯æœ‰åŸå› çš„ï¼</p><p>ä¼ å›¾å¥½éº»çƒ¦â€¦æˆ‘å°±æ–‡å­—æè¿°ä¸€ä¸‹å§ã€‚å‡¡æ˜¯ç”¨è¿‡gitçš„äººåº”è¯¥éƒ½çŸ¥é“æœ‰diff viewè¿™ç§ä¸œè¥¿ï¼Œç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„ä»£ç æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ²¡æœ‰å°¾é€—å·çš„æ—¶å€™ï¼Œå½“ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå°±éœ€è¦åœ¨æœ€åä¸€ä¸ªå…ƒç´ çš„<strong>1. æœ«å°¾åŠ ä¸Šä¸€ä¸ªé€—å·ï¼Œ2.æ¢è¡Œæ·»åŠ æ–°å†…å®¹</strong>ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºã€‚</p><p>Before<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>After<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var foo = [</span><br><span class="line">    1,</span><br><span class="line">    2,</span><br><span class="line">    3</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸€æ¥ï¼Œdiff viewä¸­å°±ä¼šæ˜¾ç¤ºä¿®æ”¹äº†<strong>ä¸¤è¡Œ</strong>ä»£ç ã€‚å¦‚æœä½¿ç”¨å°¾é€—å·ï¼Œåˆ™æ·»åŠ ä¸€ä¸ªå…ƒç´ åªéœ€è¦<strong>1.æ¢è¡Œæ·»åŠ æ–°å†…å®¹</strong>å³å¯ï¼Œdiff viewä¸­æ˜¾ç¤ºåªä¿®æ”¹ï¼ˆæ·»åŠ ï¼‰äº†ä¸€è¡Œä»£ç ã€‚</p><h3 id="ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ"><a href="#ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ" class="headerlink" title="ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ"></a>ä¸€ç‚¹äººç”Ÿæ„Ÿæ‚Ÿ</h3><p>è¿™ä¸ªä¸–ç•Œä¸Šï¼Œå‡¡äº‹éƒ½æ˜¯trade offï¼Œç®—æ³•å¤æ‚åº¦é‡Œè¦ä¹ˆæ—¶é—´æ¢ç©ºé—´è¦ä¹ˆç©ºé—´æ¢æ—¶é—´ã€‚<br>å°¾é€—å·ä¹Ÿä¸€æ ·ï¼Œæƒ³è¦diff view cleanï¼Œä»£ç å°±ä¸é‚£ä¹ˆcleanï¼›æƒ³è¦ä»£ç cleanï¼Œdiff viewå°±ä¸é‚£ä¹ˆcleanã€‚<br>æ‰€ä»¥ææ¸…æ¥šè‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œåˆæœ‰ä»€ä¹ˆå¯ä»¥å»trade offï¼Œå°±å¾ˆé‡è¦äº†ã€‚</p><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>[1] <a href="https://medium.com/@nikgraf/why-you-should-enforce-dangling-commas-for-multiline-statements-d034c98e36f8" target="_blank" rel="noopener">https://medium.com/@nikgraf/why-you-should-enforce-dangling-commas-for-multiline-statements-d034c98e36f8</a><br>[2] <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»¥å‰åœ¨ç½‘ä¸Šçœ‹åˆ«äººå†™çš„ä»£ç ï¼Œæœ‰æ—¶å€™ä¼šçœ‹åˆ°è¿™æ ·ï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ åé¢å¤šä¸€ä¸ªé€—å·ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;
      
    
    </summary>
    
      <category term="CODE STYLE" scheme="https://sabrinaluo.github.io/tech/categories/CODE-STYLE/"/>
    
    
      <category term="ç‰ˆæœ¬æ§åˆ¶" scheme="https://sabrinaluo.github.io/tech/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    
      <category term="trailing comma" scheme="https://sabrinaluo.github.io/tech/tags/trailing-comma/"/>
    
      <category term="comma-dangle" scheme="https://sabrinaluo.github.io/tech/tags/comma-dangle/"/>
    
      <category term="å°¾é€—å·" scheme="https://sabrinaluo.github.io/tech/tags/%E5%B0%BE%E9%80%97%E5%8F%B7/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºæœ¬åœ°åŒ–çš„ä¸€äº›æŠ€å·§</title>
    <link href="https://sabrinaluo.github.io/tech/2017/05/26/interpolation-and-pluralization/"/>
    <id>https://sabrinaluo.github.io/tech/2017/05/26/interpolation-and-pluralization/</id>
    <published>2017-05-26T09:59:03.000Z</published>
    <updated>2018-11-30T10:43:28.955Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¦™æ¸¯å·¥ä½œæ€»æ˜¯èƒ½æ¥è§¦åˆ°å„ç§â€œæœ¬åœ°åŒ–â€çš„éœ€æ±‚ï¼Œå¤§å¤šæ•°ç½‘ç«™è‡³å°‘éƒ½ä¼šæœ‰ä¸­è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæœ‰çš„è¿˜ä¼šåˆ†ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ã€‚è€Œåœ¨å®ç°æœ¬åœ°åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºè‹±æ–‡ä¸ä¸­æ–‡çš„æ–‡æ³•ã€è¯­åºç­‰å·®å¼‚ï¼Œä¼šæœ‰å¾ˆå¤šæƒ…å†µéœ€è¦å¤„ç†ã€‚</p><h3 id="i18n-amp-i10n"><a href="#i18n-amp-i10n" class="headerlink" title="i18n &amp; i10n"></a>i18n &amp; i10n</h3><p>ä¸€ç›´ä»¥æ¥æˆ‘éƒ½æ··æ·†ä½¿ç”¨è¿™ä¸¤ä¸ªtermï¼Œå…¶ä¸­i18næ˜¯å›½é™…åŒ–ï¼Œä¸»è¦ç”¨äºä¸–ç•Œé€šç”¨å†…å®¹çš„ç¿»è¯‘ï¼Œ<strong>ä½¿äº§å“æ— éœ€åšå¤§çš„æ”¹å˜å°±èƒ½å¤Ÿé€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºçš„éœ€è¦</strong>ï¼ŒåŒ…æ‹¬æ—¶é—´ã€æ—¥æœŸã€è´§å¸ç­‰ï¼›è€Œi10næ˜¯æœ¬åœ°åŒ–ï¼Œä¹Ÿå°±æ˜¯æŠŠç½‘ç«™é‡Œå…¶ä»–å†…å®¹è¿›è¡Œç¿»è¯‘ã€‚</p><h3 id="content-key"><a href="#content-key" class="headerlink" title="content key"></a>content key</h3><p>å°†éœ€è¦ç¿»è¯‘çš„ä½ç½®ç”¨<strong>Content Key</strong>å ä½ï¼Œåœ¨å•ç‹¬çš„æ–‡ä»¶é‡Œæ¥å¤„ç†å¯¹åº”çš„ç¿»è¯‘å·²ç»æˆä¸ºäº†æœ¬åœ°åŒ–çš„æœ€åŸºæœ¬ç­–ç•¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œ1. ä¿æŒä»£ç çš„æ•´æ´ï¼Œæ— éœ€å› ä¸ºç¿»è¯‘é—®é¢˜ä¸æ–­æäº¤commitï¼Œé¿å…æ±¡æŸ“git historyï¼›2. æ–¹ä¾¿ä¸æ‡‚ä»£ç çš„è¿è¥äººå‘˜éšæ—¶è°ƒæ•´ç¿»è¯‘å†…å®¹ï¼Œè€Œæ— éœ€å¢åŠ å¼€å‘è´Ÿæ‹…ã€‚</p><h3 id="å•å¤æ•°-pluralization"><a href="#å•å¤æ•°-pluralization" class="headerlink" title="å•å¤æ•° pluralization"></a>å•å¤æ•° pluralization</h3><p>ä¸¾ä¸ªæ —å­ï¼Œå¦‚æœéœ€è¦ç¿»è¯‘â€œxä¸ªè‹¹æœâ€ï¼Œå¯¹åº”çš„è‹±æ–‡ä¼šæœ‰å•å¤æ•°å½¢å¼ï¼Œé‡åˆ°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œå¦‚æœç¼ºä¹ç»éªŒï¼Œé€šå¸¸æ˜¯å†™<code>if</code> <code>else</code>ï¼Œ ç„¶åç”¨ä¸¤ä¸ªä¸åŒçš„keyï¼š</p><table><thead><tr><th>key</th><th>zh</th><th>en</th></tr></thead><tbody><tr><td>webstie.key.apple</td><td>ä¸ªè‹¹æœ</td><td>apple</td></tr><tr><td>webstie.key.apples</td><td>ä¸ªè‹¹æœ</td><td>apples</td></tr></tbody></table><p>ä½†æ˜¯templateé‡Œå†™å¤ªå¤šçš„if else å®¹æ˜“ä½¿å¾—é€»è¾‘æ··ä¹±ï¼Œä¹Ÿä¸åˆ©äºç»´æŠ¤ï¼Œæœºæ™ºçš„æˆ‘ä»Šå¤©å¿½ç„¶å‘ç°angularå…¶å®æœ‰ä¸€ä¸ªä¸“é—¨çš„æŒ‡ä»¤æ¥åšè¿™ä¸ªäº‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ng-pluralize count=&quot;personCount&quot;</span><br><span class="line">                 when=&quot;&#123;&apos;0&apos;: &apos;Nobody is viewing.&apos;,</span><br><span class="line">                     &apos;one&apos;: &apos;1 person is viewing.&apos;,</span><br><span class="line">                     &apos;other&apos;: &apos;&#123;&#125; people are viewing.&apos;&#125;&quot;&gt;</span><br><span class="line">&lt;/ng-pluralize&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæŒ‡ä»¤çš„æœ¬è´¨å…¶å®è·Ÿif elseç±»ä¼¼ï¼Œä½¿ç”¨äº†ä¸€ä¸ªhash mapæ¥å‚¨å­˜å¯¹åº”çš„ç¿»è¯‘ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼ŒæŠŠwhençš„å€¼å†™åˆ°controlleré‡Œï¼Œè¿™æ ·ä¼šæ¯”è¾ƒç¾è§‚ XD</p><h3 id="æ’å€¼-interpolation"><a href="#æ’å€¼-interpolation" class="headerlink" title="æ’å€¼ interpolation"></a>æ’å€¼ interpolation</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¸å¾—ä¸æŠŠä¸€æ•´å¥è¯æ‰“æ–­æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚â€œstep 1 of 5 â€ï¼Œè€Œå¯¹åº”çš„ä¸­æ–‡å¦‚æœè¦æ±‚ç¿»è¯‘æˆâ€œç¬¬1æ­¥ï¼ˆå…±5æ­¥ï¼‰â€ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨æ–­å¥çš„æ–¹æ³•æ¥ç¿»è¯‘ï¼Œä¸­æ–‡éœ€è¦æœ‰3ä¸ªkeyï¼Œåˆ†åˆ«å¯¹åº”</p><table><thead><tr><th>lang</th><th>part1</th><th>part2</th><th>part3</th></tr></thead><tbody><tr><td>en</td><td>step</td><td>of</td><td></td></tr><tr><td>zh</td><td>ç¬¬</td><td>æ­¥ï¼ˆå…±</td><td>æ­¥ï¼‰</td></tr></tbody></table><p>è¿™æ ·åšï¼Œä¸ä»…ä¸ç¾è§‚ï¼Œå†™èµ·æ¥<code>string + string + string</code>ä¹Ÿéå¸¸éº»çƒ¦ï¼ŒåŒæ—¶ä»£ç åŠç¿»è¯‘æ–‡ä»¶éƒ½å¢åŠ äº†ç»´æŠ¤çš„éš¾åº¦ã€‚</p><p>å¤§å®¶åº”è¯¥éƒ½æœ‰ç»éªŒï¼Œåœ¨<code>console.log</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>%s</code>ä½œä¸ºå ä½ç¬¦ï¼Œå¦‚æœèƒ½å¤Ÿä½¿ç”¨å ä½ç¬¦æ¥è¿›è¡Œç¿»è¯‘ï¼Œä»¥ä¸Šæƒ…å†µå°±ä¼šç®€å•å¾ˆå¤šã€‚</p><p>AngularåŸç”Ÿçš„<code>$interpolate</code>æœåŠ¡ï¼Œç”¨äºç¼–è¯‘å«æœ‰ç‰¹å®šæ ‡è®°çš„å­—ç¬¦ä¸²ï¼Œ<code>Hello, {{name}}</code></p><blockquote><p>Compiles a string with markup into an interpolation function</p></blockquote><p>ç¿»è¯‘æ—¶ï¼Œå¤§å¤šæ—¶å€™æ—¶å€™éƒ½æ˜¯ç”¨<code>angular-translate</code>ï¼Œè¿™ä¸ªç¬¬ä¸‰æ–¹çš„æœåŠ¡èƒ½å¾ˆå¥½çš„å¤„ç†æ’å€¼ï¼Œä½¿ç”¨çš„æ ‡è®°æ˜¯ä¸¤ä¸ªèŠ±æ‹¬å·<code>{{}}</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//åŸºæœ¬ç”¨æ³•</span><br><span class="line">$translate(translationId[, interpolateParams], interpolationId, defaultTranslationText, forceLanguage);</span><br><span class="line"></span><br><span class="line">//ä¾‹å­</span><br><span class="line">$scope.stepInfoText = $filter(&apos;translate&apos;)(&apos;widget-progress-bar.step.text&apos;, &#123;currentStep:1, totalStep: 5&#125;);</span><br><span class="line"></span><br><span class="line">//ç¿»è¯‘æ–‡ä»¶ *.properties</span><br><span class="line">widget-progress-bar.step.text=step &#123;&#123;currentStep&#125;&#125; of &#123;&#123;totalStep&#125;&#125;</span><br><span class="line">//output: step 1 of 5</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>1: <a href="https://docs.angularjs.org/guide/i18n" target="_blank" rel="noopener">https://docs.angularjs.org/guide/i18n</a><br>2: <a href="https://docs.angularjs.org/api/ng/directive/ngPluralize" target="_blank" rel="noopener">https://docs.angularjs.org/api/ng/directive/ngPluralize</a><br>3: <a href="https://stackoverflow.com/questions/27259723/angularjs-pluralization-with-angular-translate-and-ng-pluralize" target="_blank" rel="noopener">https://stackoverflow.com/questions/27259723/angularjs-pluralization-with-angular-translate-and-ng-pluralize</a><br>4: <a href="https://docs.angularjs.org/api/ng/service/$interpolate" target="_blank" rel="noopener">https://docs.angularjs.org/api/ng/service/$interpolate</a><br>5: <a href="https://angular-translate.github.io/docs/#/api/pascalprecht.translate.$translate" target="_blank" rel="noopener">https://angular-translate.github.io/docs/#/api/pascalprecht.translate.$translate</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨é¦™æ¸¯å·¥ä½œæ€»æ˜¯èƒ½æ¥è§¦åˆ°å„ç§â€œæœ¬åœ°åŒ–â€çš„éœ€æ±‚ï¼Œå¤§å¤šæ•°ç½‘ç«™è‡³å°‘éƒ½ä¼šæœ‰ä¸­è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæœ‰çš„è¿˜ä¼šåˆ†ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ã€‚è€Œåœ¨å®ç°æœ¬åœ°åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºè‹±æ–‡ä¸ä¸­æ–‡çš„æ–‡æ³•ã€è¯­åºç­‰å·®å¼‚ï¼Œä¼šæœ‰å¾ˆå¤šæƒ…å†µéœ€è¦å¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;i18n-amp-i10n&quot;&gt;&lt;a href=&quot;#i18n
      
    
    </summary>
    
      <category term="AngularJS" scheme="https://sabrinaluo.github.io/tech/categories/AngularJS/"/>
    
    
      <category term="interpolation" scheme="https://sabrinaluo.github.io/tech/tags/interpolation/"/>
    
      <category term="pluralization" scheme="https://sabrinaluo.github.io/tech/tags/pluralization/"/>
    
      <category term="localization" scheme="https://sabrinaluo.github.io/tech/tags/localization/"/>
    
      <category term="ç¿»è¯‘" scheme="https://sabrinaluo.github.io/tech/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="æœ¬åœ°åŒ–" scheme="https://sabrinaluo.github.io/tech/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/"/>
    
      <category term="å•å¤æ•°" scheme="https://sabrinaluo.github.io/tech/tags/%E5%8D%95%E5%A4%8D%E6%95%B0/"/>
    
      <category term="ng-pluralize" scheme="https://sabrinaluo.github.io/tech/tags/ng-pluralize/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç‚¹æ„Ÿæ‚Ÿ</title>
    <link href="https://sabrinaluo.github.io/tech/2017/05/11/thoughts/"/>
    <id>https://sabrinaluo.github.io/tech/2017/05/11/thoughts/</id>
    <published>2017-05-11T03:21:54.000Z</published>
    <updated>2018-11-30T10:43:28.951Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢JSè¿™ç§è„‘æ®‹è¯­è¨€çš„ï¼Œå¹¶ä¸”ä¹Ÿä¸æƒ³å°†å…¶ä»–è¯­è¨€ç”¨åœ¨å·¥ä½œä¸­ï¼Œæ¯”å¦‚PHPã€PYTHONã€JAVAä¹‹ç±»çš„ã€‚</p><p>å…¶å®åˆ°æœ€åè‚¯å®šæ‰€æœ‰è¯­è¨€éƒ½æ˜¯ç›¸é€šçš„ï¼Œæ¯”å¦‚æ¯ç§è¯­è¨€éƒ½ä¼šæœ‰è‡ªå·±çš„<code>lodash</code>ã€<code>npm</code>ã€<code>package.json</code>ï¼Œæ‰€ä»¥å½“ç²¾é€šä¸€ç§è¯­è¨€ä¹‹åæ˜¯èƒ½å¯¹å…¶ä»–è¯­è¨€çš„äººæŒ‡ç‚¹æ±Ÿå±±çš„ã€‚æˆ‘ä¹‹å‰çš„ä¸€ä¸ªåŒäº‹æ–°æ‰‹å†™pythonï¼Œåº“ä¹Ÿä¸ä¼šç”¨ä¹Ÿä¸çŸ¥é“å»å“ªé‡Œä¸‹è½½ï¼Œæˆ‘å¯¹Pythonçš„è®¤è¯†åªé™äºè¿™æ˜¯ä¸€ä¸ªç”¨ç¼©è¿›æ¥æ§åˆ¶å—çš„è¯­è¨€ï¼Œä½†æœäº†ä¸€ä¸‹æœç„¶æœ‰<code>pip</code>ï¼Œ<code>requirements.txt</code></p><p>ä¸¾è¿™ä¸ªä¾‹å­æ˜¯å› ä¸ºæˆ‘è®¤ä¸ºï¼Œç”¨ä¸€ä¸ªè¯­è¨€ç”¨å¾—ç²¾é€šæ¯”ä¼šç”¨å¾ˆå¤šè¯­è¨€éƒ½æ˜¯ç•¥çŸ¥ä¸€äºŒæ›´é‡è¦ã€‚</p><p>å‰å‡ å¤©æˆ‘æœ‰ä¸€ä¸ªå†™PHPçš„åŒäº‹ï¼Œè¢«è¿«å»å†™nodeJSï¼Œç„¶åé‡åˆ°ä¸€ä¸ªsoapçš„é—®é¢˜ï¼Œè°ƒäº†ä¸€å¤©éƒ½æ²¡è°ƒå‡ºæ¥ï¼Œæ‰”ç»™æˆ‘å¸®å¿™ã€‚é—®é¢˜å¤§æ¦‚æ˜¯ï¼Œç”¨äº†ä¸€ä¸ªå«<code>node-soap</code>çš„åº“ï¼Œå‘è¯·æ±‚çš„æ—¶å€™å¯¹æ–¹æœåŠ¡å™¨æ€»æ˜¯è¿”å›<code>ERROR Invalid XML</code>ï¼Œè€Œç”¨PostmanæŠŠè¯·æ±‚çš„bodyå‘å‡ºå»ï¼Œå´èƒ½å¾—åˆ°æˆåŠŸçš„è¿”å›ç»“æœï¼ŒåŒäº‹æ€€ç–‘è¿™ä¸ªç¬¬ä¸‰æ–¹åº“æœ‰é—®é¢˜ã€‚</p><p>æˆ‘è™½ç„¶å¯¹SOAPä¸€çªä¸é€šï¼Œä½†æˆ‘æ‡‚JSï¼Œè§‰å¾—è¿™ä¸ªé—®é¢˜åº”è¯¥èƒ½æ‰¾å‡ºåŸå› ã€‚æ ¹æ®ä»¥å‰çš„ç»éªŒï¼Œæˆ‘è§‰å¾—ä¸å¤ªå¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹åº“çš„é—®é¢˜ï¼Œå› ä¸ºæ¯æ¬¡åªä½¿ç”¨åŸºæœ¬æ–¹æ³•å´æœ‰é—®é¢˜æ—¶æˆ‘debugåˆ°åˆ«äººåº“é‡Œå»çœ‹æ˜ç™½åŸç†ä¹‹åï¼Œç»å¤§å¤šæ•°æ—¶å€™éƒ½ä¼šå‘ç°æ˜¯è‡ªå·±çš„é—®é¢˜ã€‚æ›´ä½•å†µè¿™æ˜¯ä¸€ä¸ª1500+ starçš„åº“ã€‚</p><p>é¦–å…ˆæˆ‘æƒ³åˆ°çš„æ˜¯ï¼Œè‚‰çœ¼çœ‹ä¸Šå»åŒæ ·çš„bodyï¼Œä¸ºä»€ä¹ˆå¾—åˆ°ä¸åŒçš„ç»“æœï¼Ÿå¾ˆå¯èƒ½æ˜¯encodingçš„é—®é¢˜ã€‚å•æ­¥è°ƒè¯•åå‘ç°åº“é‡Œå¹¶æ²¡æœ‰ä»»ä½•encodingçš„åŠ¨ä½œï¼Œæ‰€ä»¥æ’é™¤è¯¥é—®é¢˜ã€‚</p><p>åæ¥æˆ‘æ³¨æ„åˆ°ï¼Œç¬¬ä¸‰æ–¹åº“åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™å‘äº†å¾ˆå¤šheaderï¼ŒæŠŠè¿™äº›headerä¹Ÿå†™è¿›postmanä¹‹åï¼Œæœç„¶è¿”å›äº†åŒæ ·çš„é”™è¯¯ã€‚è€Œä¹‹å‰åŒäº‹æµ‹è¯•æ—¶ï¼Œpostmané‡Œheaderéƒ½æ˜¯é»˜è®¤å€¼ã€‚æ‰€ä»¥å¯ä»¥è‚¯å®šé—®é¢˜å‡ºåœ¨headerä¸Šã€‚</p><p>åˆ é™¤äº†<code>SOAPAction</code>è¿™ä¸ªheaderä¹‹åï¼Œè¯·æ±‚å°±æˆåŠŸäº†ã€‚å†å…·ä½“åˆ°åº“é‡Œå»æœè¿™ä¸ª<code>SOAPAction</code>ï¼Œå‘ç°æœ‰ä¸€æ®µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!this.wsdl.options.forceSoap12Headers) &#123;</span><br><span class="line">  headers.SOAPAction = &apos;&quot;&apos; + soapAction + &apos;&quot;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çŒœæµ‹åº”è¯¥æ˜¯æœ‰ä¸€ä¸ª<code>forceSoap12Headers</code>ç›¸å…³çš„è®¾ç½®ï¼Œå†å»æ–‡æ¡£é‡Œä¸€æœï¼Œæœç„¶æœ‰ï¼ŒæŠŠè¿™ä¸ªè®¾ç½®ä¸º<code>true</code>ä¹‹åï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚å‰åå¤§æ¦‚èŠ±äº†ä¸€å°æ—¶ã€‚</p><p>å†™è¿™ç¯‡æ˜¯æƒ³è¯´ï¼Œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œé¦–å…ˆä½ å¾—å­¦ä¼šæ€ä¹ˆç£¨åˆ€ï¼Œç„¶åå¾—å­¦ä¼šæ€ä¹ˆç æŸ´ï¼Œè¿™æ ·æ‰èƒ½ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ã€‚å¯¹äºä¸€ä¸ªå®Œå…¨ä¸ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œå› ä¸ºæŒæ¡äº†æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œæ‰èƒ½ä¸‡ç‰©å½’ä¸€çš„å»è§£å†³ã€‚</p><p>æˆ‘åå¯¹å¯¹äºä¸ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¸€ä¸Šæ¥å°±é€šçœ‹æ–‡æ¡£ã€‚åœ¨å·¥ä½œå½“ä¸­ï¼Œæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´è®©ä½ ä»å¤´å»çœ‹æ–‡æ¡£ï¼ŒæŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¼„æ˜ç™½ä¹‹åæ‰å¼€å§‹å·¥ä½œçš„ã€‚<br>æ–‡æ¡£å¯¹äºæ²¡æœ‰ç»éªŒçš„äººæ¥è¯´çœ‹quick startéƒ¨åˆ†å°±å¤Ÿï¼Œå› ä¸ºå°±ç®—çœ‹åˆ°<code>forceSoap12Headers</code>ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚<br>å¯¹äºæœ‰ç»éªŒçš„äººï¼Œæ‰ä¼šéœ€è¦åœ¨ä¸€å¼€å§‹å°±å»ç»†çœ‹<code>forceSoap12Headers</code>çš„è®¾ç½®</p><p>æˆ‘ä¹Ÿåå¯¹æŠŠå†™ä¸€ç§è¯­è¨€çš„å‘˜å·¥å¼ºè¡Œå®‰æ’æš‚æ—¶å†™å¦ä¸€ç§è¯­è¨€ã€‚é™¤éæ˜¯æ‰“ç®—é•¿æœŸè½¬å‘å¦ä¸€ç§è¯­è¨€ï¼Œå¦åˆ™ä¸€ä¸¤å¤©åšå®Œä¸€ä¸ªtaskï¼Œæ ¹æœ¬ä¸ä¼šå¯¹æ–°çš„è¯­è¨€æœ‰ç³»ç»Ÿæ€§çš„ç ”ç©¶ï¼Œç”šè‡³éƒ½ä¸çŸ¥é“debugçš„å·¥å…·æ€ä¹ˆç”¨ï¼Œå¯¹ä¸ªäººçš„å‘å±•æ˜¯æ²¡ä»€ä¹ˆå®è´¨æ€§çš„å¸®åŠ©çš„ï¼Œè€Œä¸”å†™å‡ºæ¥çš„ä»£ç å¤§éƒ½åªèƒ½è¾¾åˆ°â€œèƒ½ç”¨â€çš„ç¨‹åº¦ï¼Œå¯ç»´æŠ¤æ€§å’Œç¨³å®šæ€§éƒ½ä¸ä¸€å®šä¼šå¥½ï¼Œé•¿è¿œæ¥çœ‹å¯¹å…¬å¸ä¹Ÿæ˜¯ä¸å¤ªå¥½çš„ã€‚ä¸è¿‡åˆ›ä¸šå…¬å¸å˜›ï¼ŒåŠå¹´ä¸€æ¬¡revampï¼Œå¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜â€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢JSè¿™ç§è„‘æ®‹è¯­è¨€çš„ï¼Œå¹¶ä¸”ä¹Ÿä¸æƒ³å°†å…¶ä»–è¯­è¨€ç”¨åœ¨å·¥ä½œä¸­ï¼Œæ¯”å¦‚PHPã€PYTHONã€JAVAä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åˆ°æœ€åè‚¯å®šæ‰€æœ‰è¯­è¨€éƒ½æ˜¯ç›¸é€šçš„ï¼Œæ¯”å¦‚æ¯ç§è¯­è¨€éƒ½ä¼šæœ‰è‡ªå·±çš„&lt;code&gt;lodash&lt;/code&gt;ã€&lt;code&gt;npm&lt;/code&gt;ã€&lt;co
      
    
    </summary>
    
      <category term="å¿ƒå¾—ä½“ä¼š" scheme="https://sabrinaluo.github.io/tech/categories/%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A/"/>
    
    
      <category term="forceSoap12Headers" scheme="https://sabrinaluo.github.io/tech/tags/forceSoap12Headers/"/>
    
      <category term="soap" scheme="https://sabrinaluo.github.io/tech/tags/soap/"/>
    
  </entry>
  
  <entry>
    <title>openvpnåœ¨macä¸‹çš„ä¸€ç‚¹é—®é¢˜</title>
    <link href="https://sabrinaluo.github.io/tech/2017/01/03/vpn/"/>
    <id>https://sabrinaluo.github.io/tech/2017/01/03/vpn/</id>
    <published>2017-01-03T06:42:57.000Z</published>
    <updated>2018-11-30T10:43:28.951Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ‰å‘ç°è‡ªä»ä¹°äº†æ–°Macä¹‹åæ ¹æœ¬æ²¡æœ‰ç”¨æ–°ç”µè„‘å†™è¿‡ä»€ä¹ˆä¸œè¥¿ï¼Œå¯¼è‡´æˆ‘ä»Šå¤©å±…ç„¶è¿˜è¦<code>npm install</code>æ‰èƒ½è·‘èµ·æ¥HEXOï¼ŒçœŸæ˜¯ä¸çŸ¥é“æœ‰å¤šæ‡’ã€‚</p><p>ä½œä¸ºä¸€ä¸ªåœ¨å¢™å¤–å±…ä½äº†å¥½å‡ å¹´çš„äººï¼ŒåªçŸ¥é“ç”¨Unblock youkuç¿»å¢™è¿›å¢™å†…å»çœ‹è§†é¢‘ï¼Œæ ¹æœ¬ä¸çŸ¥é“åœ¨å¢™å†…æ€ä¹ˆç¿»å‡ºæ¥ã€‚æ—©äº›å¹´çš„æ—¶å€™ï¼Œç¿»åˆ°å¢™å¤–æ˜¯å¾ˆç®€å•çš„ï¼Œå…è´¹çš„è½¯ä»¶ä¹Ÿå¾ˆå¤šï¼Œå¥½åƒä¹Ÿä¸ç”¨VPNå•¥ï¼Œhostæ–‡ä»¶é‡ŒåŠ å‡ ä¸ªIPå•¥çš„å°±èƒ½ä¸ŠGoogleäº†ï¼Œç°åœ¨çœŸæ˜¯é—¨æ§›è¶Šæ¥è¶Šé«˜äº†å‘¢â€¦â€¦å›ä¸€è¶Ÿå†…åœ°80%æˆ‘å¹³æ—¶ä¸Šçš„ç½‘ç«™éƒ½ä¸Šä¸å»ï¼Œå…¬å¸çš„ç½‘ç«™ä¹Ÿä¸Šä¸å»ï¼Œåæ­£æ ¹æœ¬æ²¡æ³•work from homeï¼Œå¹¸å¥½æˆ‘æ˜¯åœ¨è¿‡å¹´å‰å‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼Œç°åœ¨è¿˜æ¥å¾—åŠè§£å†³ä¸€ä¸‹ï¼Œä¸ç„¶å°±å‘µå‘µå‘µå‘µâ€¦â€¦</p><p>ä»¥å‰å¥½åƒä¹Ÿç”¨è¿‡<code>.ovpn</code>æ–‡ä»¶ï¼Œç”¨å‘½ä»¤è¡Œè·‘ä¸€ä¸‹ï¼Œå°±è¿ä¸Šäº†vpnï¼Œç°åœ¨å·²ç»ä¸è®°å¾—æ˜¯æ€ä¹ˆç”¨äº†çš„â€¦ä»Šå¤©å¿½ç„¶å‘ç°å…¬å¸å±…ç„¶æœ‰openvpnï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘åœ¨å†…åœ°æ²¡æ³•å·¥ä½œäº†ï¼Œå¯¹çš„ï¼Œæˆ‘çš„å¿ƒé‡Œåªæœ‰å·¥ä½œï¼:P</p><p>é€šå¸¸å…¬å¸æä¾›çš„openvpnæœåŠ¡éƒ½ä¼šæœ‰ä¸€ä¸ªportalï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸ªç½‘å€ï¼Œè¿›å…¥ä¹‹åéœ€è¦ç™»å½•å…¬å¸æä¾›çš„è´¦å·ï¼Œç„¶åä¸‹è½½ç›¸åº”çš„å®¢æˆ·ç«¯ï¼Œä¹‹ååŸºæœ¬ä¸Šæ˜¯æ— è„‘ä½¿ç”¨â€¦â€¦åæ­£æˆ‘åˆ°ç°åœ¨ä¹Ÿä¸çŸ¥é“æˆ‘ç”µè„‘ä¸Šçš„credentialsæ˜¯æ€ä¹ˆç”Ÿæˆçš„ã€‚</p><p>ç„¶è€Œé«˜è´µçš„macæ€»æ˜¯æœ‰å„ç§å„æ ·çš„é—®é¢˜ï¼Œè£…å¥½openvpn connectä¹‹åå±…ç„¶è¿æ¥é”™è¯¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fails: Error running jsondialog</span><br></pre></td></tr></table></figure></p><p>æŸ¥äº†ä¸€ä¸‹è¿™æ˜¯å› ä¸ºmacä¸‹çš„ä¸€ä¸ªä»€ä¹ˆ<code>csrutil</code>ä¿æŠ¤æœºåˆ¶å‡ºäºenableçŠ¶æ€ï¼Œ<code>csrutil status</code>å¯æŸ¥çœ‹ã€‚è€Œdisableè¿™ä¸ªä¸œè¥¿éœ€è¦åœ¨recovery modeä¸‹è·‘å‘½ä»¤æ‰è¡Œâ€¦â€¦çœŸæ˜¯éº»çƒ¦å‘¢ã€‚</p><ul><li>é‡å¯ç”µè„‘ï¼ŒæŒ‰ä½cmd+ré”®è¿›å…¥recovery mode</li><li>å¼€å¤´ä¼šè®©é€‰ä¸ªè¯­è¨€ï¼Œé€‰å®Œä¹‹åä¼šå‡ºæ¥ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé‡Œé¢æœ‰å¥½å¤šé€‰é¡¹ï¼Œä¸€ä¸ªéƒ½ä¸è¦é€‰ï¼</li><li>åœ¨é¡¶éƒ¨çš„å·¥å…·æ¡ä¸­ç‚¹å‡»utilitiesï¼Œç„¶åé€‰terminal</li><li>åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­æ‰§è¡Œ<code>csrutil disable; reboot</code></li><li>é‡å¯ä¹‹åå°±èƒ½è¿æ¥ä¸Šäº†</li></ul><p>å‚è€ƒï¼š<br>[1]<a href="https://forums.openvpn.net/viewtopic.php?t=19879" target="_blank" rel="noopener">https://forums.openvpn.net/viewtopic.php?t=19879</a><br>[2]<a href="http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/" target="_blank" rel="noopener">http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æ‰å‘ç°è‡ªä»ä¹°äº†æ–°Macä¹‹åæ ¹æœ¬æ²¡æœ‰ç”¨æ–°ç”µè„‘å†™è¿‡ä»€ä¹ˆä¸œè¥¿ï¼Œå¯¼è‡´æˆ‘ä»Šå¤©å±…ç„¶è¿˜è¦&lt;code&gt;npm install&lt;/code&gt;æ‰èƒ½è·‘èµ·æ¥HEXOï¼ŒçœŸæ˜¯ä¸çŸ¥é“æœ‰å¤šæ‡’ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªåœ¨å¢™å¤–å±…ä½äº†å¥½å‡ å¹´çš„äººï¼ŒåªçŸ¥é“ç”¨Unblock youkuç¿»å¢™è¿›å¢™å†…å»çœ‹è§†é¢‘ï¼Œæ ¹æœ¬ä¸çŸ¥
      
    
    </summary>
    
    
      <category term="VPN" scheme="https://sabrinaluo.github.io/tech/tags/VPN/"/>
    
      <category term="openvpn" scheme="https://sabrinaluo.github.io/tech/tags/openvpn/"/>
    
      <category term="ç¿»å¢™" scheme="https://sabrinaluo.github.io/tech/tags/%E7%BF%BB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›jså°æŠ€å·§</title>
    <link href="https://sabrinaluo.github.io/tech/2016/10/19/some-js-tricks/"/>
    <id>https://sabrinaluo.github.io/tech/2016/10/19/some-js-tricks/</id>
    <published>2016-10-19T07:08:33.000Z</published>
    <updated>2018-11-30T10:43:28.951Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥ä¸ºè¿™ç¯‡å·²ç»å‘è¿‡äº†ï¼Œç»“æœå‰ä¸¤å¤©æœçš„æ—¶å€™å‘ç°æœä¸åˆ°ã€‚ä¸€ç›´æ‰”åœ¨è‰ç¨¿é‡Œï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹ä¹‹å‰å’Œæœ€è¿‘å­¦åˆ°çš„ä¸€äº›JSå°æŠ€å·§</p><h3 id="åˆ©ç”¨ä½è¿ç®—å–æ•´"><a href="#åˆ©ç”¨ä½è¿ç®—å–æ•´" class="headerlink" title="åˆ©ç”¨ä½è¿ç®—å–æ•´"></a>åˆ©ç”¨ä½è¿ç®—å–æ•´</h3><p>åˆ©ç”¨ä½è¿ç®—ï¼Œä¸ã€æˆ–ã€å¼‚æˆ–ã€å·¦å³ç§»ä½ï¼Œ<code>&amp;</code> <code>|</code> <code>^</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code> <code>&lt;&lt;</code> ï¼Œèˆå»å°æ•°ç‚¹åçš„æ•°å­—<a href="http://www.cnblogs.com/kkun/archive/2012/01/30/2332309.html" target="_blank" rel="noopener">^1</a>ï¼Œ<a href="http://jsperf.com/coercion-vs-casting/3" target="_blank" rel="noopener">jsPerf</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = 6.54321;</span><br><span class="line">console.log(a | 0); //6</span><br><span class="line">console.log(a &amp; 0); //6</span><br></pre></td></tr></table></figure></p><blockquote><p>æŒ‰ä½<strong>éé</strong>è¿ç®—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç”¨<strong>å‘»åŸå·</strong>æŠŠä»£ç å†™æˆè¿™æ ·<code>~~a</code></p></blockquote><h3 id="å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"><a href="#å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—" class="headerlink" title="+ å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—"></a>+ å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</h3><p>åˆ©ç”¨åŠ å· <code>+</code> å°†æ•°å­—å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ç±»å‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &quot;56789&quot;;</span><br><span class="line">var b = +a;</span><br><span class="line">console.log(typeof b); //number</span><br><span class="line">console.log(b); //56789</span><br></pre></td></tr></table></figure></p><blockquote><ul><li>åªèƒ½æ˜¯åè¿›åˆ¶</li><li>å¦‚æœ<code>a</code>æ˜¯éæ•°å­—å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿”å›<code>NaN</code></li></ul></blockquote><h3 id="å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹"><a href="#å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹" class="headerlink" title="!! å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹"></a>!! å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒæ—ç±»å‹</h3><p>åˆ©ç”¨<code>!!</code>å°†å˜é‡ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸º<code>boolean</code>ç±»å‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a=123;</span><br><span class="line">typeof a; //nmuber</span><br><span class="line">typeof !!a; //boolean</span><br></pre></td></tr></table></figure><h3 id="é¿å…can-not-read-property-â€˜xxxâ€™-of-nullçš„å°æŠ€å·§"><a href="#é¿å…can-not-read-property-â€˜xxxâ€™-of-nullçš„å°æŠ€å·§" class="headerlink" title="é¿å…can not read property â€˜xxxâ€™ of nullçš„å°æŠ€å·§"></a>é¿å…<code>can not read property â€˜xxxâ€™ of null</code>çš„å°æŠ€å·§</h3><p>ç»å¸¸ä¼šé‡åˆ°çš„ä¸€ä¸ªæƒ…å†µæ˜¯ä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™<code>can not read property &#39;c&#39; of null</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(a.b.c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥å‰è‡ªå·±çš„å†™æ³•ä»¥åŠç»å¸¸è§åˆ°çš„å†™æ³•æ˜¯è¿™æ ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(a &amp;&amp; a.b &amp;&amp; a.b.c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªé€¼æ ¼å¾ˆé«˜çš„å†™æ³•ï¼Œä¸è¿‡æˆ‘è§‰å¾—æ‹¬å·å¤ªå¤šäº†ï¼Œå®¹æ˜“å†™é”™ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰ä¸Šé¢çš„é‚£ç§å†™æ³•ç®€å•ã€‚ä¸è¿‡è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹ï¼Œä»¥å…ä»¥åè§åˆ°ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(((a||&#123;&#125;).b||&#123;&#125;).c === 1)&#123;</span><br><span class="line">    //do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®é»˜è®¤å€¼"><a href="#è®¾ç½®é»˜è®¤å€¼" class="headerlink" title="|| è®¾ç½®é»˜è®¤å€¼"></a>|| è®¾ç½®é»˜è®¤å€¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function abc(a, b)&#123;</span><br><span class="line">    a = a || 1; </span><br><span class="line">    b = b || 2;</span><br><span class="line"></span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abc(); //3</span><br><span class="line">abc(5); //7</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€äº›æƒ…å†µä¸‹å‡½æ•°ä¸­éœ€è¦è®¾ç½®é»˜è®¤å€¼ï¼Œç»å¸¸çœ‹åˆ°æœ‰äººçš„å†™æ³•æ˜¯<code>typeof</code>å…ˆåˆ¤æ–­è¿™ä¸ªå‚æ•°æ˜¯ä¸æ˜¯<code>undefined</code>ç„¶åå†èµ‹å€¼ï¼Œè¿™ç§å†™æ³•å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†â€¦â€¦ä¸Šé¢çš„æ˜¯æ‡’äººå†™æ³•</p><p>æ„Ÿè§‰å–„ç”¨<code>||</code>å’Œ<code>&amp;&amp;</code>è¿˜æ˜¯èƒ½æå‡ºå¾ˆå¤šé»‘ç§‘æŠ€çš„ã€‚</p><p>ä»¥ä¸Šï¼Œæ˜¯ä¸ºæ‰“é…±æ²¹åšå®¢ä¸€ç¯‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€ç›´ä»¥ä¸ºè¿™ç¯‡å·²ç»å‘è¿‡äº†ï¼Œç»“æœå‰ä¸¤å¤©æœçš„æ—¶å€™å‘ç°æœä¸åˆ°ã€‚ä¸€ç›´æ‰”åœ¨è‰ç¨¿é‡Œï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹ä¹‹å‰å’Œæœ€è¿‘å­¦åˆ°çš„ä¸€äº›JSå°æŠ€å·§&lt;/p&gt;
&lt;h3 id=&quot;åˆ©ç”¨ä½è¿ç®—å–æ•´&quot;&gt;&lt;a href=&quot;#åˆ©ç”¨ä½è¿ç®—å–æ•´&quot; class=&quot;headerlink&quot; title=&quot;åˆ©ç”¨ä½è¿ç®—å–æ•´&quot;&gt;&lt;/a&gt;åˆ©
      
    
    </summary>
    
      <category term="JS" scheme="https://sabrinaluo.github.io/tech/categories/JS/"/>
    
    
      <category term="js" scheme="https://sabrinaluo.github.io/tech/tags/js/"/>
    
      <category term="tricks" scheme="https://sabrinaluo.github.io/tech/tags/tricks/"/>
    
      <category term="jså°æŠ€å·§" scheme="https://sabrinaluo.github.io/tech/tags/js%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
</feed>
